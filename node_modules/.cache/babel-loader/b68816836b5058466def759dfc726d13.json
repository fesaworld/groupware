{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/Form/FileSelector.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/Form/FileSelector.vue","mtime":1673491775263},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubGFzdC1pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdGFydHMtd2l0aCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2pkcy9Eb2N1bWVudHMvZGlza29taW5mby9qZHMvZGlnaXRlYW0vZ3JvdXB3YXJlL2dyb3Vwd2FyZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9qZHMvRG9jdW1lbnRzL2Rpc2tvbWluZm8vamRzL2RpZ2l0ZWFtL2dyb3Vwd2FyZS9ncm91cHdhcmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBwcm9wcyB9IGZyb20gJy4vaW5wdXQtbWl4aW4nOwpleHBvcnQgZGVmYXVsdCB7CiAgaW5oZXJpdEF0dHJzOiBmYWxzZSwKICBwcm9wczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwcm9wcyksIHt9LCB7CiAgICB1cmw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgZmlsZTogewogICAgICB0eXBlOiBGaWxlLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9CiAgfSksCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1GaWxlOiBudWxsLAogICAgICBtVXJsOiBudWxsLAogICAgICBpc1ZhbGlkOiBudWxsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzVmFsaWRhdGlvbkRpc2FibGVkOiBmdW5jdGlvbiBpc1ZhbGlkYXRpb25EaXNhYmxlZCgpIHsKICAgICAgdmFyIG1VcmwgPSB0aGlzLm1Vcmw7CgogICAgICBpZiAodHlwZW9mIG1VcmwgIT09ICdzdHJpbmcnIHx8ICFtVXJsLmxlbmd0aCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSAvLyBpZiBtVXJsIHN0YXJ0cyB3aXRoIHRoZXNlIHN0cmluZywgYXNzdW1lIGZpbGUgZWl0aGVyIGhhcyBhbHJlYWR5IGJlZW4gdXBsb2FkZWQgb3IgY2hhbmdlZAoKCiAgICAgIHJldHVybiBbJ2h0dHAnLCAnYmxvYjonXS5zb21lKGZ1bmN0aW9uIChzdHIpIHsKICAgICAgICByZXR1cm4gbVVybC5zdGFydHNXaXRoKHN0cik7CiAgICAgIH0pOwogICAgfSwKICAgIGZpbGVuYW1lOiBmdW5jdGlvbiBmaWxlbmFtZSgpIHsKICAgICAgaWYgKHRoaXMubUZpbGUgaW5zdGFuY2VvZiBGaWxlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMubUZpbGUubmFtZTsKICAgICAgfQoKICAgICAgaWYgKHR5cGVvZiB0aGlzLnVybCA9PT0gJ3N0cmluZycgJiYgdGhpcy51cmwuc3RhcnRzV2l0aCgnaHR0cCcpKSB7CiAgICAgICAgdmFyIGkgPSB0aGlzLnVybC5sYXN0SW5kZXhPZignZG9jdW1lbnQvJyk7CiAgICAgICAgcmV0dXJuIHRoaXMudXJsLnN1YnN0cmluZyhpKTsKICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgdXJsOiB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2KSB7CiAgICAgICAgdGhpcy5tVXJsID0gdjsKICAgICAgfQogICAgfSwKICAgIGZpbGU6IHsKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHYpIHsKICAgICAgICB0aGlzLm1GaWxlID0gdjsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgb25QcmV2aWV3OiBmdW5jdGlvbiBvblByZXZpZXcoKSB7CiAgICAgIGlmICh0aGlzLmlzVmFsaWQpIHsKICAgICAgICB0aGlzLiRlbWl0KCdwcmV2aWV3Jyk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5tVXJsKSB7CiAgICAgICAgd2luZG93Lm9wZW4odGhpcy5tVXJsLCAnX2JsYW5rJyk7CiAgICAgIH0KICAgIH0sCiAgICByZXNldElucHV0RWxlbWVudDogZnVuY3Rpb24gcmVzZXRJbnB1dEVsZW1lbnQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy4kcmVmcy5pbnB1dCkgewogICAgICAgIHRoaXMuJHJlZnMudmFsaWRhdG9yLnJlc2V0KCk7CiAgICAgICAgdGhpcy4kcmVmcy5pbnB1dC50eXBlID0gJyc7CiAgICAgICAgdGhpcy4kcmVmcy5pbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnJyk7CiAgICAgICAgcmV0dXJuIHRoaXMuJG5leHRUaWNrKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy4kcmVmcy5pbnB1dC50eXBlID0gJ2ZpbGUnOwoKICAgICAgICAgIF90aGlzLiRyZWZzLmlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICdmaWxlJyk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTsKICAgIH0sCiAgICBvbkNob29zZUZpbGU6IGZ1bmN0aW9uIG9uQ2hvb3NlRmlsZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmlzVmFsaWQgPSBudWxsOwogICAgICB0aGlzLm1GaWxlID0gbnVsbDsKICAgICAgdGhpcy5tVXJsID0gbnVsbDsKICAgICAgdGhpcy5yZXNldElucHV0RWxlbWVudCgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kcmVmcy5pbnB1dC5jbGljaygpOwogICAgICB9KTsKICAgIH0sCiAgICBvblJlbW92ZUZpbGU6IGZ1bmN0aW9uIG9uUmVtb3ZlRmlsZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLnJlc2V0SW5wdXRFbGVtZW50KCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLmlzVmFsaWQgPSBudWxsOwogICAgICAgIF90aGlzMy5tRmlsZSA9IG51bGw7CiAgICAgICAgX3RoaXMzLm1VcmwgPSBudWxsOwoKICAgICAgICBfdGhpczMuZW1pdENoYW5nZShudWxsLCBudWxsKTsKCiAgICAgICAgcmV0dXJuIF90aGlzMy4kbmV4dFRpY2soKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLiRyZWZzLnZhbGlkYXRvci52YWxpZGF0ZSgpOwogICAgICB9KTsKICAgIH0sCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGZpbGUsIF95aWVsZCRfdGhpczQkJHJlZnMkdiwgdmFsaWQ7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghZS50YXJnZXQuZmlsZXMpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBmaWxlID0gZS50YXJnZXQuZmlsZXNbMF0gfHwgbnVsbDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC4kcmVmcy52YWxpZGF0b3Iuc3luY1ZhbHVlKGZpbGUpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuJHJlZnMudmFsaWRhdG9yLnZhbGlkYXRlKCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpczQkJHJlZnMkdiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICB2YWxpZCA9IF95aWVsZCRfdGhpczQkJHJlZnMkdi52YWxpZDsKICAgICAgICAgICAgICAgIF90aGlzNC5pc1ZhbGlkID0gdmFsaWQ7CiAgICAgICAgICAgICAgICBfdGhpczQubUZpbGUgPSBmaWxlOwogICAgICAgICAgICAgICAgX3RoaXM0Lm1VcmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChfdGhpczQubUZpbGUpOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczQuaXNWYWxpZCkgewogICAgICAgICAgICAgICAgICBfdGhpczQuZW1pdENoYW5nZShfdGhpczQubVVybCwgX3RoaXM0Lm1GaWxlKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC5lbWl0Q2hhbmdlKG51bGwsIG51bGwpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGVtaXRDaGFuZ2U6IGZ1bmN0aW9uIGVtaXRDaGFuZ2UodXJsLCBmaWxlKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHVybCwgZmlsZSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["FileSelector.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <ValidationProvider\n    :rules=\"rules\"\n    :custom-messages=\"customMessages\"\n    :disabled=\"isValidationDisabled\"\n    #default=\"{failed, errors}\"\n    tag=\"div\"\n    ref=\"validator\"\n  >\n    <div :class=\"{'form-input__file mb-2': true, 'is-invalid': failed}\">\n      <a\n        href=\"javascript:void(0)\"\n        target=\"_blank\"\n        @click.prevent=\"onPreview\"\n      >\n        <span>\n          {{ filename || $attrs.placeholder }}\n        </span>\n      </a>\n      <button\n        v-if=\"!disabled\"\n        :disabled=\"disabled\"\n        @click=\"onChooseFile\"\n      >\n        <slot name=\"choose-file-button-text\">\n          Pilih\n        </slot>\n      </button>\n    </div>\n    <input\n      v-show=\"false\"\n      ref=\"input\"\n      :name=\"name\"\n      type=\"file\"\n      :accept=\"$attrs.accept\"\n      :multiple=\"false\"\n      v-bind=\"$attrs\"\n      @change=\"onChange($event)\"\n    >\n    <p\n      v-if=\"errors.length\"\n      class=\"form-input__error-hint\"\n    >\n      <slot name=\"error\">\n        {{errors[0]}}\n      </slot>\n    </p>\n  </ValidationProvider>\n</template>\n\n<script>\nimport { props } from './input-mixin'\n\nexport default {\n  inheritAttrs: false,\n  props: {\n    ...props,\n    url: {\n      type: String,\n      default: null\n    },\n    file: {\n      type: File,\n      default: null\n    }\n  },\n  data () {\n    return {\n      mFile: null,\n      mUrl: null,\n      isValid: null\n    }\n  },\n  computed: {\n    isValidationDisabled () {\n      const { mUrl } = this\n      if (typeof mUrl !== 'string' || !mUrl.length) {\n        return false\n      }\n      // if mUrl starts with these string, assume file either has already been uploaded or changed\n      return ['http', 'blob:'].some((str) => mUrl.startsWith(str))\n    },\n    filename () {\n      if (this.mFile instanceof File) {\n        return this.mFile.name\n      }\n      if (typeof this.url === 'string' && this.url.startsWith('http')) {\n        const i = this.url.lastIndexOf('document/')\n        return this.url.substring(i)\n      }\n      return null\n    }\n  },\n  watch: {\n    url: {\n      immediate: true,\n      handler (v) {\n        this.mUrl = v\n      }\n    },\n    file: {\n      immediate: true,\n      handler (v) {\n        this.mFile = v\n      }\n    }\n  },\n  methods: {\n    onPreview () {\n      if (this.isValid) {\n        this.$emit('preview')\n      } else if (this.mUrl) {\n        window.open(this.mUrl, '_blank')\n      }\n    },\n    resetInputElement () {\n      if (this.$refs.input) {\n        this.$refs.validator.reset()\n        this.$refs.input.type = ''\n        this.$refs.input.setAttribute('type', '')\n        return this.$nextTick()\n          .then(() => {\n            this.$refs.input.type = 'file'\n            this.$refs.input.setAttribute('type', 'file')\n          })\n      }\n      return Promise.resolve()\n    },\n    onChooseFile () {\n      this.isValid = null\n      this.mFile = null\n      this.mUrl = null\n      this.resetInputElement()\n        .then(() => {\n          this.$refs.input.click()\n        })\n    },\n    onRemoveFile () {\n      this.resetInputElement()\n        .then(() => {\n          this.isValid = null\n          this.mFile = null\n          this.mUrl = null\n          this.emitChange(null, null)\n          return this.$nextTick()\n        }).then(() => {\n          this.$refs.validator.validate()\n        })\n    },\n    async onChange (e) {\n      if (e.target.files) {\n        const file = e.target.files[0] || null\n        await this.$refs.validator.syncValue(file)\n        const { valid } = await this.$refs.validator.validate()\n        this.isValid = valid\n        this.mFile = file\n        this.mUrl = window.URL.createObjectURL(this.mFile)\n        if (this.isValid) {\n          this.emitChange(this.mUrl, this.mFile)\n        } else {\n          this.emitChange(null, null)\n        }\n      }\n    },\n    emitChange (url, file) {\n      this.$emit('change', url, file)\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/components/Form"}]}