{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/babel-loader/lib/index.js!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/components/Form/FileSelector.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/components/Form/FileSelector.vue","mtime":1673491775263},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubGFzdC1pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdGFydHMtd2l0aCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2pkcy9Eb2N1bWVudHMvZGlza29taW5mby9qZHMvZGlnaXRlYW0vZ3JvdXB3YXJlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2pkcy9Eb2N1bWVudHMvZGlza29taW5mby9qZHMvZGlnaXRlYW0vZ3JvdXB3YXJlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgcHJvcHMgfSBmcm9tICcuL2lucHV0LW1peGluJzsKZXhwb3J0IGRlZmF1bHQgewogIGluaGVyaXRBdHRyczogZmFsc2UsCiAgcHJvcHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcHJvcHMpLCB7fSwgewogICAgdXJsOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIGZpbGU6IHsKICAgICAgdHlwZTogRmlsZSwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfQogIH0pLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtRmlsZTogbnVsbCwKICAgICAgbVVybDogbnVsbCwKICAgICAgaXNWYWxpZDogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc1ZhbGlkYXRpb25EaXNhYmxlZDogZnVuY3Rpb24gaXNWYWxpZGF0aW9uRGlzYWJsZWQoKSB7CiAgICAgIHZhciBtVXJsID0gdGhpcy5tVXJsOwoKICAgICAgaWYgKHR5cGVvZiBtVXJsICE9PSAnc3RyaW5nJyB8fCAhbVVybC5sZW5ndGgpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0gLy8gaWYgbVVybCBzdGFydHMgd2l0aCB0aGVzZSBzdHJpbmcsIGFzc3VtZSBmaWxlIGVpdGhlciBoYXMgYWxyZWFkeSBiZWVuIHVwbG9hZGVkIG9yIGNoYW5nZWQKCgogICAgICByZXR1cm4gWydodHRwJywgJ2Jsb2I6J10uc29tZShmdW5jdGlvbiAoc3RyKSB7CiAgICAgICAgcmV0dXJuIG1Vcmwuc3RhcnRzV2l0aChzdHIpOwogICAgICB9KTsKICAgIH0sCiAgICBmaWxlbmFtZTogZnVuY3Rpb24gZmlsZW5hbWUoKSB7CiAgICAgIGlmICh0aGlzLm1GaWxlIGluc3RhbmNlb2YgRmlsZSkgewogICAgICAgIHJldHVybiB0aGlzLm1GaWxlLm5hbWU7CiAgICAgIH0KCiAgICAgIGlmICh0eXBlb2YgdGhpcy51cmwgPT09ICdzdHJpbmcnICYmIHRoaXMudXJsLnN0YXJ0c1dpdGgoJ2h0dHAnKSkgewogICAgICAgIHZhciBpID0gdGhpcy51cmwubGFzdEluZGV4T2YoJ2RvY3VtZW50LycpOwogICAgICAgIHJldHVybiB0aGlzLnVybC5zdWJzdHJpbmcoaSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHVybDogewogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodikgewogICAgICAgIHRoaXMubVVybCA9IHY7CiAgICAgIH0KICAgIH0sCiAgICBmaWxlOiB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2KSB7CiAgICAgICAgdGhpcy5tRmlsZSA9IHY7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIG9uUHJldmlldzogZnVuY3Rpb24gb25QcmV2aWV3KCkgewogICAgICBpZiAodGhpcy5pc1ZhbGlkKSB7CiAgICAgICAgdGhpcy4kZW1pdCgncHJldmlldycpOwogICAgICB9IGVsc2UgaWYgKHRoaXMubVVybCkgewogICAgICAgIHdpbmRvdy5vcGVuKHRoaXMubVVybCwgJ19ibGFuaycpOwogICAgICB9CiAgICB9LAogICAgcmVzZXRJbnB1dEVsZW1lbnQ6IGZ1bmN0aW9uIHJlc2V0SW5wdXRFbGVtZW50KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuJHJlZnMuaW5wdXQpIHsKICAgICAgICB0aGlzLiRyZWZzLnZhbGlkYXRvci5yZXNldCgpOwogICAgICAgIHRoaXMuJHJlZnMuaW5wdXQudHlwZSA9ICcnOwogICAgICAgIHRoaXMuJHJlZnMuaW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJycpOwogICAgICAgIHJldHVybiB0aGlzLiRuZXh0VGljaygpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMuJHJlZnMuaW5wdXQudHlwZSA9ICdmaWxlJzsKCiAgICAgICAgICBfdGhpcy4kcmVmcy5pbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnZmlsZScpOwogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CiAgICB9LAogICAgb25DaG9vc2VGaWxlOiBmdW5jdGlvbiBvbkNob29zZUZpbGUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5pc1ZhbGlkID0gbnVsbDsKICAgICAgdGhpcy5tRmlsZSA9IG51bGw7CiAgICAgIHRoaXMubVVybCA9IG51bGw7CiAgICAgIHRoaXMucmVzZXRJbnB1dEVsZW1lbnQoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuJHJlZnMuaW5wdXQuY2xpY2soKTsKICAgICAgfSk7CiAgICB9LAogICAgb25SZW1vdmVGaWxlOiBmdW5jdGlvbiBvblJlbW92ZUZpbGUoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5yZXNldElucHV0RWxlbWVudCgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy5pc1ZhbGlkID0gbnVsbDsKICAgICAgICBfdGhpczMubUZpbGUgPSBudWxsOwogICAgICAgIF90aGlzMy5tVXJsID0gbnVsbDsKCiAgICAgICAgX3RoaXMzLmVtaXRDaGFuZ2UobnVsbCwgbnVsbCk7CgogICAgICAgIHJldHVybiBfdGhpczMuJG5leHRUaWNrKCk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy4kcmVmcy52YWxpZGF0b3IudmFsaWRhdGUoKTsKICAgICAgfSk7CiAgICB9LAogICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBmaWxlLCBfeWllbGQkX3RoaXM0JCRyZWZzJHYsIHZhbGlkOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIWUudGFyZ2V0LmZpbGVzKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdIHx8IG51bGw7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuJHJlZnMudmFsaWRhdG9yLnN5bmNWYWx1ZShmaWxlKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LiRyZWZzLnZhbGlkYXRvci52YWxpZGF0ZSgpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXM0JCRyZWZzJHYgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgdmFsaWQgPSBfeWllbGQkX3RoaXM0JCRyZWZzJHYudmFsaWQ7CiAgICAgICAgICAgICAgICBfdGhpczQuaXNWYWxpZCA9IHZhbGlkOwogICAgICAgICAgICAgICAgX3RoaXM0Lm1GaWxlID0gZmlsZTsKICAgICAgICAgICAgICAgIF90aGlzNC5tVXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoX3RoaXM0Lm1GaWxlKTsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXM0LmlzVmFsaWQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM0LmVtaXRDaGFuZ2UoX3RoaXM0Lm1VcmwsIF90aGlzNC5tRmlsZSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczQuZW1pdENoYW5nZShudWxsLCBudWxsKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBlbWl0Q2hhbmdlOiBmdW5jdGlvbiBlbWl0Q2hhbmdlKHVybCwgZmlsZSkgewogICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCB1cmwsIGZpbGUpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["FileSelector.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <ValidationProvider\n    :rules=\"rules\"\n    :custom-messages=\"customMessages\"\n    :disabled=\"isValidationDisabled\"\n    #default=\"{failed, errors}\"\n    tag=\"div\"\n    ref=\"validator\"\n  >\n    <div :class=\"{'form-input__file mb-2': true, 'is-invalid': failed}\">\n      <a\n        href=\"javascript:void(0)\"\n        target=\"_blank\"\n        @click.prevent=\"onPreview\"\n      >\n        <span>\n          {{ filename || $attrs.placeholder }}\n        </span>\n      </a>\n      <button\n        v-if=\"!disabled\"\n        :disabled=\"disabled\"\n        @click=\"onChooseFile\"\n      >\n        <slot name=\"choose-file-button-text\">\n          Pilih\n        </slot>\n      </button>\n    </div>\n    <input\n      v-show=\"false\"\n      ref=\"input\"\n      :name=\"name\"\n      type=\"file\"\n      :accept=\"$attrs.accept\"\n      :multiple=\"false\"\n      v-bind=\"$attrs\"\n      @change=\"onChange($event)\"\n    >\n    <p\n      v-if=\"errors.length\"\n      class=\"form-input__error-hint\"\n    >\n      <slot name=\"error\">\n        {{errors[0]}}\n      </slot>\n    </p>\n  </ValidationProvider>\n</template>\n\n<script>\nimport { props } from './input-mixin'\n\nexport default {\n  inheritAttrs: false,\n  props: {\n    ...props,\n    url: {\n      type: String,\n      default: null\n    },\n    file: {\n      type: File,\n      default: null\n    }\n  },\n  data () {\n    return {\n      mFile: null,\n      mUrl: null,\n      isValid: null\n    }\n  },\n  computed: {\n    isValidationDisabled () {\n      const { mUrl } = this\n      if (typeof mUrl !== 'string' || !mUrl.length) {\n        return false\n      }\n      // if mUrl starts with these string, assume file either has already been uploaded or changed\n      return ['http', 'blob:'].some((str) => mUrl.startsWith(str))\n    },\n    filename () {\n      if (this.mFile instanceof File) {\n        return this.mFile.name\n      }\n      if (typeof this.url === 'string' && this.url.startsWith('http')) {\n        const i = this.url.lastIndexOf('document/')\n        return this.url.substring(i)\n      }\n      return null\n    }\n  },\n  watch: {\n    url: {\n      immediate: true,\n      handler (v) {\n        this.mUrl = v\n      }\n    },\n    file: {\n      immediate: true,\n      handler (v) {\n        this.mFile = v\n      }\n    }\n  },\n  methods: {\n    onPreview () {\n      if (this.isValid) {\n        this.$emit('preview')\n      } else if (this.mUrl) {\n        window.open(this.mUrl, '_blank')\n      }\n    },\n    resetInputElement () {\n      if (this.$refs.input) {\n        this.$refs.validator.reset()\n        this.$refs.input.type = ''\n        this.$refs.input.setAttribute('type', '')\n        return this.$nextTick()\n          .then(() => {\n            this.$refs.input.type = 'file'\n            this.$refs.input.setAttribute('type', 'file')\n          })\n      }\n      return Promise.resolve()\n    },\n    onChooseFile () {\n      this.isValid = null\n      this.mFile = null\n      this.mUrl = null\n      this.resetInputElement()\n        .then(() => {\n          this.$refs.input.click()\n        })\n    },\n    onRemoveFile () {\n      this.resetInputElement()\n        .then(() => {\n          this.isValid = null\n          this.mFile = null\n          this.mUrl = null\n          this.emitChange(null, null)\n          return this.$nextTick()\n        }).then(() => {\n          this.$refs.validator.validate()\n        })\n    },\n    async onChange (e) {\n      if (e.target.files) {\n        const file = e.target.files[0] || null\n        await this.$refs.validator.syncValue(file)\n        const { valid } = await this.$refs.validator.validate()\n        this.isValid = valid\n        this.mFile = file\n        this.mUrl = window.URL.createObjectURL(this.mFile)\n        if (this.isValid) {\n          this.emitChange(this.mUrl, this.mFile)\n        } else {\n          this.emitChange(null, null)\n        }\n      }\n    },\n    emitChange (url, file) {\n      this.$emit('change', url, file)\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/components/Form"}]}