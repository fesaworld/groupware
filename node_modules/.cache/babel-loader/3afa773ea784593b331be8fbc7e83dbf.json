{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/babel-loader/lib/index.js!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/components/Profile/Edit/DataCompletionStatus.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/components/Profile/Edit/DataCompletionStatus.vue","mtime":1673491775266},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZWR1Y2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZW50cmllcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIgZnJvbSAiL1VzZXJzL2pkcy9Eb2N1bWVudHMvZGlza29taW5mby9qZHMvZGlnaXRlYW0vZ3JvdXB3YXJlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9Vc2Vycy9qZHMvRG9jdW1lbnRzL2Rpc2tvbWluZm8vamRzL2RpZ2l0ZWFtL2dyb3Vwd2FyZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBfZ2V0IGZyb20gJ2xvZGFzaC9nZXQnOwppbXBvcnQgX2Zsb29yIGZyb20gJ2xvZGFzaC9mbG9vcic7CmltcG9ydCB7IFBST0ZJTEVfREFUQV9TQ0hFTUEgfSBmcm9tICcuL3V0aWxzJzsKdmFyIFNDSEVNQV9FTlRSSUVTID0gT2JqZWN0LmVudHJpZXMoUFJPRklMRV9EQVRBX1NDSEVNQSk7CnZhciBBTExfRklFTERTX0NPVU5UID0gU0NIRU1BX0VOVFJJRVMucmVkdWNlKGZ1bmN0aW9uIChzdW0sIF9yZWYpIHsKICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAyKSwKICAgICAgZGF0YXR5cGUgPSBfcmVmMlswXSwKICAgICAgZmllbGRzID0gX3JlZjJbMV07CgogIHN1bSA9IHN1bSArIGZpZWxkcy5sZW5ndGg7CiAgcmV0dXJuIHN1bTsKfSwgMCk7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgbW9kZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdkZWZhdWx0JywKICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IodikgewogICAgICAgIHJldHVybiBbJ3JlZGlyZWN0JywgJ2RlZmF1bHQnXS5pbmNsdWRlcyh2KTsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3dTdGF0dXM6IGZhbHNlLAogICAgICBjb21wbGV0aW9uUGVyY2VudGFnZTogMAogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLiR3YXRjaChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZVsncHJvZmlsZS1kZXRhaWwnXS5pdGVtOwogICAgfSwgZnVuY3Rpb24gKG9iaikgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKG9iaikgewogICAgICAgIHRoaXMucHJvY2Vzc0RhdGEob2JqKS50aGVuKGZ1bmN0aW9uIChfcmVmMykgewogICAgICAgICAgdmFyIGZpbGxlZCA9IF9yZWYzLmZpbGxlZCwKICAgICAgICAgICAgICB1bmZpbGxlZCA9IF9yZWYzLnVuZmlsbGVkLAogICAgICAgICAgICAgIHBlcmNlbnRhZ2UgPSBfcmVmMy5wZXJjZW50YWdlOwogICAgICAgICAgX3RoaXMuc2hvd1N0YXR1cyA9IHBlcmNlbnRhZ2UgPCAxMDA7CiAgICAgICAgICBfdGhpcy5jb21wbGV0aW9uUGVyY2VudGFnZSA9IHBlcmNlbnRhZ2U7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sIHsKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICBkZWVwOiBmYWxzZQogICAgfSk7CiAgfSwKICBjb21wdXRlZDogewogICAgdXNlcjogZnVuY3Rpb24gdXNlcigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlWydwcm9maWxlLWRldGFpbCddLml0ZW0gfHwgbnVsbDsKICAgIH0sCiAgICBwcm9ncmVzc0JhclN0eWxlOiBmdW5jdGlvbiBwcm9ncmVzc0JhclN0eWxlKCkgewogICAgICByZXR1cm4gewogICAgICAgICctLXByb2ZpbGUtY29tcGxldGlvbic6ICIiLmNvbmNhdCh0aGlzLmNvbXBsZXRpb25QZXJjZW50YWdlLCAiJSIpCiAgICAgIH07CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBwcm9jZXNzRGF0YTogZnVuY3Rpb24gcHJvY2Vzc0RhdGEoZXhpc3RpbmdEYXRhKSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgIGlmIChleGlzdGluZ0RhdGEpIHsKICAgICAgICAgIHZhciBmaWVsZHMgPSBTQ0hFTUFfRU5UUklFUy5yZWR1Y2UoZnVuY3Rpb24gKF9yZWY0LCBfcmVmNSkgewogICAgICAgICAgICB2YXIgX3JlZjYgPSBfc2xpY2VkVG9BcnJheShfcmVmNCwgMiksCiAgICAgICAgICAgICAgICBmaWxsZWQgPSBfcmVmNlswXSwKICAgICAgICAgICAgICAgIHVuZmlsbGVkID0gX3JlZjZbMV07CgogICAgICAgICAgICB2YXIgX3JlZjcgPSBfc2xpY2VkVG9BcnJheShfcmVmNSwgMiksCiAgICAgICAgICAgICAgICBkYXRhdHlwZSA9IF9yZWY3WzBdLAogICAgICAgICAgICAgICAgcHJvcGVydGllcyA9IF9yZWY3WzFdOwoKICAgICAgICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHByb3BlcnRpZXMpLAogICAgICAgICAgICAgICAgX3N0ZXA7CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICB2YXIgcHJvcCA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgICAgICAgdmFyIG5zID0gIiIuY29uY2F0KGRhdGF0eXBlLCAiLiIpLmNvbmNhdChwcm9wKTsKCiAgICAgICAgICAgICAgICB2YXIgZXhpc3RpbmdWYWwgPSBfZ2V0KGV4aXN0aW5nRGF0YSwgbnMpOwoKICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXhpc3RpbmdWYWwgPT09ICd1bmRlZmluZWQnIHx8IGV4aXN0aW5nVmFsID09PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgIHVuZmlsbGVkLnB1c2gobnMpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgZmlsbGVkLnB1c2gobnMpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gW2ZpbGxlZCwgdW5maWxsZWRdOwogICAgICAgICAgfSwgW1tdLCBbXV0pOwoKICAgICAgICAgIHZhciBfZmllbGRzID0gX3NsaWNlZFRvQXJyYXkoZmllbGRzLCAyKSwKICAgICAgICAgICAgICBmaWxsZWQgPSBfZmllbGRzWzBdLAogICAgICAgICAgICAgIHVuZmlsbGVkID0gX2ZpZWxkc1sxXTsKCiAgICAgICAgICB2YXIgcmF0aW8gPSBmaWxsZWQubGVuZ3RoIC8gQUxMX0ZJRUxEU19DT1VOVDsKCiAgICAgICAgICB2YXIgcGVyY2VudGFnZSA9IF9mbG9vcihyYXRpbyAqIDEwMCwgMCk7CgogICAgICAgICAgcmVzb2x2ZSh7CiAgICAgICAgICAgIGZpbGxlZDogZmlsbGVkLAogICAgICAgICAgICB1bmZpbGxlZDogdW5maWxsZWQsCiAgICAgICAgICAgIHBlcmNlbnRhZ2U6IHBlcmNlbnRhZ2UKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["DataCompletionStatus.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div v-show=\"completionPercentage < 100\">\n    <transition enter-active-class=\"slide-y-fade-transition-enter-active\"\n                enter-class=\"slide-y-fade-transition-enter\">\n      <div  v-if=\"user && showStatus\"\n            class=\"px-4 py-8 sm:p-8\">\n        <h3 class=\"relative text-xl pr-12\">\n          Hai, <strong>{{user.name}}</strong>!\n          <button class=\"appearance-none absolute right-0\"\n                  @click.capture=\"showStatus = false\">\n            <i aria-hidden=\"true\" class=\"fas fa-times fa-lg text-gray-600 hover:text-red-400\"></i>\n          </button>\n        </h3>\n        <template v-if=\"completionPercentage >= 100\">\n          <p></p>\n        </template>\n        <template v-else-if=\"completionPercentage < 100\">\n          <div>\n            <p class=\"text-lg text-gray-700 pr-12\">\n              Kelihatannya data kamu belum lengkap.<br class=\"hidden sm:block\">\n              Ayo lengkapi data kamu di\n              <router-link  v-if=\"mode === 'redirect'\"\n                            to=\"/profile/edit/personal\"\n                            class=\"font-bold text-brand-blue hover:text-blue-900 hover:underline\">sini</router-link>\n              <span v-else>sini</span>\n              &nbsp;&nbsp;<i aria-hidden=\"true\" class=\"far fa-smile\"></i>\n            </p>\n            <br>\n            <figcaption class=\"max-w-sm\">\n              <caption class=\"block text-left italic text-gray-600\">\n                Seberapa lengkap data kamu?\n              </caption>\n              <div class=\"w-full flex flex-row items-center\">\n                <i  aria-hidden=\"true\"\n                    role=\"progress bar\"\n                    class=\"progress-bar flex-1\"\n                    :style=\"progressBarStyle\">\n                </i>\n                <label class=\"progress-bar-label\">\n                  {{completionPercentage ? `${completionPercentage}%` : ''}}\n                </label>\n              </div>\n            </figcaption>\n          </div>\n        </template>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport _get from 'lodash/get'\nimport _floor from 'lodash/floor'\nimport { PROFILE_DATA_SCHEMA } from './utils'\n\nconst SCHEMA_ENTRIES = Object.entries(PROFILE_DATA_SCHEMA)\nconst ALL_FIELDS_COUNT = SCHEMA_ENTRIES.reduce((sum, [datatype, fields]) => {\n  sum = sum + fields.length\n  return sum\n}, 0)\n\nexport default {\n  props: {\n    mode: {\n      type: String,\n      default: 'default',\n      validator: function (v) {\n        return ['redirect', 'default'].includes(v)\n      }\n    }\n  },\n  data () {\n    return {\n      showStatus: false,\n      completionPercentage: 0\n    }\n  },\n  mounted () {\n    this.$watch(\n      function () {\n        return this.$store.state['profile-detail'].item\n      },\n      function (obj) {\n        if (obj) {\n          this.processData(obj)\n            .then(({ filled, unfilled, percentage }) => {\n              this.showStatus = percentage < 100\n              this.completionPercentage = percentage\n            })\n        }\n      },\n      { immediate: true, deep: false }\n    )\n  },\n  computed: {\n    user () {\n      return this.$store.state['profile-detail'].item || null\n    },\n    progressBarStyle () {\n      return {\n        '--profile-completion': `${this.completionPercentage}%`\n      }\n    }\n  },\n  methods: {\n    processData (existingData) {\n      return new Promise(resolve => {\n        if (existingData) {\n          const fields = SCHEMA_ENTRIES.reduce(([filled, unfilled], [datatype, properties]) => {\n            for (let prop of properties) {\n              const ns = `${datatype}.${prop}`\n              const existingVal = _get(existingData, ns)\n              if (typeof existingVal === 'undefined' || existingVal === null) {\n                unfilled.push(ns)\n              } else {\n                filled.push(ns)\n              }\n            }\n            return [filled, unfilled]\n          }, [[], []])\n\n          const [filled, unfilled] = fields\n          const ratio = filled.length / ALL_FIELDS_COUNT\n          const percentage = _floor(ratio * 100, 0)\n          resolve({\n            filled,\n            unfilled,\n            percentage\n          })\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.progress-bar {\n  @apply relative block flex justify-start items-center w-full h-2 rounded-full bg-gray-400 shadow;\n\n  &::before {\n    content: '';\n    @supports (clip-path: inset(0 0 0 0)) {\n      width: 100%;\n      clip-path: inset(0px calc(100% - var(--profile-completion, 100%)) 0px 0px);\n    }\n    @supports not (clip-path: inset(0 0 0 0)) {\n      width: var(--profile-completion, 100%);\n    }\n    background-color: #00c853;\n    background-image: linear-gradient(to right, #00b0ff 0%, #00c853);\n    @apply absolute top-0 left-0 bottom-0 inline-block rounded-full;\n  }\n}\n\n.progress-bar-label {\n  font-style: normal;\n  @apply inline-block ml-4 text-gray-700 text-base font-bold leading-none;\n}\n</style>\n"],"sourceRoot":"src/components/Profile/Edit"}]}