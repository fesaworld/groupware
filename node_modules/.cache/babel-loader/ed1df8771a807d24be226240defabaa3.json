{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/eslint-loader/index.js??ref--14-0!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/store/modules/dayoff-list.js","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/store/modules/dayoff-list.js","mtime":1673491775271},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/eslint-loader/index.js","mtime":1673491969842}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2pkcy9Eb2N1bWVudHMvZGlza29taW5mby9qZHMvZGlnaXRlYW0vZ3JvdXB3YXJlL2dyb3Vwd2FyZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsgLy8gaW1wb3J0IHBNaW5EZWxheSBmcm9tICdwLW1pbi1kZWxheScKCmltcG9ydCB7IEdyb3Vwd2FyZUFQSSB9IGZyb20gJy4uLy4uL2xpYi9heGlvcyc7IC8vIHN0YXRlCgpleHBvcnQgdmFyIHN0YXRlID0gewogIGl0ZW1zTWFwOiB7fQp9OwpleHBvcnQgdmFyIG11dGF0aW9ucyA9IHsKICBrZWVwSXRlbUluQ2FjaGU6IGZ1bmN0aW9uIGtlZXBJdGVtSW5DYWNoZShzdGF0ZSwgX3JlZikgewogICAgdmFyIGlkID0gX3JlZi5pZCwKICAgICAgICBpdGVtID0gX3JlZi5pdGVtOwoKICAgIGlmIChpdGVtICYmIGlkKSB7CiAgICAgIFZ1ZS5zZXQoc3RhdGUuaXRlbXNNYXAsIGlkLCBpdGVtKTsKICAgIH0KICB9LAogIHJlbW92ZUl0ZW1JbkNhY2hlOiBmdW5jdGlvbiByZW1vdmVJdGVtSW5DYWNoZShzdGF0ZSwgX3JlZjIpIHsKICAgIHZhciBpZCA9IF9yZWYyLmlkOwoKICAgIGlmIChpZCAmJiBpZCBpbiBzdGF0ZS5pdGVtc01hcCkgewogICAgICBWdWUuZGVsZXRlKHN0YXRlLml0ZW1zTWFwLCBpZCk7CiAgICB9CiAgfQp9OyAvLyBhY3Rpb25zCgpleHBvcnQgdmFyIGFjdGlvbnMgPSB7CiAgZ2V0RGF5b2ZmTGlzdDogZnVuY3Rpb24gZ2V0RGF5b2ZmTGlzdChfKSB7CiAgICB2YXIgX2FyZ3VtZW50cyA9IGFyZ3VtZW50czsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBfcmVmMywgX3JlZjMkcGFnZSwgcGFnZSwgX3JlZjMkcGVyUGFnZSwgcGVyUGFnZSwgZ2V0OwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9yZWYzID0gX2FyZ3VtZW50cy5sZW5ndGggPiAxICYmIF9hcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmd1bWVudHNbMV0gOiB7fSwgX3JlZjMkcGFnZSA9IF9yZWYzLnBhZ2UsIHBhZ2UgPSBfcmVmMyRwYWdlID09PSB2b2lkIDAgPyAxIDogX3JlZjMkcGFnZSwgX3JlZjMkcGVyUGFnZSA9IF9yZWYzLnBlclBhZ2UsIHBlclBhZ2UgPSBfcmVmMyRwZXJQYWdlID09PSB2b2lkIDAgPyAxMCA6IF9yZWYzJHBlclBhZ2U7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIEdyb3Vwd2FyZUFQSS5nZXQoJ2RheS1vZmYvJywgewogICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgIHBhZ2U6IHBhZ2UsCiAgICAgICAgICAgICAgICAgIGxpbWl0OiBwZXJQYWdlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocikgewogICAgICAgICAgICAgICAgcmV0dXJuIHIuZGF0YTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBnZXQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGdldCk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBnZXREYXlvZmZCeUlkOiBmdW5jdGlvbiBnZXREYXlvZmZCeUlkKF9yZWY0LCBpZCkgewogICAgdmFyIHN0YXRlID0gX3JlZjQuc3RhdGU7CgogICAgaWYgKGlkIGluIHN0YXRlLml0ZW1zTWFwKSB7CiAgICAgIHZhciBpdGVtID0gc3RhdGUuaXRlbXNNYXBbaWRdOwogICAgICByZXR1cm4gaXRlbSB8fCBudWxsOwogICAgfQoKICAgIHJldHVybiBudWxsOwogIH0KfTs="},{"version":3,"sources":["/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/store/modules/dayoff-list.js"],"names":["Vue","GroupwareAPI","state","itemsMap","mutations","keepItemInCache","id","item","set","removeItemInCache","delete","actions","getDayoffList","_","page","perPage","get","params","limit","then","r","data","getDayoffById"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB,C,CACA;;AACA,SAASC,YAAT,QAA6B,iBAA7B,C,CAEA;;AACA,OAAO,IAAMC,KAAK,GAAG;AACnBC,EAAAA,QAAQ,EAAE;AADS,CAAd;AAIP,OAAO,IAAMC,SAAS,GAAG;AACvBC,EAAAA,eADuB,2BACNH,KADM,QACe;AAAA,QAAZI,EAAY,QAAZA,EAAY;AAAA,QAARC,IAAQ,QAARA,IAAQ;;AACpC,QAAIA,IAAI,IAAID,EAAZ,EAAgB;AACdN,MAAAA,GAAG,CAACQ,GAAJ,CAAQN,KAAK,CAACC,QAAd,EAAwBG,EAAxB,EAA4BC,IAA5B;AACD;AACF,GALsB;AAMvBE,EAAAA,iBANuB,6BAMJP,KANI,SAMW;AAAA,QAANI,EAAM,SAANA,EAAM;;AAChC,QAAIA,EAAE,IAAIA,EAAE,IAAIJ,KAAK,CAACC,QAAtB,EAAgC;AAC9BH,MAAAA,GAAG,CAACU,MAAJ,CAAWR,KAAK,CAACC,QAAjB,EAA2BG,EAA3B;AACD;AACF;AAVsB,CAAlB,C,CAaP;;AACA,OAAO,IAAMK,OAAO,GAAG;AACfC,EAAAA,aADe,yBACAC,CADA,EACoC;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,6FAAJ,EAAI,qBAA/BC,IAA+B,EAA/BA,IAA+B,2BAAxB,CAAwB,qCAArBC,OAAqB,EAArBA,OAAqB,8BAAX,EAAW;AAAA;AAAA,qBACrCd,YAAY,CAACe,GAAb,CAAiB,UAAjB,EAA6B;AAC7CC,gBAAAA,MAAM,EAAE;AACNH,kBAAAA,IAAI,EAAJA,IADM;AAENI,kBAAAA,KAAK,EAAEH;AAFD;AADqC,eAA7B,EAKfI,IALe,CAKV,UAAAC,CAAC;AAAA,uBAAIA,CAAC,CAACC,IAAN;AAAA,eALS,CADqC;;AAAA;AACjDL,cAAAA,GADiD;AAAA,+CAQhDA,GARgD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASxD,GAVoB;AAWrBM,EAAAA,aAXqB,gCAWKhB,EAXL,EAWS;AAAA,QAAbJ,KAAa,SAAbA,KAAa;;AAC5B,QAAII,EAAE,IAAIJ,KAAK,CAACC,QAAhB,EAA0B;AACxB,UAAMI,IAAI,GAAGL,KAAK,CAACC,QAAN,CAAeG,EAAf,CAAb;AACA,aAAOC,IAAI,IAAI,IAAf;AACD;;AACD,WAAO,IAAP;AACD;AAjBoB,CAAhB","sourcesContent":["import Vue from 'vue'\n// import pMinDelay from 'p-min-delay'\nimport { GroupwareAPI } from '../../lib/axios'\n\n// state\nexport const state = {\n  itemsMap: {}\n}\n\nexport const mutations = {\n  keepItemInCache (state, { id, item }) {\n    if (item && id) {\n      Vue.set(state.itemsMap, id, item)\n    }\n  },\n  removeItemInCache (state, { id }) {\n    if (id && id in state.itemsMap) {\n      Vue.delete(state.itemsMap, id)\n    }\n  }\n}\n\n// actions\nexport const actions = {\n  async getDayoffList (_, { page = 1, perPage = 10 } = {}) {\n    const get = await GroupwareAPI.get('day-off/', {\n      params: {\n        page,\n        limit: perPage\n      }\n    }).then(r => r.data)\n\n    return get\n  },\n  getDayoffById ({ state }, id) {\n    if (id in state.itemsMap) {\n      const item = state.itemsMap[id]\n      return item || null\n    }\n    return null\n  }\n}\n"]}]}