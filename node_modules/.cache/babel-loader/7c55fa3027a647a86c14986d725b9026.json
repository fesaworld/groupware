{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/LazyListDataProvider.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/LazyListDataProvider.vue","mtime":1673491775264},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL1VzZXJzL2pkcy9Eb2N1bWVudHMvZGlza29taW5mby9qZHMvZGlnaXRlYW0vZ3JvdXB3YXJlL2dyb3Vwd2FyZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSAiL1VzZXJzL2pkcy9Eb2N1bWVudHMvZGlza29taW5mby9qZHMvZGlnaXRlYW0vZ3JvdXB3YXJlL2dyb3Vwd2FyZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBtYWtlUHJvbWlzZUNhbmNlbGFibGUgZnJvbSAnLi4vbGliL2NhbmNlbGFibGUtcHJvbWlzZSc7CmltcG9ydCB0aHJvdHRsZSBmcm9tICdsb2Rhc2gvdGhyb3R0bGUnOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIGltbWVkaWF0ZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGRhdGFTb3VyY2U6IHsKICAgICAgdHlwZTogW0Z1bmN0aW9uXSwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBwZXJQYWdlOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogNQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzUGVuZGluZzogZmFsc2UsCiAgICAgIGVycm9yOiBudWxsLAogICAgICBkYXRhOiBudWxsLAogICAgICBjdXJyZW50UGFnZTogMCwKICAgICAgaGFzTm9Nb3JlSXRlbXNUb0ZldGNoOiBmYWxzZSwKICAgICAgcHJvbWlzZUNhbmNlbFRva2VuOiBudWxsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGRhdGFTb3VyY2VDb250ZXh0OiBmdW5jdGlvbiBkYXRhU291cmNlQ29udGV4dCgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBjdXJyZW50UGFnZTogdGhpcy5jdXJyZW50UGFnZSwKICAgICAgICBwZXJQYWdlOiB0aGlzLnBlclBhZ2UsCiAgICAgICAgaW50ZXJzZWN0aW9uT2JzZXJ2ZXI6IG51bGwKICAgICAgfTsKICAgIH0sCiAgICBoYXNOb0RhdGE6IGZ1bmN0aW9uIGhhc05vRGF0YSgpIHsKICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFBhZ2UgPD0gMSAmJiAoIXRoaXMuZGF0YSB8fCAhdGhpcy5kYXRhLmxlbmd0aCk7CiAgICB9LAogICAgaGFzQXRMZWFzdE9uZURhdGE6IGZ1bmN0aW9uIGhhc0F0TGVhc3RPbmVEYXRhKCkgewogICAgICByZXR1cm4gdGhpcy5jdXJyZW50UGFnZSA+PSAxICYmICEhdGhpcy5kYXRhICYmICEhdGhpcy5kYXRhLmxlbmd0aDsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBkYXRhU291cmNlQ29udGV4dDogewogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoY3R4KSB7CiAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlOmNvbnRleHQnLCBjdHgpOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy4kd2F0Y2goJ2ltbWVkaWF0ZScsIGZ1bmN0aW9uIGhhbmRsZXIodHJ1dGh5KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodHJ1dGh5KSB7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIF90aGlzLnN0YXJ0T2JzZXJ2aW5nKCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sIHsKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9KTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICB0aGlzLnN0b3BPYnNlcnZpbmcoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN0YXJ0T2JzZXJ2aW5nOiBmdW5jdGlvbiBzdGFydE9ic2VydmluZygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnN0b3BPYnNlcnZpbmcoKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLmNoZWNrSW50ZXJzZWN0aW9uT2JzZXJ2ZXJTdXBwb3J0KCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIudXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIudXNlU2Nyb2xsTGlzdGVuZXIoKTsKICAgICAgICB9KTsKICAgICAgfSwgNTApOwogICAgfSwKICAgIHN0b3BPYnNlcnZpbmc6IGZ1bmN0aW9uIHN0b3BPYnNlcnZpbmcoKSB7CiAgICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSBudWxsOwogICAgICB0aGlzLnJlbW92ZVdpbmRvd1Njcm9sbExpc3RlbmVyKCk7CiAgICB9LAogICAgY2hlY2tJbnRlcnNlY3Rpb25PYnNlcnZlclN1cHBvcnQ6IGZ1bmN0aW9uIGNoZWNrSW50ZXJzZWN0aW9uT2JzZXJ2ZXJTdXBwb3J0KCkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGlmIChJbnRlcnNlY3Rpb25PYnNlcnZlcikgewogICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdpbnRlcnNlY3Rpb24gb2JzZXJ2ZXIgaXMgbm90IHN1cHBvcnRlZCcpKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHVzZUludGVyc2VjdGlvbk9ic2VydmVyOiBmdW5jdGlvbiB1c2VJbnRlcnNlY3Rpb25PYnNlcnZlcigpIHsKICAgICAgdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcih0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyQ2FsbGJhY2spOwogICAgICB0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyLm9ic2VydmUodGhpcy4kcmVmcy5vYnNlcnZlclRhcmdldCk7CiAgICB9LAogICAgaW50ZXJzZWN0aW9uT2JzZXJ2ZXJDYWxsYmFjazogZnVuY3Rpb24gaW50ZXJzZWN0aW9uT2JzZXJ2ZXJDYWxsYmFjayhlbnRyaWVzKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgZW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uIChlbnRyeSkgewogICAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykgewogICAgICAgICAgX3RoaXMzLm9uRmV0Y2hEYXRhKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICB1c2VTY3JvbGxMaXN0ZW5lcjogZnVuY3Rpb24gdXNlU2Nyb2xsTGlzdGVuZXIoKSB7CiAgICAgIHRoaXMuZ2V0T2JzZXJ2ZWRUYXJnZXRQb3NpdGlvbigpOwogICAgICB0aGlzLmFkZFdpbmRvd1Njcm9sbExpc3RlbmVyKCk7CiAgICB9LAogICAgYWRkV2luZG93U2Nyb2xsTGlzdGVuZXI6IGZ1bmN0aW9uIGFkZFdpbmRvd1Njcm9sbExpc3RlbmVyKCkgewogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5nZXRPYnNlcnZlZFRhcmdldFBvc2l0aW9uLCB7CiAgICAgICAgcGFzc2l2ZTogdHJ1ZQogICAgICB9KTsKICAgIH0sCiAgICByZW1vdmVXaW5kb3dTY3JvbGxMaXN0ZW5lcjogZnVuY3Rpb24gcmVtb3ZlV2luZG93U2Nyb2xsTGlzdGVuZXIoKSB7CiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmdldE9ic2VydmVkVGFyZ2V0UG9zaXRpb24sIHsKICAgICAgICBwYXNzaXZlOiB0cnVlCiAgICAgIH0pOwogICAgfSwKICAgIGdldE9ic2VydmVkVGFyZ2V0UG9zaXRpb246IHRocm90dGxlKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGVsID0gdGhpcy4kcmVmcy5vYnNlcnZlclRhcmdldDsKCiAgICAgIGlmIChlbCkgewogICAgICAgIHZhciByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CgogICAgICAgIGlmIChyZWN0LnRvcCA8PSB3aW5kb3cuaW5uZXJIZWlnaHQpIHsKICAgICAgICAgIHRoaXMub25GZXRjaERhdGEoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIDEwMDAgLyAxNDQpLAogICAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLmlzUGVuZGluZyA9IGZhbHNlOwogICAgICB0aGlzLmhhc05vTW9yZUl0ZW1zVG9GZXRjaCA9IGZhbHNlOwogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMDsKICAgICAgdGhpcy5lcnJvciA9IG51bGw7CiAgICAgIHRoaXMuZGF0YSA9IG51bGw7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoX3RoaXM0LnByb21pc2VDYW5jZWxUb2tlbikgewogICAgICAgICAgX3RoaXM0LnByb21pc2VDYW5jZWxUb2tlbi5jYW5jZWwoKTsKICAgICAgICB9CgogICAgICAgIF90aGlzNC5vbkZldGNoRGF0YSgpOwogICAgICB9KTsKICAgIH0sCiAgICBvbkZldGNoRGF0YTogZnVuY3Rpb24gb25GZXRjaERhdGEoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuaXNQZW5kaW5nIHx8IHRoaXMuaGFzTm9Nb3JlSXRlbXNUb0ZldGNoKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmN1cnJlbnRQYWdlICs9IDE7CiAgICAgIHRoaXMuaXNQZW5kaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5lcnJvciA9IG51bGw7CiAgICAgIHZhciBwcm9taXNlOwoKICAgICAgaWYgKHR5cGVvZiB0aGlzLmRhdGFTb3VyY2UgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICA7CgogICAgICAgIHZhciBfbWFrZVByb21pc2VDYW5jZWxhYmwgPSBtYWtlUHJvbWlzZUNhbmNlbGFibGUodGhpcy5kYXRhU291cmNlKHRoaXMuZGF0YVNvdXJjZUNvbnRleHQpKTsKCiAgICAgICAgdmFyIF9tYWtlUHJvbWlzZUNhbmNlbGFibDIgPSBfc2xpY2VkVG9BcnJheShfbWFrZVByb21pc2VDYW5jZWxhYmwsIDIpOwoKICAgICAgICBwcm9taXNlID0gX21ha2VQcm9taXNlQ2FuY2VsYWJsMlswXTsKICAgICAgICB0aGlzLnByb21pc2VDYW5jZWxUb2tlbiA9IF9tYWtlUHJvbWlzZUNhbmNlbGFibDJbMV07CiAgICAgIH0KCiAgICAgIGlmICghcHJvbWlzZSB8fCAhcHJvbWlzZS50aGVuIHx8ICFwcm9taXNlLmNhdGNoIHx8ICFwcm9taXNlLmZpbmFsbHkpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdMYXp5TGlzdERhdGFQcm92aWRlcjogZGF0YVNvdXJjZSBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFByb21pc2Ugb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgUHJvbWlzZScpOwogICAgICB9CgogICAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXM1Lmhhc05vTW9yZUl0ZW1zVG9GZXRjaCA9ICFkYXRhIHx8ICFkYXRhLmxlbmd0aCB8fCBfdGhpczUuY3VycmVudFBhZ2UgPT09IDEgJiYgZGF0YS5sZW5ndGggPCBfdGhpczUucGVyUGFnZTsKICAgICAgICBfdGhpczUuZGF0YSA9IEFycmF5LmlzQXJyYXkoX3RoaXM1LmRhdGEpID8gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShfdGhpczUuZGF0YSksIF90b0NvbnN1bWFibGVBcnJheShkYXRhKSkgOiBfdG9Db25zdW1hYmxlQXJyYXkoZGF0YSk7CgogICAgICAgIF90aGlzNS5zdGFydE9ic2VydmluZygpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIGlmIChlICYmICFlLmlzQ2FuY2VsZWQpIHsKICAgICAgICAgIF90aGlzNS5lcnJvciA9IGU7CiAgICAgICAgfQogICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczUuaXNQZW5kaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["LazyListDataProvider.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <template v-if=\"data\">\n      <slot v-bind=\"{ data }\"></slot>\n    </template>\n    <template v-if=\"isPending\">\n      <slot name=\"pending\"></slot>\n    </template>\n    <template v-if=\"error\">\n      <slot\n        name=\"error\"\n        v-bind=\"{ message: error }\"\n      ></slot>\n    </template>\n    <template v-else-if=\"hasNoMoreItemsToFetch\">\n      <slot\n        name=\"end\"\n        v-bind=\"{ hasNoData, hasAtLeastOneData }\"\n      ></slot>\n    </template>\n    <div\n      role=\"observerTarget\"\n      ref=\"observerTarget\"\n      class=\"mb-16 h-0 bg-gray-200 rounded\"\n    ></div>\n  </div>\n</template>\n\n<script>\nimport makePromiseCancelable from '../lib/cancelable-promise'\nimport throttle from 'lodash/throttle'\nexport default {\n  props: {\n    immediate: {\n      type: Boolean,\n      default: false\n    },\n    dataSource: {\n      type: [Function],\n      required: true\n    },\n    perPage: {\n      type: Number,\n      default: 5\n    }\n  },\n  data () {\n    return {\n      isPending: false,\n      error: null,\n      data: null,\n      currentPage: 0,\n      hasNoMoreItemsToFetch: false,\n\n      promiseCancelToken: null\n    }\n  },\n  computed: {\n    dataSourceContext () {\n      return {\n        currentPage: this.currentPage,\n        perPage: this.perPage,\n        intersectionObserver: null\n      }\n    },\n    hasNoData () {\n      return this.currentPage <= 1 && (!this.data || !this.data.length)\n    },\n    hasAtLeastOneData () {\n      return this.currentPage >= 1 && !!this.data && !!this.data.length\n    }\n  },\n  watch: {\n    dataSourceContext: {\n      immediate: true,\n      handler (ctx) {\n        this.$emit('change:context', ctx)\n      }\n    }\n  },\n  mounted () {\n    this.$watch(\n      'immediate',\n      function handler (truthy) {\n        if (truthy) {\n          this.$nextTick(() => this.startObserving())\n        }\n      },\n      { immediate: true }\n    )\n  },\n  beforeDestroy () {\n    this.stopObserving()\n  },\n  methods: {\n    startObserving () {\n      this.stopObserving()\n      setTimeout(() => {\n        this.checkIntersectionObserverSupport()\n          .then(() => {\n            this.useIntersectionObserver()\n          })\n          .catch(() => {\n            this.useScrollListener()\n          })\n      }, 50)\n    },\n    stopObserving () {\n      this.intersectionObserver = null\n      this.removeWindowScrollListener()\n    },\n    checkIntersectionObserverSupport () {\n      return new Promise((resolve, reject) => {\n        if (IntersectionObserver) {\n          resolve()\n        } else {\n          reject(new Error('intersection observer is not supported'))\n        }\n      })\n    },\n    useIntersectionObserver () {\n      this.intersectionObserver = new IntersectionObserver(\n        this.intersectionObserverCallback\n      )\n      this.intersectionObserver.observe(this.$refs.observerTarget)\n    },\n    intersectionObserverCallback (entries) {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          this.onFetchData()\n        }\n      })\n    },\n    useScrollListener () {\n      this.getObservedTargetPosition()\n      this.addWindowScrollListener()\n    },\n    addWindowScrollListener () {\n      window.addEventListener('scroll', this.getObservedTargetPosition, {\n        passive: true\n      })\n    },\n    removeWindowScrollListener () {\n      window.removeEventListener('scroll', this.getObservedTargetPosition, {\n        passive: true\n      })\n    },\n    getObservedTargetPosition: throttle(function () {\n      const el = this.$refs.observerTarget\n      if (el) {\n        const rect = el.getBoundingClientRect()\n        if (rect.top <= window.innerHeight) {\n          this.onFetchData()\n        }\n      }\n    }, 1000 / 144),\n    refresh () {\n      this.isPending = false\n      this.hasNoMoreItemsToFetch = false\n      this.currentPage = 0\n      this.error = null\n      this.data = null\n      this.$nextTick(() => {\n        if (this.promiseCancelToken) {\n          this.promiseCancelToken.cancel()\n        }\n        this.onFetchData()\n      })\n    },\n    onFetchData () {\n      if (this.isPending || this.hasNoMoreItemsToFetch) {\n        return\n      }\n      this.currentPage += 1\n      this.isPending = true\n      this.error = null\n      let promise\n      if (typeof this.dataSource === 'function') {\n        ;[promise, this.promiseCancelToken] = makePromiseCancelable(\n          this.dataSource(this.dataSourceContext)\n        )\n      }\n\n      if (!promise || !promise.then || !promise.catch || !promise.finally) {\n        throw new TypeError(\n          'LazyListDataProvider: dataSource must be an instance of Promise or a function that returns Promise'\n        )\n      }\n      return promise\n        .then((data) => {\n          this.hasNoMoreItemsToFetch =\n            !data ||\n            !data.length ||\n            (this.currentPage === 1 && data.length < this.perPage)\n          this.data = Array.isArray(this.data)\n            ? [...this.data, ...data]\n            : [...data]\n          this.startObserving()\n        })\n        .catch((e) => {\n          if (e && !e.isCanceled) {\n            this.error = e\n          }\n        })\n        .finally(() => {\n          this.isPending = false\n        })\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/components"}]}