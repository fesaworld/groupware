{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/Attendance/DayoffList/table.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/Attendance/DayoffList/table.vue","mtime":1673491775261},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZnJlZXplIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2pkcy9Eb2N1bWVudHMvZGlza29taW5mby9qZHMvZGlnaXRlYW0vZ3JvdXB3YXJlL2dyb3Vwd2FyZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBEYXRhVGFibGUgZnJvbSAnLi4vLi4vRGF0YVRhYmxlJzsKaW1wb3J0IHsgZm9ybWF0RGF0ZUxvbmcgfSBmcm9tICcuLi8uLi8uLi9saWIvZGF0ZSc7CmltcG9ydCB7IFNUQUtFSE9MREVSIH0gZnJvbSAnLi4vLi4vLi4vbGliL2NvbnN0YW50cyc7CnZhciBhY2tub3dsZWRnZW1lbnRPcHRpb25zID0gT2JqZWN0LmZyZWV6ZShbU1RBS0VIT0xERVIuU1RSVUNUVVJBTCwgU1RBS0VIT0xERVIuSFIsIFNUQUtFSE9MREVSLkNPT1JESU5BVE9SLCBTVEFLRUhPTERFUi5XT1JLX1BBUlRORVJdKTsKdmFyIHRhYmxlQ29sdW1ucyA9IE9iamVjdC5mcmVlemUoW3sKICBwcm9wOiAncGVybWl0c190eXBlJywKICBsYWJlbDogJ0plbmlzIEl6aW4nCn0sIHsKICBsYWJlbDogJ0RhcmknLAogIGdldDogZnVuY3Rpb24gZ2V0KF9yZWYpIHsKICAgIHZhciByb3cgPSBfcmVmLnJvdzsKCiAgICBpZiAocm93LnN0YXJ0X2RhdGUpIHsKICAgICAgcmV0dXJuIGZvcm1hdERhdGVMb25nKG5ldyBEYXRlKHJvdy5zdGFydF9kYXRlKSk7CiAgICB9CgogICAgcmV0dXJuICctJzsKICB9Cn0sIHsKICBsYWJlbDogJ1NhbXBhaScsCiAgZ2V0OiBmdW5jdGlvbiBnZXQoX3JlZjIpIHsKICAgIHZhciByb3cgPSBfcmVmMi5yb3c7CgogICAgaWYgKHJvdy5lbmRfZGF0ZSkgewogICAgICByZXR1cm4gZm9ybWF0RGF0ZUxvbmcobmV3IERhdGUocm93LmVuZF9kYXRlKSk7CiAgICB9CgogICAgcmV0dXJuICctJzsKICB9Cn0sIHsKICBwcm9wOiAncGVybWl0X2Fja25vd2xlZGdlZCcsCiAgbGFiZWw6ICdTdWRhaCBNZW1iZXJpdGFodScKfSwgewogIHByb3A6ICdub3RlJywKICBsYWJlbDogJ0tldGVyYW5nYW4nCn0sIHsKICBwcm9wOiAnZmlsZV91cmwnLAogIGxhYmVsOiAnRXZpZGVuY2UnCn1dKTsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIERhdGFUYWJsZTogRGF0YVRhYmxlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWNrbm93bGVkZ2VtZW50T3B0aW9uczogYWNrbm93bGVkZ2VtZW50T3B0aW9ucywKICAgICAgdGFibGVDb2x1bW5zOiB0YWJsZUNvbHVtbnMsCiAgICAgIHBhZ2U6IDEsCiAgICAgIHBlclBhZ2U6IDEwLAogICAgICB0b3RhbFBhZ2VzOiAwLAogICAgICB0b3RhbENvdW50OiAwLAogICAgICB0YWJsZURhdGE6IFtdLAogICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgICBlcnJvcjogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICB0YWJsZVBhZ2luYXRpb246IGZ1bmN0aW9uIHRhYmxlUGFnaW5hdGlvbigpIHsKICAgICAgdmFyIHBhZ2UgPSB0aGlzLnBhZ2UsCiAgICAgICAgICBwZXJQYWdlID0gdGhpcy5wZXJQYWdlLAogICAgICAgICAgdG90YWxQYWdlcyA9IHRoaXMudG90YWxQYWdlcywKICAgICAgICAgIHRvdGFsQ291bnQgPSB0aGlzLnRvdGFsQ291bnQ7CiAgICAgIHJldHVybiB7CiAgICAgICAgcGFnZTogcGFnZSwKICAgICAgICBwZXJQYWdlOiBwZXJQYWdlLAogICAgICAgIHRvdGFsUGFnZXM6IHRvdGFsUGFnZXMsCiAgICAgICAgdG90YWxDb3VudDogdG90YWxDb3VudAogICAgICB9OwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMubG9hZERhdGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uUGFnZUNoYW5nZWQ6IGZ1bmN0aW9uIG9uUGFnZUNoYW5nZWQobmV3UGFnZSkgewogICAgICB0aGlzLnBhZ2UgPSBuZXdQYWdlOwogICAgICB0aGlzLmxvYWREYXRhKCk7CiAgICB9LAogICAgbG9hZERhdGE6IGZ1bmN0aW9uIGxvYWREYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdkYXlvZmYtbGlzdC9nZXREYXlvZmZMaXN0JywgewogICAgICAgICAgICAgICAgICBwYWdlOiBfdGhpcy5wYWdlLAogICAgICAgICAgICAgICAgICBwZXJQYWdlOiBfdGhpcy5wZXJQYWdlCiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmMykgewogICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0cyA9IF9yZWYzLnJlc3VsdHMsCiAgICAgICAgICAgICAgICAgICAgICBtZXRhID0gX3JlZjMuX21ldGE7CiAgICAgICAgICAgICAgICAgIF90aGlzLnRhYmxlRGF0YSA9IHJlc3VsdHM7CiAgICAgICAgICAgICAgICAgIF90aGlzLnBhZ2UgPSBtZXRhLmN1cnJlbnRQYWdlOwogICAgICAgICAgICAgICAgICBfdGhpcy5wZXJQYWdlID0gbWV0YS5wZXJQYWdlOwogICAgICAgICAgICAgICAgICBfdGhpcy50b3RhbENvdW50ID0gbWV0YS50b3RhbENvdW50OwogICAgICAgICAgICAgICAgICBfdGhpcy50b3RhbFBhZ2VzID0gbWV0YS50b3RhbFBhZ2U7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvciA9IGU7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX3RoaXMuaXNMb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBpc0Fja25vd2xlZGdlbWVudENoZWNrZWQ6IGZ1bmN0aW9uIGlzQWNrbm93bGVkZ2VtZW50Q2hlY2tlZChyb3csIGFja25vd2xlZGdlbWVudFR5cGUpIHsKICAgICAgdmFyIGFyciA9IHJvdy5wZXJtaXRfYWNrbm93bGVkZ2VkOwogICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShhcnIpICYmIGFyci5pbmNsdWRlcyhhY2tub3dsZWRnZW1lbnRUeXBlKTsKICAgIH0sCiAgICBvbkdvVG9EYXlvZmZGb3JtOiBmdW5jdGlvbiBvbkdvVG9EYXlvZmZGb3JtKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9kYXlvZmYvY3JlYXRlJwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["table.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <DataTable\n    description=\"Dayoff List\"\n    class=\"dark:text-white\"\n    :is-loading=\"isLoading\"\n    :data=\"tableData\"\n    :error=\"error\"\n    :columns=\"tableColumns\"\n    :pagination=\"tablePagination\"\n    @change:page=\"onPageChanged\">\n    <template #actions>\n      <div>\n        <button class=\"dayoff-table__btn-create\" @click=\"onGoToDayoffForm\">\n          Laporkan Izin\n        </button>\n      </div>\n    </template>\n    <template #column-permit_acknowledged=\"{ row, rowIndex }\">\n      <ul>\n        <li\n          v-for=\"(ack, index) in acknowledgementOptions\"\n          :key=\"index\">\n          <label :for=\"`row-${rowIndex}-permit_acknowledged`\">\n            <input\n              type=\"checkbox\"\n              :checked=\"isAcknowledgementChecked(row, ack)\"\n              class=\"pointer-events-none\">\n            {{ ack }}\n          </label>\n        </li>\n      </ul>\n    </template>\n    <template #column-file_url=\"{ row }\">\n      <img\n        alt=\"Dayoff Evidence\"\n        :src=\"row.file_url\"\n        class=\"dayoff-table__evidence\">\n    </template>\n  </DataTable>\n</template>\n\n<script>\nimport DataTable from '../../DataTable'\nimport { formatDateLong } from '../../../lib/date'\nimport { STAKEHOLDER } from '../../../lib/constants'\n\nconst acknowledgementOptions = Object.freeze([\n  STAKEHOLDER.STRUCTURAL,\n  STAKEHOLDER.HR,\n  STAKEHOLDER.COORDINATOR,\n  STAKEHOLDER.WORK_PARTNER\n])\n\nconst tableColumns = Object.freeze([\n  {\n    prop: 'permits_type',\n    label: 'Jenis Izin'\n  },\n  {\n    label: 'Dari',\n    get: ({ row }) => {\n      if (row.start_date) {\n        return formatDateLong(new Date(row.start_date))\n      }\n      return '-'\n    }\n  },\n  {\n    label: 'Sampai',\n    get: ({ row }) => {\n      if (row.end_date) {\n        return formatDateLong(new Date(row.end_date))\n      }\n      return '-'\n    }\n  },\n  {\n    prop: 'permit_acknowledged',\n    label: 'Sudah Memberitahu'\n  },\n  {\n    prop: 'note',\n    label: 'Keterangan'\n  },\n  {\n    prop: 'file_url',\n    label: 'Evidence'\n  }\n])\n\nexport default {\n  components: {\n    DataTable\n  },\n  data () {\n    return {\n      acknowledgementOptions,\n      tableColumns,\n      page: 1,\n      perPage: 10,\n      totalPages: 0,\n      totalCount: 0,\n      tableData: [],\n      isLoading: false,\n      error: null\n    }\n  },\n  computed: {\n    tablePagination () {\n      const { page, perPage, totalPages, totalCount } = this\n      return {\n        page,\n        perPage,\n        totalPages,\n        totalCount\n      }\n    }\n  },\n  mounted () {\n    this.loadData()\n  },\n  methods: {\n    onPageChanged (newPage) {\n      this.page = newPage\n      this.loadData()\n    },\n    async loadData () {\n      this.isLoading = true\n      await this.$store.dispatch('dayoff-list/getDayoffList', {\n        page: this.page,\n        perPage: this.perPage\n      })\n        .then(({ results, _meta: meta }) => {\n          this.tableData = results\n          this.page = meta.currentPage\n          this.perPage = meta.perPage\n          this.totalCount = meta.totalCount\n          this.totalPages = meta.totalPage\n        }).catch((e) => {\n          this.error = e\n        })\n      this.isLoading = false\n    },\n    isAcknowledgementChecked (row, acknowledgementType) {\n      const arr = row.permit_acknowledged\n      return Array.isArray(arr) && arr.includes(acknowledgementType)\n    },\n    onGoToDayoffForm () {\n      this.$router.push({\n        path: '/dayoff/create'\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dayoff-table {\n  &__evidence {\n    @apply w-24 h-24 object-center object-cover\n    border border-solid border-gray-300\n    rounded-lg overflow-hidden;\n  }\n}\n\n.dayoff-table__btn-create {\n  @apply bg-blue-500 text-white\n  px-4 py-2 w-full rounded;\n}\n</style>\n"],"sourceRoot":"src/components/Attendance/DayoffList"}]}