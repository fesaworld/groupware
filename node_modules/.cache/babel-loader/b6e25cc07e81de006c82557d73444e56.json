{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/babel-loader/lib/index.js!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/components/LazyListDataProvider.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/components/LazyListDataProvider.vue","mtime":1673491775264},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL1VzZXJzL2pkcy9Eb2N1bWVudHMvZGlza29taW5mby9qZHMvZGlnaXRlYW0vZ3JvdXB3YXJlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tICIvVXNlcnMvamRzL0RvY3VtZW50cy9kaXNrb21pbmZvL2pkcy9kaWdpdGVhbS9ncm91cHdhcmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgbWFrZVByb21pc2VDYW5jZWxhYmxlIGZyb20gJy4uL2xpYi9jYW5jZWxhYmxlLXByb21pc2UnOwppbXBvcnQgdGhyb3R0bGUgZnJvbSAnbG9kYXNoL3Rocm90dGxlJzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBpbW1lZGlhdGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBkYXRhU291cmNlOiB7CiAgICAgIHR5cGU6IFtGdW5jdGlvbl0sCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgcGVyUGFnZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDUKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc1BlbmRpbmc6IGZhbHNlLAogICAgICBlcnJvcjogbnVsbCwKICAgICAgZGF0YTogbnVsbCwKICAgICAgY3VycmVudFBhZ2U6IDAsCiAgICAgIGhhc05vTW9yZUl0ZW1zVG9GZXRjaDogZmFsc2UsCiAgICAgIHByb21pc2VDYW5jZWxUb2tlbjogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBkYXRhU291cmNlQ29udGV4dDogZnVuY3Rpb24gZGF0YVNvdXJjZUNvbnRleHQoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgY3VycmVudFBhZ2U6IHRoaXMuY3VycmVudFBhZ2UsCiAgICAgICAgcGVyUGFnZTogdGhpcy5wZXJQYWdlLAogICAgICAgIGludGVyc2VjdGlvbk9ic2VydmVyOiBudWxsCiAgICAgIH07CiAgICB9LAogICAgaGFzTm9EYXRhOiBmdW5jdGlvbiBoYXNOb0RhdGEoKSB7CiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRQYWdlIDw9IDEgJiYgKCF0aGlzLmRhdGEgfHwgIXRoaXMuZGF0YS5sZW5ndGgpOwogICAgfSwKICAgIGhhc0F0TGVhc3RPbmVEYXRhOiBmdW5jdGlvbiBoYXNBdExlYXN0T25lRGF0YSgpIHsKICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFBhZ2UgPj0gMSAmJiAhIXRoaXMuZGF0YSAmJiAhIXRoaXMuZGF0YS5sZW5ndGg7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgZGF0YVNvdXJjZUNvbnRleHQ6IHsKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKGN0eCkgewogICAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZTpjb250ZXh0JywgY3R4KTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuJHdhdGNoKCdpbW1lZGlhdGUnLCBmdW5jdGlvbiBoYW5kbGVyKHRydXRoeSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRydXRoeSkgewogICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBfdGhpcy5zdGFydE9ic2VydmluZygpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LCB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfSk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy5zdG9wT2JzZXJ2aW5nKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdGFydE9ic2VydmluZzogZnVuY3Rpb24gc3RhcnRPYnNlcnZpbmcoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5zdG9wT2JzZXJ2aW5nKCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5jaGVja0ludGVyc2VjdGlvbk9ic2VydmVyU3VwcG9ydCgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyLnVzZUludGVyc2VjdGlvbk9ic2VydmVyKCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyLnVzZVNjcm9sbExpc3RlbmVyKCk7CiAgICAgICAgfSk7CiAgICAgIH0sIDUwKTsKICAgIH0sCiAgICBzdG9wT2JzZXJ2aW5nOiBmdW5jdGlvbiBzdG9wT2JzZXJ2aW5nKCkgewogICAgICB0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyID0gbnVsbDsKICAgICAgdGhpcy5yZW1vdmVXaW5kb3dTY3JvbGxMaXN0ZW5lcigpOwogICAgfSwKICAgIGNoZWNrSW50ZXJzZWN0aW9uT2JzZXJ2ZXJTdXBwb3J0OiBmdW5jdGlvbiBjaGVja0ludGVyc2VjdGlvbk9ic2VydmVyU3VwcG9ydCgpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBpZiAoSW50ZXJzZWN0aW9uT2JzZXJ2ZXIpIHsKICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignaW50ZXJzZWN0aW9uIG9ic2VydmVyIGlzIG5vdCBzdXBwb3J0ZWQnKSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICB1c2VJbnRlcnNlY3Rpb25PYnNlcnZlcjogZnVuY3Rpb24gdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKSB7CiAgICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIodGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlckNhbGxiYWNrKTsKICAgICAgdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlci5vYnNlcnZlKHRoaXMuJHJlZnMub2JzZXJ2ZXJUYXJnZXQpOwogICAgfSwKICAgIGludGVyc2VjdGlvbk9ic2VydmVyQ2FsbGJhY2s6IGZ1bmN0aW9uIGludGVyc2VjdGlvbk9ic2VydmVyQ2FsbGJhY2soZW50cmllcykgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGVudHJpZXMuZm9yRWFjaChmdW5jdGlvbiAoZW50cnkpIHsKICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHsKICAgICAgICAgIF90aGlzMy5vbkZldGNoRGF0YSgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgdXNlU2Nyb2xsTGlzdGVuZXI6IGZ1bmN0aW9uIHVzZVNjcm9sbExpc3RlbmVyKCkgewogICAgICB0aGlzLmdldE9ic2VydmVkVGFyZ2V0UG9zaXRpb24oKTsKICAgICAgdGhpcy5hZGRXaW5kb3dTY3JvbGxMaXN0ZW5lcigpOwogICAgfSwKICAgIGFkZFdpbmRvd1Njcm9sbExpc3RlbmVyOiBmdW5jdGlvbiBhZGRXaW5kb3dTY3JvbGxMaXN0ZW5lcigpIHsKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuZ2V0T2JzZXJ2ZWRUYXJnZXRQb3NpdGlvbiwgewogICAgICAgIHBhc3NpdmU6IHRydWUKICAgICAgfSk7CiAgICB9LAogICAgcmVtb3ZlV2luZG93U2Nyb2xsTGlzdGVuZXI6IGZ1bmN0aW9uIHJlbW92ZVdpbmRvd1Njcm9sbExpc3RlbmVyKCkgewogICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5nZXRPYnNlcnZlZFRhcmdldFBvc2l0aW9uLCB7CiAgICAgICAgcGFzc2l2ZTogdHJ1ZQogICAgICB9KTsKICAgIH0sCiAgICBnZXRPYnNlcnZlZFRhcmdldFBvc2l0aW9uOiB0aHJvdHRsZShmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBlbCA9IHRoaXMuJHJlZnMub2JzZXJ2ZXJUYXJnZXQ7CgogICAgICBpZiAoZWwpIHsKICAgICAgICB2YXIgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwoKICAgICAgICBpZiAocmVjdC50b3AgPD0gd2luZG93LmlubmVySGVpZ2h0KSB7CiAgICAgICAgICB0aGlzLm9uRmV0Y2hEYXRhKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCAxMDAwIC8gMTQ0KSwKICAgIHJlZnJlc2g6IGZ1bmN0aW9uIHJlZnJlc2goKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy5pc1BlbmRpbmcgPSBmYWxzZTsKICAgICAgdGhpcy5oYXNOb01vcmVJdGVtc1RvRmV0Y2ggPSBmYWxzZTsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDA7CiAgICAgIHRoaXMuZXJyb3IgPSBudWxsOwogICAgICB0aGlzLmRhdGEgPSBudWxsOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKF90aGlzNC5wcm9taXNlQ2FuY2VsVG9rZW4pIHsKICAgICAgICAgIF90aGlzNC5wcm9taXNlQ2FuY2VsVG9rZW4uY2FuY2VsKCk7CiAgICAgICAgfQoKICAgICAgICBfdGhpczQub25GZXRjaERhdGEoKTsKICAgICAgfSk7CiAgICB9LAogICAgb25GZXRjaERhdGE6IGZ1bmN0aW9uIG9uRmV0Y2hEYXRhKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmlzUGVuZGluZyB8fCB0aGlzLmhhc05vTW9yZUl0ZW1zVG9GZXRjaCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5jdXJyZW50UGFnZSArPSAxOwogICAgICB0aGlzLmlzUGVuZGluZyA9IHRydWU7CiAgICAgIHRoaXMuZXJyb3IgPSBudWxsOwogICAgICB2YXIgcHJvbWlzZTsKCiAgICAgIGlmICh0eXBlb2YgdGhpcy5kYXRhU291cmNlID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgOwoKICAgICAgICB2YXIgX21ha2VQcm9taXNlQ2FuY2VsYWJsID0gbWFrZVByb21pc2VDYW5jZWxhYmxlKHRoaXMuZGF0YVNvdXJjZSh0aGlzLmRhdGFTb3VyY2VDb250ZXh0KSk7CgogICAgICAgIHZhciBfbWFrZVByb21pc2VDYW5jZWxhYmwyID0gX3NsaWNlZFRvQXJyYXkoX21ha2VQcm9taXNlQ2FuY2VsYWJsLCAyKTsKCiAgICAgICAgcHJvbWlzZSA9IF9tYWtlUHJvbWlzZUNhbmNlbGFibDJbMF07CiAgICAgICAgdGhpcy5wcm9taXNlQ2FuY2VsVG9rZW4gPSBfbWFrZVByb21pc2VDYW5jZWxhYmwyWzFdOwogICAgICB9CgogICAgICBpZiAoIXByb21pc2UgfHwgIXByb21pc2UudGhlbiB8fCAhcHJvbWlzZS5jYXRjaCB8fCAhcHJvbWlzZS5maW5hbGx5KSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTGF6eUxpc3REYXRhUHJvdmlkZXI6IGRhdGFTb3VyY2UgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBQcm9taXNlIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIFByb21pc2UnKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIF90aGlzNS5oYXNOb01vcmVJdGVtc1RvRmV0Y2ggPSAhZGF0YSB8fCAhZGF0YS5sZW5ndGggfHwgX3RoaXM1LmN1cnJlbnRQYWdlID09PSAxICYmIGRhdGEubGVuZ3RoIDwgX3RoaXM1LnBlclBhZ2U7CiAgICAgICAgX3RoaXM1LmRhdGEgPSBBcnJheS5pc0FycmF5KF90aGlzNS5kYXRhKSA/IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoX3RoaXM1LmRhdGEpLCBfdG9Db25zdW1hYmxlQXJyYXkoZGF0YSkpIDogX3RvQ29uc3VtYWJsZUFycmF5KGRhdGEpOwoKICAgICAgICBfdGhpczUuc3RhcnRPYnNlcnZpbmcoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBpZiAoZSAmJiAhZS5pc0NhbmNlbGVkKSB7CiAgICAgICAgICBfdGhpczUuZXJyb3IgPSBlOwogICAgICAgIH0KICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM1LmlzUGVuZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["LazyListDataProvider.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,OAAA,qBAAA,MAAA,2BAAA;AACA,OAAA,QAAA,MAAA,iBAAA;AACA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,SAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA,KADA;AAKA,IAAA,UAAA,EAAA;AACA,MAAA,IAAA,EAAA,CAAA,QAAA,CADA;AAEA,MAAA,QAAA,EAAA;AAFA,KALA;AASA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AATA,GADA;AAeA,EAAA,IAfA,kBAeA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,KADA;AAEA,MAAA,KAAA,EAAA,IAFA;AAGA,MAAA,IAAA,EAAA,IAHA;AAIA,MAAA,WAAA,EAAA,CAJA;AAKA,MAAA,qBAAA,EAAA,KALA;AAOA,MAAA,kBAAA,EAAA;AAPA,KAAA;AASA,GAzBA;AA0BA,EAAA,QAAA,EAAA;AACA,IAAA,iBADA,+BACA;AACA,aAAA;AACA,QAAA,WAAA,EAAA,KAAA,WADA;AAEA,QAAA,OAAA,EAAA,KAAA,OAFA;AAGA,QAAA,oBAAA,EAAA;AAHA,OAAA;AAKA,KAPA;AAQA,IAAA,SARA,uBAQA;AACA,aAAA,KAAA,WAAA,IAAA,CAAA,KAAA,CAAA,KAAA,IAAA,IAAA,CAAA,KAAA,IAAA,CAAA,MAAA,CAAA;AACA,KAVA;AAWA,IAAA,iBAXA,+BAWA;AACA,aAAA,KAAA,WAAA,IAAA,CAAA,IAAA,CAAA,CAAA,KAAA,IAAA,IAAA,CAAA,CAAA,KAAA,IAAA,CAAA,MAAA;AACA;AAbA,GA1BA;AAyCA,EAAA,KAAA,EAAA;AACA,IAAA,iBAAA,EAAA;AACA,MAAA,SAAA,EAAA,IADA;AAEA,MAAA,OAFA,mBAEA,GAFA,EAEA;AACA,aAAA,KAAA,CAAA,gBAAA,EAAA,GAAA;AACA;AAJA;AADA,GAzCA;AAiDA,EAAA,OAjDA,qBAiDA;AACA,SAAA,MAAA,CACA,WADA,EAEA,SAAA,OAAA,CAAA,MAAA,EAAA;AAAA;;AACA,UAAA,MAAA,EAAA;AACA,aAAA,SAAA,CAAA;AAAA,iBAAA,KAAA,CAAA,cAAA,EAAA;AAAA,SAAA;AACA;AACA,KANA,EAOA;AAAA,MAAA,SAAA,EAAA;AAAA,KAPA;AASA,GA3DA;AA4DA,EAAA,aA5DA,2BA4DA;AACA,SAAA,aAAA;AACA,GA9DA;AA+DA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AAAA;;AACA,WAAA,aAAA;AACA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,MAAA,CAAA,gCAAA,GACA,IADA,CACA,YAAA;AACA,UAAA,MAAA,CAAA,uBAAA;AACA,SAHA,EAIA,KAJA,CAIA,YAAA;AACA,UAAA,MAAA,CAAA,iBAAA;AACA,SANA;AAOA,OARA,EAQA,EARA,CAAA;AASA,KAZA;AAaA,IAAA,aAbA,2BAaA;AACA,WAAA,oBAAA,GAAA,IAAA;AACA,WAAA,0BAAA;AACA,KAhBA;AAiBA,IAAA,gCAjBA,8CAiBA;AACA,aAAA,IAAA,OAAA,CAAA,UAAA,OAAA,EAAA,MAAA,EAAA;AACA,YAAA,oBAAA,EAAA;AACA,UAAA,OAAA;AACA,SAFA,MAEA;AACA,UAAA,MAAA,CAAA,IAAA,KAAA,CAAA,wCAAA,CAAA,CAAA;AACA;AACA,OANA,CAAA;AAOA,KAzBA;AA0BA,IAAA,uBA1BA,qCA0BA;AACA,WAAA,oBAAA,GAAA,IAAA,oBAAA,CACA,KAAA,4BADA,CAAA;AAGA,WAAA,oBAAA,CAAA,OAAA,CAAA,KAAA,KAAA,CAAA,cAAA;AACA,KA/BA;AAgCA,IAAA,4BAhCA,wCAgCA,OAhCA,EAgCA;AAAA;;AACA,MAAA,OAAA,CAAA,OAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,CAAA,cAAA,EAAA;AACA,UAAA,MAAA,CAAA,WAAA;AACA;AACA,OAJA;AAKA,KAtCA;AAuCA,IAAA,iBAvCA,+BAuCA;AACA,WAAA,yBAAA;AACA,WAAA,uBAAA;AACA,KA1CA;AA2CA,IAAA,uBA3CA,qCA2CA;AACA,MAAA,MAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,KAAA,yBAAA,EAAA;AACA,QAAA,OAAA,EAAA;AADA,OAAA;AAGA,KA/CA;AAgDA,IAAA,0BAhDA,wCAgDA;AACA,MAAA,MAAA,CAAA,mBAAA,CAAA,QAAA,EAAA,KAAA,yBAAA,EAAA;AACA,QAAA,OAAA,EAAA;AADA,OAAA;AAGA,KApDA;AAqDA,IAAA,yBAAA,EAAA,QAAA,CAAA,YAAA;AACA,UAAA,EAAA,GAAA,KAAA,KAAA,CAAA,cAAA;;AACA,UAAA,EAAA,EAAA;AACA,YAAA,IAAA,GAAA,EAAA,CAAA,qBAAA,EAAA;;AACA,YAAA,IAAA,CAAA,GAAA,IAAA,MAAA,CAAA,WAAA,EAAA;AACA,eAAA,WAAA;AACA;AACA;AACA,KARA,EAQA,OAAA,GARA,CArDA;AA8DA,IAAA,OA9DA,qBA8DA;AAAA;;AACA,WAAA,SAAA,GAAA,KAAA;AACA,WAAA,qBAAA,GAAA,KAAA;AACA,WAAA,WAAA,GAAA,CAAA;AACA,WAAA,KAAA,GAAA,IAAA;AACA,WAAA,IAAA,GAAA,IAAA;AACA,WAAA,SAAA,CAAA,YAAA;AACA,YAAA,MAAA,CAAA,kBAAA,EAAA;AACA,UAAA,MAAA,CAAA,kBAAA,CAAA,MAAA;AACA;;AACA,QAAA,MAAA,CAAA,WAAA;AACA,OALA;AAMA,KA1EA;AA2EA,IAAA,WA3EA,yBA2EA;AAAA;;AACA,UAAA,KAAA,SAAA,IAAA,KAAA,qBAAA,EAAA;AACA;AACA;;AACA,WAAA,WAAA,IAAA,CAAA;AACA,WAAA,SAAA,GAAA,IAAA;AACA,WAAA,KAAA,GAAA,IAAA;AACA,UAAA,OAAA;;AACA,UAAA,OAAA,KAAA,UAAA,KAAA,UAAA,EAAA;AACA;;AADA,oCACA,qBAAA,CACA,KAAA,UAAA,CAAA,KAAA,iBAAA,CADA,CADA;;AAAA;;AACA,QAAA,OADA;AACA,aAAA,kBADA;AAIA;;AAEA,UAAA,CAAA,OAAA,IAAA,CAAA,OAAA,CAAA,IAAA,IAAA,CAAA,OAAA,CAAA,KAAA,IAAA,CAAA,OAAA,CAAA,OAAA,EAAA;AACA,cAAA,IAAA,SAAA,CACA,oGADA,CAAA;AAGA;;AACA,aAAA,OAAA,CACA,IADA,CACA,UAAA,IAAA,EAAA;AACA,QAAA,MAAA,CAAA,qBAAA,GACA,CAAA,IAAA,IACA,CAAA,IAAA,CAAA,MADA,IAEA,MAAA,CAAA,WAAA,KAAA,CAAA,IAAA,IAAA,CAAA,MAAA,GAAA,MAAA,CAAA,OAHA;AAIA,QAAA,MAAA,CAAA,IAAA,GAAA,KAAA,CAAA,OAAA,CAAA,MAAA,CAAA,IAAA,iCACA,MAAA,CAAA,IADA,sBACA,IADA,wBAEA,IAFA,CAAA;;AAGA,QAAA,MAAA,CAAA,cAAA;AACA,OAVA,EAWA,KAXA,CAWA,UAAA,CAAA,EAAA;AACA,YAAA,CAAA,IAAA,CAAA,CAAA,CAAA,UAAA,EAAA;AACA,UAAA,MAAA,CAAA,KAAA,GAAA,CAAA;AACA;AACA,OAfA,EAgBA,OAhBA,CAgBA,YAAA;AACA,QAAA,MAAA,CAAA,SAAA,GAAA,KAAA;AACA,OAlBA,CAAA;AAmBA;AAjHA;AA/DA,CAAA","sourcesContent":["<template>\n  <div>\n    <template v-if=\"data\">\n      <slot v-bind=\"{ data }\"></slot>\n    </template>\n    <template v-if=\"isPending\">\n      <slot name=\"pending\"></slot>\n    </template>\n    <template v-if=\"error\">\n      <slot\n        name=\"error\"\n        v-bind=\"{ message: error }\"\n      ></slot>\n    </template>\n    <template v-else-if=\"hasNoMoreItemsToFetch\">\n      <slot\n        name=\"end\"\n        v-bind=\"{ hasNoData, hasAtLeastOneData }\"\n      ></slot>\n    </template>\n    <div\n      role=\"observerTarget\"\n      ref=\"observerTarget\"\n      class=\"mb-16 h-0 bg-gray-200 rounded\"\n    ></div>\n  </div>\n</template>\n\n<script>\nimport makePromiseCancelable from '../lib/cancelable-promise'\nimport throttle from 'lodash/throttle'\nexport default {\n  props: {\n    immediate: {\n      type: Boolean,\n      default: false\n    },\n    dataSource: {\n      type: [Function],\n      required: true\n    },\n    perPage: {\n      type: Number,\n      default: 5\n    }\n  },\n  data () {\n    return {\n      isPending: false,\n      error: null,\n      data: null,\n      currentPage: 0,\n      hasNoMoreItemsToFetch: false,\n\n      promiseCancelToken: null\n    }\n  },\n  computed: {\n    dataSourceContext () {\n      return {\n        currentPage: this.currentPage,\n        perPage: this.perPage,\n        intersectionObserver: null\n      }\n    },\n    hasNoData () {\n      return this.currentPage <= 1 && (!this.data || !this.data.length)\n    },\n    hasAtLeastOneData () {\n      return this.currentPage >= 1 && !!this.data && !!this.data.length\n    }\n  },\n  watch: {\n    dataSourceContext: {\n      immediate: true,\n      handler (ctx) {\n        this.$emit('change:context', ctx)\n      }\n    }\n  },\n  mounted () {\n    this.$watch(\n      'immediate',\n      function handler (truthy) {\n        if (truthy) {\n          this.$nextTick(() => this.startObserving())\n        }\n      },\n      { immediate: true }\n    )\n  },\n  beforeDestroy () {\n    this.stopObserving()\n  },\n  methods: {\n    startObserving () {\n      this.stopObserving()\n      setTimeout(() => {\n        this.checkIntersectionObserverSupport()\n          .then(() => {\n            this.useIntersectionObserver()\n          })\n          .catch(() => {\n            this.useScrollListener()\n          })\n      }, 50)\n    },\n    stopObserving () {\n      this.intersectionObserver = null\n      this.removeWindowScrollListener()\n    },\n    checkIntersectionObserverSupport () {\n      return new Promise((resolve, reject) => {\n        if (IntersectionObserver) {\n          resolve()\n        } else {\n          reject(new Error('intersection observer is not supported'))\n        }\n      })\n    },\n    useIntersectionObserver () {\n      this.intersectionObserver = new IntersectionObserver(\n        this.intersectionObserverCallback\n      )\n      this.intersectionObserver.observe(this.$refs.observerTarget)\n    },\n    intersectionObserverCallback (entries) {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          this.onFetchData()\n        }\n      })\n    },\n    useScrollListener () {\n      this.getObservedTargetPosition()\n      this.addWindowScrollListener()\n    },\n    addWindowScrollListener () {\n      window.addEventListener('scroll', this.getObservedTargetPosition, {\n        passive: true\n      })\n    },\n    removeWindowScrollListener () {\n      window.removeEventListener('scroll', this.getObservedTargetPosition, {\n        passive: true\n      })\n    },\n    getObservedTargetPosition: throttle(function () {\n      const el = this.$refs.observerTarget\n      if (el) {\n        const rect = el.getBoundingClientRect()\n        if (rect.top <= window.innerHeight) {\n          this.onFetchData()\n        }\n      }\n    }, 1000 / 144),\n    refresh () {\n      this.isPending = false\n      this.hasNoMoreItemsToFetch = false\n      this.currentPage = 0\n      this.error = null\n      this.data = null\n      this.$nextTick(() => {\n        if (this.promiseCancelToken) {\n          this.promiseCancelToken.cancel()\n        }\n        this.onFetchData()\n      })\n    },\n    onFetchData () {\n      if (this.isPending || this.hasNoMoreItemsToFetch) {\n        return\n      }\n      this.currentPage += 1\n      this.isPending = true\n      this.error = null\n      let promise\n      if (typeof this.dataSource === 'function') {\n        ;[promise, this.promiseCancelToken] = makePromiseCancelable(\n          this.dataSource(this.dataSourceContext)\n        )\n      }\n\n      if (!promise || !promise.then || !promise.catch || !promise.finally) {\n        throw new TypeError(\n          'LazyListDataProvider: dataSource must be an instance of Promise or a function that returns Promise'\n        )\n      }\n      return promise\n        .then((data) => {\n          this.hasNoMoreItemsToFetch =\n            !data ||\n            !data.length ||\n            (this.currentPage === 1 && data.length < this.perPage)\n          this.data = Array.isArray(this.data)\n            ? [...this.data, ...data]\n            : [...data]\n          this.startObserving()\n        })\n        .catch((e) => {\n          if (e && !e.isCanceled) {\n            this.error = e\n          }\n        })\n        .finally(() => {\n          this.isPending = false\n        })\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/components"}]}