{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/babel-loader/lib/index.js!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/components/Attendance/DayoffList/table.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/components/Attendance/DayoffList/table.vue","mtime":1673491775261},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZnJlZXplIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2pkcy9Eb2N1bWVudHMvZGlza29taW5mby9qZHMvZGlnaXRlYW0vZ3JvdXB3YXJlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IERhdGFUYWJsZSBmcm9tICcuLi8uLi9EYXRhVGFibGUnOwppbXBvcnQgeyBmb3JtYXREYXRlTG9uZyB9IGZyb20gJy4uLy4uLy4uL2xpYi9kYXRlJzsKaW1wb3J0IHsgU1RBS0VIT0xERVIgfSBmcm9tICcuLi8uLi8uLi9saWIvY29uc3RhbnRzJzsKdmFyIGFja25vd2xlZGdlbWVudE9wdGlvbnMgPSBPYmplY3QuZnJlZXplKFtTVEFLRUhPTERFUi5TVFJVQ1RVUkFMLCBTVEFLRUhPTERFUi5IUiwgU1RBS0VIT0xERVIuQ09PUkRJTkFUT1IsIFNUQUtFSE9MREVSLldPUktfUEFSVE5FUl0pOwp2YXIgdGFibGVDb2x1bW5zID0gT2JqZWN0LmZyZWV6ZShbewogIHByb3A6ICdwZXJtaXRzX3R5cGUnLAogIGxhYmVsOiAnSmVuaXMgSXppbicKfSwgewogIGxhYmVsOiAnRGFyaScsCiAgZ2V0OiBmdW5jdGlvbiBnZXQoX3JlZikgewogICAgdmFyIHJvdyA9IF9yZWYucm93OwoKICAgIGlmIChyb3cuc3RhcnRfZGF0ZSkgewogICAgICByZXR1cm4gZm9ybWF0RGF0ZUxvbmcobmV3IERhdGUocm93LnN0YXJ0X2RhdGUpKTsKICAgIH0KCiAgICByZXR1cm4gJy0nOwogIH0KfSwgewogIGxhYmVsOiAnU2FtcGFpJywKICBnZXQ6IGZ1bmN0aW9uIGdldChfcmVmMikgewogICAgdmFyIHJvdyA9IF9yZWYyLnJvdzsKCiAgICBpZiAocm93LmVuZF9kYXRlKSB7CiAgICAgIHJldHVybiBmb3JtYXREYXRlTG9uZyhuZXcgRGF0ZShyb3cuZW5kX2RhdGUpKTsKICAgIH0KCiAgICByZXR1cm4gJy0nOwogIH0KfSwgewogIHByb3A6ICdwZXJtaXRfYWNrbm93bGVkZ2VkJywKICBsYWJlbDogJ1N1ZGFoIE1lbWJlcml0YWh1Jwp9LCB7CiAgcHJvcDogJ25vdGUnLAogIGxhYmVsOiAnS2V0ZXJhbmdhbicKfSwgewogIHByb3A6ICdmaWxlX3VybCcsCiAgbGFiZWw6ICdFdmlkZW5jZScKfV0pOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgRGF0YVRhYmxlOiBEYXRhVGFibGUKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY2tub3dsZWRnZW1lbnRPcHRpb25zOiBhY2tub3dsZWRnZW1lbnRPcHRpb25zLAogICAgICB0YWJsZUNvbHVtbnM6IHRhYmxlQ29sdW1ucywKICAgICAgcGFnZTogMSwKICAgICAgcGVyUGFnZTogMTAsCiAgICAgIHRvdGFsUGFnZXM6IDAsCiAgICAgIHRvdGFsQ291bnQ6IDAsCiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgIGVycm9yOiBudWxsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHRhYmxlUGFnaW5hdGlvbjogZnVuY3Rpb24gdGFibGVQYWdpbmF0aW9uKCkgewogICAgICB2YXIgcGFnZSA9IHRoaXMucGFnZSwKICAgICAgICAgIHBlclBhZ2UgPSB0aGlzLnBlclBhZ2UsCiAgICAgICAgICB0b3RhbFBhZ2VzID0gdGhpcy50b3RhbFBhZ2VzLAogICAgICAgICAgdG90YWxDb3VudCA9IHRoaXMudG90YWxDb3VudDsKICAgICAgcmV0dXJuIHsKICAgICAgICBwYWdlOiBwYWdlLAogICAgICAgIHBlclBhZ2U6IHBlclBhZ2UsCiAgICAgICAgdG90YWxQYWdlczogdG90YWxQYWdlcywKICAgICAgICB0b3RhbENvdW50OiB0b3RhbENvdW50CiAgICAgIH07CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5sb2FkRGF0YSgpOwogIH0sCiAgbWV0aG9kczogewogICAgb25QYWdlQ2hhbmdlZDogZnVuY3Rpb24gb25QYWdlQ2hhbmdlZChuZXdQYWdlKSB7CiAgICAgIHRoaXMucGFnZSA9IG5ld1BhZ2U7CiAgICAgIHRoaXMubG9hZERhdGEoKTsKICAgIH0sCiAgICBsb2FkRGF0YTogZnVuY3Rpb24gbG9hZERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2RheW9mZi1saXN0L2dldERheW9mZkxpc3QnLCB7CiAgICAgICAgICAgICAgICAgIHBhZ2U6IF90aGlzLnBhZ2UsCiAgICAgICAgICAgICAgICAgIHBlclBhZ2U6IF90aGlzLnBlclBhZ2UKICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYzKSB7CiAgICAgICAgICAgICAgICAgIHZhciByZXN1bHRzID0gX3JlZjMucmVzdWx0cywKICAgICAgICAgICAgICAgICAgICAgIG1ldGEgPSBfcmVmMy5fbWV0YTsKICAgICAgICAgICAgICAgICAgX3RoaXMudGFibGVEYXRhID0gcmVzdWx0czsKICAgICAgICAgICAgICAgICAgX3RoaXMucGFnZSA9IG1ldGEuY3VycmVudFBhZ2U7CiAgICAgICAgICAgICAgICAgIF90aGlzLnBlclBhZ2UgPSBtZXRhLnBlclBhZ2U7CiAgICAgICAgICAgICAgICAgIF90aGlzLnRvdGFsQ291bnQgPSBtZXRhLnRvdGFsQ291bnQ7CiAgICAgICAgICAgICAgICAgIF90aGlzLnRvdGFsUGFnZXMgPSBtZXRhLnRvdGFsUGFnZTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9yID0gZTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGlzQWNrbm93bGVkZ2VtZW50Q2hlY2tlZDogZnVuY3Rpb24gaXNBY2tub3dsZWRnZW1lbnRDaGVja2VkKHJvdywgYWNrbm93bGVkZ2VtZW50VHlwZSkgewogICAgICB2YXIgYXJyID0gcm93LnBlcm1pdF9hY2tub3dsZWRnZWQ7CiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KGFycikgJiYgYXJyLmluY2x1ZGVzKGFja25vd2xlZGdlbWVudFR5cGUpOwogICAgfSwKICAgIG9uR29Ub0RheW9mZkZvcm06IGZ1bmN0aW9uIG9uR29Ub0RheW9mZkZvcm0oKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL2RheW9mZi9jcmVhdGUnCiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["table.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <DataTable\n    description=\"Dayoff List\"\n    class=\"dark:text-white\"\n    :is-loading=\"isLoading\"\n    :data=\"tableData\"\n    :error=\"error\"\n    :columns=\"tableColumns\"\n    :pagination=\"tablePagination\"\n    @change:page=\"onPageChanged\">\n    <template #actions>\n      <div>\n        <button class=\"dayoff-table__btn-create\" @click=\"onGoToDayoffForm\">\n          Laporkan Izin\n        </button>\n      </div>\n    </template>\n    <template #column-permit_acknowledged=\"{ row, rowIndex }\">\n      <ul>\n        <li\n          v-for=\"(ack, index) in acknowledgementOptions\"\n          :key=\"index\">\n          <label :for=\"`row-${rowIndex}-permit_acknowledged`\">\n            <input\n              type=\"checkbox\"\n              :checked=\"isAcknowledgementChecked(row, ack)\"\n              class=\"pointer-events-none\">\n            {{ ack }}\n          </label>\n        </li>\n      </ul>\n    </template>\n    <template #column-file_url=\"{ row }\">\n      <img\n        alt=\"Dayoff Evidence\"\n        :src=\"row.file_url\"\n        class=\"dayoff-table__evidence\">\n    </template>\n  </DataTable>\n</template>\n\n<script>\nimport DataTable from '../../DataTable'\nimport { formatDateLong } from '../../../lib/date'\nimport { STAKEHOLDER } from '../../../lib/constants'\n\nconst acknowledgementOptions = Object.freeze([\n  STAKEHOLDER.STRUCTURAL,\n  STAKEHOLDER.HR,\n  STAKEHOLDER.COORDINATOR,\n  STAKEHOLDER.WORK_PARTNER\n])\n\nconst tableColumns = Object.freeze([\n  {\n    prop: 'permits_type',\n    label: 'Jenis Izin'\n  },\n  {\n    label: 'Dari',\n    get: ({ row }) => {\n      if (row.start_date) {\n        return formatDateLong(new Date(row.start_date))\n      }\n      return '-'\n    }\n  },\n  {\n    label: 'Sampai',\n    get: ({ row }) => {\n      if (row.end_date) {\n        return formatDateLong(new Date(row.end_date))\n      }\n      return '-'\n    }\n  },\n  {\n    prop: 'permit_acknowledged',\n    label: 'Sudah Memberitahu'\n  },\n  {\n    prop: 'note',\n    label: 'Keterangan'\n  },\n  {\n    prop: 'file_url',\n    label: 'Evidence'\n  }\n])\n\nexport default {\n  components: {\n    DataTable\n  },\n  data () {\n    return {\n      acknowledgementOptions,\n      tableColumns,\n      page: 1,\n      perPage: 10,\n      totalPages: 0,\n      totalCount: 0,\n      tableData: [],\n      isLoading: false,\n      error: null\n    }\n  },\n  computed: {\n    tablePagination () {\n      const { page, perPage, totalPages, totalCount } = this\n      return {\n        page,\n        perPage,\n        totalPages,\n        totalCount\n      }\n    }\n  },\n  mounted () {\n    this.loadData()\n  },\n  methods: {\n    onPageChanged (newPage) {\n      this.page = newPage\n      this.loadData()\n    },\n    async loadData () {\n      this.isLoading = true\n      await this.$store.dispatch('dayoff-list/getDayoffList', {\n        page: this.page,\n        perPage: this.perPage\n      })\n        .then(({ results, _meta: meta }) => {\n          this.tableData = results\n          this.page = meta.currentPage\n          this.perPage = meta.perPage\n          this.totalCount = meta.totalCount\n          this.totalPages = meta.totalPage\n        }).catch((e) => {\n          this.error = e\n        })\n      this.isLoading = false\n    },\n    isAcknowledgementChecked (row, acknowledgementType) {\n      const arr = row.permit_acknowledged\n      return Array.isArray(arr) && arr.includes(acknowledgementType)\n    },\n    onGoToDayoffForm () {\n      this.$router.push({\n        path: '/dayoff/create'\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dayoff-table {\n  &__evidence {\n    @apply w-24 h-24 object-center object-cover\n    border border-solid border-gray-300\n    rounded-lg overflow-hidden;\n  }\n}\n\n.dayoff-table__btn-create {\n  @apply bg-blue-500 text-white\n  px-4 py-2 w-full rounded;\n}\n</style>\n"],"sourceRoot":"src/components/Attendance/DayoffList"}]}