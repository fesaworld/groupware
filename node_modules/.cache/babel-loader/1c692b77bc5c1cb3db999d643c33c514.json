{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/babel-loader/lib/index.js!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/eslint-loader/index.js??ref--14-0!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/store/modules/dayoff-list.js","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/store/modules/dayoff-list.js","mtime":1673491775271},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/eslint-loader/index.js","mtime":1673491969842}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2pkcy9Eb2N1bWVudHMvZGlza29taW5mby9qZHMvZGlnaXRlYW0vZ3JvdXB3YXJlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOyAvLyBpbXBvcnQgcE1pbkRlbGF5IGZyb20gJ3AtbWluLWRlbGF5JwoKaW1wb3J0IHsgR3JvdXB3YXJlQVBJIH0gZnJvbSAnLi4vLi4vbGliL2F4aW9zJzsgLy8gc3RhdGUKCmV4cG9ydCB2YXIgc3RhdGUgPSB7CiAgaXRlbXNNYXA6IHt9Cn07CmV4cG9ydCB2YXIgbXV0YXRpb25zID0gewogIGtlZXBJdGVtSW5DYWNoZTogZnVuY3Rpb24ga2VlcEl0ZW1JbkNhY2hlKHN0YXRlLCBfcmVmKSB7CiAgICB2YXIgaWQgPSBfcmVmLmlkLAogICAgICAgIGl0ZW0gPSBfcmVmLml0ZW07CgogICAgaWYgKGl0ZW0gJiYgaWQpIHsKICAgICAgVnVlLnNldChzdGF0ZS5pdGVtc01hcCwgaWQsIGl0ZW0pOwogICAgfQogIH0sCiAgcmVtb3ZlSXRlbUluQ2FjaGU6IGZ1bmN0aW9uIHJlbW92ZUl0ZW1JbkNhY2hlKHN0YXRlLCBfcmVmMikgewogICAgdmFyIGlkID0gX3JlZjIuaWQ7CgogICAgaWYgKGlkICYmIGlkIGluIHN0YXRlLml0ZW1zTWFwKSB7CiAgICAgIFZ1ZS5kZWxldGUoc3RhdGUuaXRlbXNNYXAsIGlkKTsKICAgIH0KICB9Cn07IC8vIGFjdGlvbnMKCmV4cG9ydCB2YXIgYWN0aW9ucyA9IHsKICBnZXREYXlvZmZMaXN0OiBmdW5jdGlvbiBnZXREYXlvZmZMaXN0KF8pIHsKICAgIHZhciBfYXJndW1lbnRzID0gYXJndW1lbnRzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIF9yZWYzLCBfcmVmMyRwYWdlLCBwYWdlLCBfcmVmMyRwZXJQYWdlLCBwZXJQYWdlLCBnZXQ7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX3JlZjMgPSBfYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgX2FyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3VtZW50c1sxXSA6IHt9LCBfcmVmMyRwYWdlID0gX3JlZjMucGFnZSwgcGFnZSA9IF9yZWYzJHBhZ2UgPT09IHZvaWQgMCA/IDEgOiBfcmVmMyRwYWdlLCBfcmVmMyRwZXJQYWdlID0gX3JlZjMucGVyUGFnZSwgcGVyUGFnZSA9IF9yZWYzJHBlclBhZ2UgPT09IHZvaWQgMCA/IDEwIDogX3JlZjMkcGVyUGFnZTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gR3JvdXB3YXJlQVBJLmdldCgnZGF5LW9mZi8nLCB7CiAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgcGFnZTogcGFnZSwKICAgICAgICAgICAgICAgICAgbGltaXQ6IHBlclBhZ2UKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gci5kYXRhOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGdldCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgZ2V0KTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGdldERheW9mZkJ5SWQ6IGZ1bmN0aW9uIGdldERheW9mZkJ5SWQoX3JlZjQsIGlkKSB7CiAgICB2YXIgc3RhdGUgPSBfcmVmNC5zdGF0ZTsKCiAgICBpZiAoaWQgaW4gc3RhdGUuaXRlbXNNYXApIHsKICAgICAgdmFyIGl0ZW0gPSBzdGF0ZS5pdGVtc01hcFtpZF07CiAgICAgIHJldHVybiBpdGVtIHx8IG51bGw7CiAgICB9CgogICAgcmV0dXJuIG51bGw7CiAgfQp9Ow=="},{"version":3,"sources":["/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/store/modules/dayoff-list.js"],"names":["Vue","GroupwareAPI","state","itemsMap","mutations","keepItemInCache","id","item","set","removeItemInCache","delete","actions","getDayoffList","_","page","perPage","get","params","limit","then","r","data","getDayoffById"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB,C,CACA;;AACA,SAASC,YAAT,QAA6B,iBAA7B,C,CAEA;;AACA,OAAO,IAAMC,KAAK,GAAG;AACnBC,EAAAA,QAAQ,EAAE;AADS,CAAd;AAIP,OAAO,IAAMC,SAAS,GAAG;AACvBC,EAAAA,eADuB,2BACNH,KADM,QACe;AAAA,QAAZI,EAAY,QAAZA,EAAY;AAAA,QAARC,IAAQ,QAARA,IAAQ;;AACpC,QAAIA,IAAI,IAAID,EAAZ,EAAgB;AACdN,MAAAA,GAAG,CAACQ,GAAJ,CAAQN,KAAK,CAACC,QAAd,EAAwBG,EAAxB,EAA4BC,IAA5B;AACD;AACF,GALsB;AAMvBE,EAAAA,iBANuB,6BAMJP,KANI,SAMW;AAAA,QAANI,EAAM,SAANA,EAAM;;AAChC,QAAIA,EAAE,IAAIA,EAAE,IAAIJ,KAAK,CAACC,QAAtB,EAAgC;AAC9BH,MAAAA,GAAG,CAACU,MAAJ,CAAWR,KAAK,CAACC,QAAjB,EAA2BG,EAA3B;AACD;AACF;AAVsB,CAAlB,C,CAaP;;AACA,OAAO,IAAMK,OAAO,GAAG;AACfC,EAAAA,aADe,yBACAC,CADA,EACoC;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,6FAAJ,EAAI,qBAA/BC,IAA+B,EAA/BA,IAA+B,2BAAxB,CAAwB,qCAArBC,OAAqB,EAArBA,OAAqB,8BAAX,EAAW;AAAA;AAAA,qBACrCd,YAAY,CAACe,GAAb,CAAiB,UAAjB,EAA6B;AAC7CC,gBAAAA,MAAM,EAAE;AACNH,kBAAAA,IAAI,EAAJA,IADM;AAENI,kBAAAA,KAAK,EAAEH;AAFD;AADqC,eAA7B,EAKfI,IALe,CAKV,UAAAC,CAAC;AAAA,uBAAIA,CAAC,CAACC,IAAN;AAAA,eALS,CADqC;;AAAA;AACjDL,cAAAA,GADiD;AAAA,+CAQhDA,GARgD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASxD,GAVoB;AAWrBM,EAAAA,aAXqB,gCAWKhB,EAXL,EAWS;AAAA,QAAbJ,KAAa,SAAbA,KAAa;;AAC5B,QAAII,EAAE,IAAIJ,KAAK,CAACC,QAAhB,EAA0B;AACxB,UAAMI,IAAI,GAAGL,KAAK,CAACC,QAAN,CAAeG,EAAf,CAAb;AACA,aAAOC,IAAI,IAAI,IAAf;AACD;;AACD,WAAO,IAAP;AACD;AAjBoB,CAAhB","sourcesContent":["import Vue from 'vue'\n// import pMinDelay from 'p-min-delay'\nimport { GroupwareAPI } from '../../lib/axios'\n\n// state\nexport const state = {\n  itemsMap: {}\n}\n\nexport const mutations = {\n  keepItemInCache (state, { id, item }) {\n    if (item && id) {\n      Vue.set(state.itemsMap, id, item)\n    }\n  },\n  removeItemInCache (state, { id }) {\n    if (id && id in state.itemsMap) {\n      Vue.delete(state.itemsMap, id)\n    }\n  }\n}\n\n// actions\nexport const actions = {\n  async getDayoffList (_, { page = 1, perPage = 10 } = {}) {\n    const get = await GroupwareAPI.get('day-off/', {\n      params: {\n        page,\n        limit: perPage\n      }\n    }).then(r => r.data)\n\n    return get\n  },\n  getDayoffById ({ state }, id) {\n    if (id in state.itemsMap) {\n      const item = state.itemsMap[id]\n      return item || null\n    }\n    return null\n  }\n}\n"]}]}