{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/babel-loader/lib/index.js!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/components/LoginUsernamePassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/components/LoginUsernamePassword.vue","mtime":1673491775265},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzIjsKaW1wb3J0IF90eXBlb2YgZnJvbSAiL1VzZXJzL2pkcy9Eb2N1bWVudHMvZGlza29taW5mby9qZHMvZGlnaXRlYW0vZ3JvdXB3YXJlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgRm9ybUlucHV0IGZyb20gJy4vRm9ybS9JbnB1dCc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBGb3JtSW5wdXQ6IEZvcm1JbnB1dAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzUGVuZGluZzogZmFsc2UsCiAgICAgIHNob3dQYXNzd29yZDogZmFsc2UsCiAgICAgIHBheWxvYWQ6IHsKICAgICAgICB1c2VybmFtZTogbnVsbCwKICAgICAgICBwYXNzd29yZDogbnVsbAogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzUGF5bG9hZEVtcHR5OiBmdW5jdGlvbiBpc1BheWxvYWRFbXB0eSgpIHsKICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXModGhpcy5wYXlsb2FkKS5zb21lKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgcmV0dXJuICF4OwogICAgICB9KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGhhc0Vycm9yOiBmdW5jdGlvbiBoYXNFcnJvcihlcnJvcnMpIHsKICAgICAgaWYgKF90eXBlb2YoZXJyb3JzKSA9PT0gJ29iamVjdCcgJiYgZXJyb3JzKSB7CiAgICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoZXJyb3JzKS5zb21lKGZ1bmN0aW9uIChhcnIpIHsKICAgICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KGFycikgJiYgYXJyLmxlbmd0aDsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuaXNQZW5kaW5nID0gdHJ1ZTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2F1dGgvbG9naW5Vc2luZ1VzZXJuYW1lQW5kUGFzc3dvcmQnLCB0aGlzLnBheWxvYWQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLiRlbWl0KCdsb2dpbjpzdWNjZXNzJyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICB2YXIgbXNnOwoKICAgICAgICBpZiAoJ3Jlc3BvbnNlJyBpbiBlcnIpIHsKICAgICAgICAgIG1zZyA9ICIiLmNvbmNhdChlcnIucmVzcG9uc2Uuc3RhdHVzLCAiOiAiKS5jb25jYXQoZXJyLnJlc3BvbnNlLmRhdGEuZGV0YWlsKTsKICAgICAgICB9IGVsc2UgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yKSB7CiAgICAgICAgICBtc2cgPSBlcnIubWVzc2FnZTsKICAgICAgICB9CgogICAgICAgIF90aGlzLiRlbWl0KCdsb2dpbjplcnJvcicsIG1zZyk7CiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmlzUGVuZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["LoginUsernamePassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA,OAAA,SAAA,MAAA,cAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA;AADA,GADA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,KADA;AAEA,MAAA,YAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA;AACA,QAAA,QAAA,EAAA,IADA;AAEA,QAAA,QAAA,EAAA;AAFA;AAHA,KAAA;AAQA,GAbA;AAcA,EAAA,QAAA,EAAA;AACA,IAAA,cADA,4BACA;AACA,aAAA,MAAA,CAAA,MAAA,CAAA,KAAA,OAAA,EAAA,IAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA;AAAA,OAAA,CAAA;AACA;AAHA,GAdA;AAmBA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,oBACA,MADA,EACA;AACA,UAAA,QAAA,MAAA,MAAA,QAAA,IAAA,MAAA,EAAA;AACA,eAAA,MAAA,CAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,UAAA,GAAA;AAAA,iBAAA,KAAA,CAAA,OAAA,CAAA,GAAA,KAAA,GAAA,CAAA,MAAA;AAAA,SAAA,CAAA;AACA;AACA,KALA;AAMA,IAAA,QANA,sBAMA;AAAA;;AACA,WAAA,SAAA,GAAA,IAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,oCAAA,EAAA,KAAA,OAAA,EACA,IADA,CACA,YAAA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,eAAA;AACA,OAHA,EAIA,KAJA,CAIA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA;;AACA,YAAA,cAAA,GAAA,EAAA;AACA,UAAA,GAAA,aAAA,GAAA,CAAA,QAAA,CAAA,MAAA,eAAA,GAAA,CAAA,QAAA,CAAA,IAAA,CAAA,MAAA,CAAA;AACA,SAFA,MAEA,IAAA,GAAA,YAAA,KAAA,EAAA;AACA,UAAA,GAAA,GAAA,GAAA,CAAA,OAAA;AACA;;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,aAAA,EAAA,GAAA;AACA,OAZA,EAaA,OAbA,CAaA,YAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,KAAA;AACA,OAfA;AAgBA;AAxBA;AAnBA,CAAA","sourcesContent":["<template>\n  <ValidationObserver\n    tag=\"div\"\n    :slim=\"false\"\n    #default=\"{ errors, handleSubmit }\"\n  >\n    <form @submit.prevent=\"handleSubmit(onSubmit)\">\n      <FormInput\n        name=\"username\"\n        title=\"Username\"\n        type=\"text\"\n        v-model=\"payload.username\"\n        rules=\"required\"\n        :custom-messages=\"{\n          required: 'Username harus diisi'\n        }\"\n      >\n        <template #title>\n          <span class=\"text-sm text-gray-800 dark:text-white\">\n            Username\n          </span>\n        </template>\n      </FormInput>\n      <br/>\n      <div class=\"relative\">\n        <FormInput\n          name=\"password\"\n          title=\"Password\"\n          :type=\"showPassword ? 'text' : 'password'\"\n          v-model=\"payload.password\"\n          rules=\"required\"\n          :custom-messages=\"{\n            required: 'Password harus diisi'\n          }\"\n        >\n          <template #title>\n            <span class=\"text-sm text-gray-800 dark:text-white\">\n              Password\n            </span>\n          </template>\n        </FormInput>\n      </div>\n      <br />\n      <div class=\"flex justify-end\">\n        <button\n          type=\"submit\"\n          :class=\"{\n            'btn-login-uname-pwd': true,\n            'is-error': hasError(errors),\n            'is-disabled': isPayloadEmpty,\n            'is-pending': isPending\n          }\"\n        >\n          <img\n            v-if=\"isPending\"\n            src=\"@/assets/loading.gif\"\n            class=\"inline-block w-auto object-contain object-center\"\n            style=\"height: 24px;\">\n          <span v-else>\n            Login\n          </span>\n        </button>\n      </div>\n    </form>\n  </ValidationObserver>\n</template>\n\n<script>\nimport FormInput from './Form/Input'\nexport default {\n  components: {\n    FormInput\n  },\n  data () {\n    return {\n      isPending: false,\n      showPassword: false,\n      payload: {\n        username: null,\n        password: null\n      }\n    }\n  },\n  computed: {\n    isPayloadEmpty () {\n      return Object.values(this.payload).some(x => !x)\n    }\n  },\n  methods: {\n    hasError (errors) {\n      if (typeof errors === 'object' && errors) {\n        return Object.values(errors).some(arr => Array.isArray(arr) && arr.length)\n      }\n    },\n    onSubmit () {\n      this.isPending = true\n      this.$store.dispatch('auth/loginUsingUsernameAndPassword', this.payload)\n        .then(() => {\n          this.$emit('login:success')\n        })\n        .catch((err) => {\n          let msg\n          if ('response' in err) {\n            msg = `${err.response.status}: ${err.response.data.detail}`\n          } else if (err instanceof Error) {\n            msg = err.message\n          }\n          this.$emit('login:error', msg)\n        })\n        .finally(() => {\n          this.isPending = false\n        })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.btn-login-uname-pwd {\n  @apply appearance-none\n  w-full px-8 py-2\n  border border-solid border-gray-300\n  rounded\n  text-center\n  shadow;\n\n  &.is-error,\n  &.is-disabled {\n    @apply text-white cursor-not-allowed bg-gray-400;\n  }\n\n  &.is-pending {\n    @apply bg-white text-transparent;\n  }\n\n  &:not(.is-error):not(.is-disabled):not(.is-pending) {\n    @apply text-white bg-brand-green-darker;\n\n    &:hover {\n      @apply bg-brand-green-light;\n    }\n  }\n\n  &:focus,\n  &:active {\n    @apply outline-none;\n  }\n}\n</style>\n"],"sourceRoot":"src/components"}]}