{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/Profile/Edit/DataCompletionStatus.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/Profile/Edit/DataCompletionStatus.vue","mtime":1673491775266},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZWR1Y2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZW50cmllcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIgZnJvbSAiL1VzZXJzL2pkcy9Eb2N1bWVudHMvZGlza29taW5mby9qZHMvZGlnaXRlYW0vZ3JvdXB3YXJlL2dyb3Vwd2FyZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tICIvVXNlcnMvamRzL0RvY3VtZW50cy9kaXNrb21pbmZvL2pkcy9kaWdpdGVhbS9ncm91cHdhcmUvZ3JvdXB3YXJlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IF9nZXQgZnJvbSAnbG9kYXNoL2dldCc7CmltcG9ydCBfZmxvb3IgZnJvbSAnbG9kYXNoL2Zsb29yJzsKaW1wb3J0IHsgUFJPRklMRV9EQVRBX1NDSEVNQSB9IGZyb20gJy4vdXRpbHMnOwp2YXIgU0NIRU1BX0VOVFJJRVMgPSBPYmplY3QuZW50cmllcyhQUk9GSUxFX0RBVEFfU0NIRU1BKTsKdmFyIEFMTF9GSUVMRFNfQ09VTlQgPSBTQ0hFTUFfRU5UUklFUy5yZWR1Y2UoZnVuY3Rpb24gKHN1bSwgX3JlZikgewogIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpLAogICAgICBkYXRhdHlwZSA9IF9yZWYyWzBdLAogICAgICBmaWVsZHMgPSBfcmVmMlsxXTsKCiAgc3VtID0gc3VtICsgZmllbGRzLmxlbmd0aDsKICByZXR1cm4gc3VtOwp9LCAwKTsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBtb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2RlZmF1bHQnLAogICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcih2KSB7CiAgICAgICAgcmV0dXJuIFsncmVkaXJlY3QnLCAnZGVmYXVsdCddLmluY2x1ZGVzKHYpOwogICAgICB9CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd1N0YXR1czogZmFsc2UsCiAgICAgIGNvbXBsZXRpb25QZXJjZW50YWdlOiAwCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuJHdhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlWydwcm9maWxlLWRldGFpbCddLml0ZW07CiAgICB9LCBmdW5jdGlvbiAob2JqKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAob2JqKSB7CiAgICAgICAgdGhpcy5wcm9jZXNzRGF0YShvYmopLnRoZW4oZnVuY3Rpb24gKF9yZWYzKSB7CiAgICAgICAgICB2YXIgZmlsbGVkID0gX3JlZjMuZmlsbGVkLAogICAgICAgICAgICAgIHVuZmlsbGVkID0gX3JlZjMudW5maWxsZWQsCiAgICAgICAgICAgICAgcGVyY2VudGFnZSA9IF9yZWYzLnBlcmNlbnRhZ2U7CiAgICAgICAgICBfdGhpcy5zaG93U3RhdHVzID0gcGVyY2VudGFnZSA8IDEwMDsKICAgICAgICAgIF90aGlzLmNvbXBsZXRpb25QZXJjZW50YWdlID0gcGVyY2VudGFnZTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwgewogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgIGRlZXA6IGZhbHNlCiAgICB9KTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICB1c2VyOiBmdW5jdGlvbiB1c2VyKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGVbJ3Byb2ZpbGUtZGV0YWlsJ10uaXRlbSB8fCBudWxsOwogICAgfSwKICAgIHByb2dyZXNzQmFyU3R5bGU6IGZ1bmN0aW9uIHByb2dyZXNzQmFyU3R5bGUoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgJy0tcHJvZmlsZS1jb21wbGV0aW9uJzogIiIuY29uY2F0KHRoaXMuY29tcGxldGlvblBlcmNlbnRhZ2UsICIlIikKICAgICAgfTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHByb2Nlc3NEYXRhOiBmdW5jdGlvbiBwcm9jZXNzRGF0YShleGlzdGluZ0RhdGEpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgaWYgKGV4aXN0aW5nRGF0YSkgewogICAgICAgICAgdmFyIGZpZWxkcyA9IFNDSEVNQV9FTlRSSUVTLnJlZHVjZShmdW5jdGlvbiAoX3JlZjQsIF9yZWY1KSB7CiAgICAgICAgICAgIHZhciBfcmVmNiA9IF9zbGljZWRUb0FycmF5KF9yZWY0LCAyKSwKICAgICAgICAgICAgICAgIGZpbGxlZCA9IF9yZWY2WzBdLAogICAgICAgICAgICAgICAgdW5maWxsZWQgPSBfcmVmNlsxXTsKCiAgICAgICAgICAgIHZhciBfcmVmNyA9IF9zbGljZWRUb0FycmF5KF9yZWY1LCAyKSwKICAgICAgICAgICAgICAgIGRhdGF0eXBlID0gX3JlZjdbMF0sCiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzID0gX3JlZjdbMV07CgogICAgICAgICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocHJvcGVydGllcyksCiAgICAgICAgICAgICAgICBfc3RlcDsKCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgIHZhciBwcm9wID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICAgICAgICB2YXIgbnMgPSAiIi5jb25jYXQoZGF0YXR5cGUsICIuIikuY29uY2F0KHByb3ApOwoKICAgICAgICAgICAgICAgIHZhciBleGlzdGluZ1ZhbCA9IF9nZXQoZXhpc3RpbmdEYXRhLCBucyk7CgogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBleGlzdGluZ1ZhbCA9PT0gJ3VuZGVmaW5lZCcgfHwgZXhpc3RpbmdWYWwgPT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgdW5maWxsZWQucHVzaChucyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBmaWxsZWQucHVzaChucyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBbZmlsbGVkLCB1bmZpbGxlZF07CiAgICAgICAgICB9LCBbW10sIFtdXSk7CgogICAgICAgICAgdmFyIF9maWVsZHMgPSBfc2xpY2VkVG9BcnJheShmaWVsZHMsIDIpLAogICAgICAgICAgICAgIGZpbGxlZCA9IF9maWVsZHNbMF0sCiAgICAgICAgICAgICAgdW5maWxsZWQgPSBfZmllbGRzWzFdOwoKICAgICAgICAgIHZhciByYXRpbyA9IGZpbGxlZC5sZW5ndGggLyBBTExfRklFTERTX0NPVU5UOwoKICAgICAgICAgIHZhciBwZXJjZW50YWdlID0gX2Zsb29yKHJhdGlvICogMTAwLCAwKTsKCiAgICAgICAgICByZXNvbHZlKHsKICAgICAgICAgICAgZmlsbGVkOiBmaWxsZWQsCiAgICAgICAgICAgIHVuZmlsbGVkOiB1bmZpbGxlZCwKICAgICAgICAgICAgcGVyY2VudGFnZTogcGVyY2VudGFnZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["DataCompletionStatus.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div v-show=\"completionPercentage < 100\">\n    <transition enter-active-class=\"slide-y-fade-transition-enter-active\"\n                enter-class=\"slide-y-fade-transition-enter\">\n      <div  v-if=\"user && showStatus\"\n            class=\"px-4 py-8 sm:p-8\">\n        <h3 class=\"relative text-xl pr-12\">\n          Hai, <strong>{{user.name}}</strong>!\n          <button class=\"appearance-none absolute right-0\"\n                  @click.capture=\"showStatus = false\">\n            <i aria-hidden=\"true\" class=\"fas fa-times fa-lg text-gray-600 hover:text-red-400\"></i>\n          </button>\n        </h3>\n        <template v-if=\"completionPercentage >= 100\">\n          <p></p>\n        </template>\n        <template v-else-if=\"completionPercentage < 100\">\n          <div>\n            <p class=\"text-lg text-gray-700 pr-12\">\n              Kelihatannya data kamu belum lengkap.<br class=\"hidden sm:block\">\n              Ayo lengkapi data kamu di\n              <router-link  v-if=\"mode === 'redirect'\"\n                            to=\"/profile/edit/personal\"\n                            class=\"font-bold text-brand-blue hover:text-blue-900 hover:underline\">sini</router-link>\n              <span v-else>sini</span>\n              &nbsp;&nbsp;<i aria-hidden=\"true\" class=\"far fa-smile\"></i>\n            </p>\n            <br>\n            <figcaption class=\"max-w-sm\">\n              <caption class=\"block text-left italic text-gray-600\">\n                Seberapa lengkap data kamu?\n              </caption>\n              <div class=\"w-full flex flex-row items-center\">\n                <i  aria-hidden=\"true\"\n                    role=\"progress bar\"\n                    class=\"progress-bar flex-1\"\n                    :style=\"progressBarStyle\">\n                </i>\n                <label class=\"progress-bar-label\">\n                  {{completionPercentage ? `${completionPercentage}%` : ''}}\n                </label>\n              </div>\n            </figcaption>\n          </div>\n        </template>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport _get from 'lodash/get'\nimport _floor from 'lodash/floor'\nimport { PROFILE_DATA_SCHEMA } from './utils'\n\nconst SCHEMA_ENTRIES = Object.entries(PROFILE_DATA_SCHEMA)\nconst ALL_FIELDS_COUNT = SCHEMA_ENTRIES.reduce((sum, [datatype, fields]) => {\n  sum = sum + fields.length\n  return sum\n}, 0)\n\nexport default {\n  props: {\n    mode: {\n      type: String,\n      default: 'default',\n      validator: function (v) {\n        return ['redirect', 'default'].includes(v)\n      }\n    }\n  },\n  data () {\n    return {\n      showStatus: false,\n      completionPercentage: 0\n    }\n  },\n  mounted () {\n    this.$watch(\n      function () {\n        return this.$store.state['profile-detail'].item\n      },\n      function (obj) {\n        if (obj) {\n          this.processData(obj)\n            .then(({ filled, unfilled, percentage }) => {\n              this.showStatus = percentage < 100\n              this.completionPercentage = percentage\n            })\n        }\n      },\n      { immediate: true, deep: false }\n    )\n  },\n  computed: {\n    user () {\n      return this.$store.state['profile-detail'].item || null\n    },\n    progressBarStyle () {\n      return {\n        '--profile-completion': `${this.completionPercentage}%`\n      }\n    }\n  },\n  methods: {\n    processData (existingData) {\n      return new Promise(resolve => {\n        if (existingData) {\n          const fields = SCHEMA_ENTRIES.reduce(([filled, unfilled], [datatype, properties]) => {\n            for (let prop of properties) {\n              const ns = `${datatype}.${prop}`\n              const existingVal = _get(existingData, ns)\n              if (typeof existingVal === 'undefined' || existingVal === null) {\n                unfilled.push(ns)\n              } else {\n                filled.push(ns)\n              }\n            }\n            return [filled, unfilled]\n          }, [[], []])\n\n          const [filled, unfilled] = fields\n          const ratio = filled.length / ALL_FIELDS_COUNT\n          const percentage = _floor(ratio * 100, 0)\n          resolve({\n            filled,\n            unfilled,\n            percentage\n          })\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.progress-bar {\n  @apply relative block flex justify-start items-center w-full h-2 rounded-full bg-gray-400 shadow;\n\n  &::before {\n    content: '';\n    @supports (clip-path: inset(0 0 0 0)) {\n      width: 100%;\n      clip-path: inset(0px calc(100% - var(--profile-completion, 100%)) 0px 0px);\n    }\n    @supports not (clip-path: inset(0 0 0 0)) {\n      width: var(--profile-completion, 100%);\n    }\n    background-color: #00c853;\n    background-image: linear-gradient(to right, #00b0ff 0%, #00c853);\n    @apply absolute top-0 left-0 bottom-0 inline-block rounded-full;\n  }\n}\n\n.progress-bar-label {\n  font-style: normal;\n  @apply inline-block ml-4 text-gray-700 text-base font-bold leading-none;\n}\n</style>\n"],"sourceRoot":"src/components/Profile/Edit"}]}