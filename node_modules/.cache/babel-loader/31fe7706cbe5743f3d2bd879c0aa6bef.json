{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/babel-loader/lib/index.js!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/components/Dashboard/LogbookHeatmaps/LogbookHeatmaps.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/components/Dashboard/LogbookHeatmaps/LogbookHeatmaps.vue","mtime":1673745247954},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsbCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9qZHMvRG9jdW1lbnRzL2Rpc2tvbWluZm8vamRzL2RpZ2l0ZWFtL2dyb3Vwd2FyZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBzdWJNb250aHMgZnJvbSAnZGF0ZS1mbnMvc3ViTW9udGhzJzsKaW1wb3J0IE1vbnRobHlIZWF0bWFwIGZyb20gJy4vTW9udGhseUhlYXRtYXAnOwppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTW9udGhseUhlYXRtYXA6IE1vbnRobHlIZWF0bWFwCiAgfSwKICBwcm92aWRlOiBmdW5jdGlvbiBwcm92aWRlKCkgewogICAgcmV0dXJuIHsKICAgICAgaGVhdG1hcENvbG9yQ29uZmlnOiB0aGlzLmNvbG9yQ29uZmlnCiAgICB9OwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGhhc0Vycm9yOiBmYWxzZSwKICAgICAgbnVtT2ZNb250aHM6IDIsCiAgICAgIGNvbG9yQ29uZmlnOiBbWzAsICcjRUNFRkYxJ10sIFsxLCAnI0M4RTZDOSddLCBbMywgJyM4MUM3ODQnXSwgWzUsICcjNENBRjUwJ10sIFs3LCAnIzM4OEUzQyddLCBbOSwgJyMxQjVFMjAnXSwgWzExLCAnIzAwNEQ0MCddXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKCdsb2dib29rLWhlYXRtYXAnLCB7CiAgICBpc0xvYWRpbmc6ICdpc0xvYWRpbmcnCiAgfSkpLCB7fSwgewogICAgaXNDaGVja2luU3RhdGU6IGZ1bmN0aW9uIGlzQ2hlY2tpblN0YXRlKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGVbJ2NoZWNraW5zLWxpc3QnXS5pc0NoZWNraW47CiAgICB9LAogICAgbGlzdE9mTW9udGhzOiBmdW5jdGlvbiBsaXN0T2ZNb250aHMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpOwogICAgICByZXR1cm4gbmV3IEFycmF5KHRoaXMubnVtT2ZNb250aHMpLmZpbGwobnVsbCkubWFwKGZ1bmN0aW9uIChfLCBpbmRleCkgewogICAgICAgIHZhciBkYXRlOwoKICAgICAgICBpZiAoaW5kZXggPCBfdGhpcy5udW1PZk1vbnRocyAtIDEpIHsKICAgICAgICAgIGRhdGUgPSBzdWJNb250aHModG9kYXksIF90aGlzLm51bU9mTW9udGhzIC0gMSAtIGluZGV4KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZGF0ZSA9IHRvZGF5OwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIG1vbnRoOiBkYXRlLmdldE1vbnRoKCksCiAgICAgICAgICB5ZWFyOiBkYXRlLmdldEZ1bGxZZWFyKCkKICAgICAgICB9OwogICAgICB9KTsKICAgIH0KICB9KSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgdGhpcy5mZXRjaEFsbExvZ2Jvb2tEYXRhKCkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICBfdGhpczIuaGFzRXJyb3IgPSB0cnVlOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoJ2xvZ2Jvb2staGVhdG1hcCcsIFsnZmV0Y2hBbGxMb2dib29rRGF0YSddKSksIHt9LCB7CiAgICBvbkNyZWF0ZU5ld0xvZ2Jvb2s6IGZ1bmN0aW9uIG9uQ3JlYXRlTmV3TG9nYm9vaygpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcvcmVwb3J0L2NyZWF0ZScKICAgICAgfSk7CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["LogbookHeatmaps.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,OAAA,SAAA,MAAA,oBAAA;AACA,OAAA,cAAA,MAAA,kBAAA;AACA,SAAA,QAAA,EAAA,UAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,cAAA,EAAA;AADA,GADA;AAIA,EAAA,OAJA,qBAIA;AACA,WAAA;AACA,MAAA,kBAAA,EAAA,KAAA;AADA,KAAA;AAGA,GARA;AASA,EAAA,IATA,kBASA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,KADA;AAEA,MAAA,WAAA,EAAA,CAFA;AAGA,MAAA,WAAA,EAAA,CACA,CAAA,CAAA,EAAA,SAAA,CADA,EAEA,CAAA,CAAA,EAAA,SAAA,CAFA,EAGA,CAAA,CAAA,EAAA,SAAA,CAHA,EAIA,CAAA,CAAA,EAAA,SAAA,CAJA,EAKA,CAAA,CAAA,EAAA,SAAA,CALA,EAMA,CAAA,CAAA,EAAA,SAAA,CANA,EAOA,CAAA,EAAA,EAAA,SAAA,CAPA;AAHA,KAAA;AAaA,GAvBA;AAwBA,EAAA,QAAA,kCACA,QAAA,CAAA,iBAAA,EAAA;AACA,IAAA,SAAA,EAAA;AADA,GAAA,CADA;AAIA,IAAA,cAJA,4BAIA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,eAAA,EAAA,SAAA;AACA,KANA;AAOA,IAAA,YAPA,0BAOA;AAAA;;AACA,UAAA,KAAA,GAAA,IAAA,IAAA,EAAA;AACA,aAAA,IAAA,KAAA,CAAA,KAAA,WAAA,EACA,IADA,CACA,IADA,EAEA,GAFA,CAEA,UAAA,CAAA,EAAA,KAAA,EAAA;AACA,YAAA,IAAA;;AACA,YAAA,KAAA,GAAA,KAAA,CAAA,WAAA,GAAA,CAAA,EAAA;AACA,UAAA,IAAA,GAAA,SAAA,CAAA,KAAA,EAAA,KAAA,CAAA,WAAA,GAAA,CAAA,GAAA,KAAA,CAAA;AACA,SAFA,MAEA;AACA,UAAA,IAAA,GAAA,KAAA;AACA;;AACA,eAAA;AACA,UAAA,KAAA,EAAA,IAAA,CAAA,QAAA,EADA;AAEA,UAAA,IAAA,EAAA,IAAA,CAAA,WAAA;AAFA,SAAA;AAIA,OAbA,CAAA;AAcA;AAvBA,IAxBA;AAiDA,EAAA,OAjDA,qBAiDA;AAAA;;AACA,SAAA,mBAAA,GACA,KADA,CACA,YAAA;AACA,MAAA,MAAA,CAAA,QAAA,GAAA,IAAA;AACA,KAHA;AAIA,GAtDA;AAuDA,EAAA,OAAA,kCACA,UAAA,CAAA,iBAAA,EAAA,CACA,qBADA,CAAA,CADA;AAIA,IAAA,kBAJA,gCAIA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA;AADA,OAAA;AAGA;AARA;AAvDA,CAAA","sourcesContent":["<template>\n  <div class=\"logbook-heatmaps\">\n    <p class=\"logbook-heatmaps__title text-gray-900 dark:text-white\">\n      Laporan Kamu\n    </p>\n    <div class=\"logbook-heatmaps__wrapper\">\n      <template v-for=\"item in listOfMonths\">\n        <MonthlyHeatmap\n          class=\"flex-1\"\n          :key=\"`${item.year}/${item.month}`\"\n          :is-loading=\"isLoading\"\n          :month=\"item.month\"\n          :year=\"item.year\" />\n      </template>\n      <div\n        v-show=\"hasError\"\n        class=\"logbook-heatmaps__error-overlay\">\n        <p>\n          Heatmap laporan sedang bermasalah.\n          <br>\n          Kami coba check dulu ya\n        </p>\n      </div>\n    </div>\n    <button\n      class=\"logbook-heatmaps__btn-create\"\n      @click=\"onCreateNewLogbook\"\n      v-if=\"isCheckinState\">\n      + Buat Laporan Baru\n    </button>\n    <div v-else class=\"px-4 rounded-md border border-solid border-orange-500 bg-orange-100 text-gray-700\">\n      <strong>\n        <span class=\"text-orange-700\">Silahkan Checkin untuk Buat Laporan</span>\n      </strong>\n    </div>\n  </div>\n</template>\n\n<script>\nimport subMonths from 'date-fns/subMonths'\nimport MonthlyHeatmap from './MonthlyHeatmap'\nimport { mapState, mapActions } from 'vuex'\n\nexport default {\n  components: {\n    MonthlyHeatmap\n  },\n  provide () {\n    return {\n      heatmapColorConfig: this.colorConfig\n    }\n  },\n  data () {\n    return {\n      hasError: false,\n      numOfMonths: 2,\n      colorConfig: [\n        [0, '#ECEFF1'],\n        [1, '#C8E6C9'],\n        [3, '#81C784'],\n        [5, '#4CAF50'],\n        [7, '#388E3C'],\n        [9, '#1B5E20'],\n        [11, '#004D40']\n      ]\n    }\n  },\n  computed: {\n    ...mapState('logbook-heatmap', {\n      isLoading: 'isLoading'\n    }),\n    isCheckinState () {\n      return this.$store.state['checkins-list'].isCheckin\n    },\n    listOfMonths () {\n      const today = new Date()\n      return new Array(this.numOfMonths)\n        .fill(null)\n        .map((_, index) => {\n          let date\n          if (index < this.numOfMonths - 1) {\n            date = subMonths(today, this.numOfMonths - 1 - index)\n          } else {\n            date = today\n          }\n          return {\n            month: date.getMonth(),\n            year: date.getFullYear()\n          }\n        })\n    }\n  },\n  mounted () {\n    this.fetchAllLogbookData()\n      .catch(() => {\n        this.hasError = true\n      })\n  },\n  methods: {\n    ...mapActions('logbook-heatmap', [\n      'fetchAllLogbookData'\n    ]),\n    onCreateNewLogbook () {\n      this.$router.push({\n        path: '/report/create'\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.logbook-heatmaps {\n\n  &__title {\n    @apply mb-4 text-base font-bold;\n  }\n\n  &__btn-create {\n    @apply w-full\n    px-4 py-2\n    rounded-md\n    bg-green-600\n    text-white;\n\n    &:hover {\n      @apply bg-green-500;\n    }\n  }\n\n  &__wrapper {\n    gap: 1rem;\n    @apply mb-4 relative flex flex-row flex-wrap\n    justify-start items-stretch;\n  }\n\n  &__error-overlay {\n    background-color: rgba(255, 255, 255, 0.85);\n    backdrop-filter: saturate(0%);\n    @apply absolute inset-0\n    flex justify-center items-center\n    text-center;\n  }\n}\n</style>\n"],"sourceRoot":"src/components/Dashboard/LogbookHeatmaps"}]}