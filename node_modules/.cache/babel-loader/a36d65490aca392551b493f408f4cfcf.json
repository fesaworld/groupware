{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/Dashboard/LogbookHeatmaps/LogbookHeatmaps.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/Dashboard/LogbookHeatmaps/LogbookHeatmaps.vue","mtime":1673491775261},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsbCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9qZHMvRG9jdW1lbnRzL2Rpc2tvbWluZm8vamRzL2RpZ2l0ZWFtL2dyb3Vwd2FyZS9ncm91cHdhcmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgc3ViTW9udGhzIGZyb20gJ2RhdGUtZm5zL3N1Yk1vbnRocyc7CmltcG9ydCBNb250aGx5SGVhdG1hcCBmcm9tICcuL01vbnRobHlIZWF0bWFwJzsKaW1wb3J0IHsgbWFwU3RhdGUsIG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIE1vbnRobHlIZWF0bWFwOiBNb250aGx5SGVhdG1hcAogIH0sCiAgcHJvdmlkZTogZnVuY3Rpb24gcHJvdmlkZSgpIHsKICAgIHJldHVybiB7CiAgICAgIGhlYXRtYXBDb2xvckNvbmZpZzogdGhpcy5jb2xvckNvbmZpZwogICAgfTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBoYXNFcnJvcjogZmFsc2UsCiAgICAgIG51bU9mTW9udGhzOiAyLAogICAgICBjb2xvckNvbmZpZzogW1swLCAnI0VDRUZGMSddLCBbMSwgJyNDOEU2QzknXSwgWzMsICcjODFDNzg0J10sIFs1LCAnIzRDQUY1MCddLCBbNywgJyMzODhFM0MnXSwgWzksICcjMUI1RTIwJ10sIFsxMSwgJyMwMDRENDAnXV0KICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSgnbG9nYm9vay1oZWF0bWFwJywgewogICAgaXNMb2FkaW5nOiAnaXNMb2FkaW5nJwogIH0pKSwge30sIHsKICAgIGxpc3RPZk1vbnRoczogZnVuY3Rpb24gbGlzdE9mTW9udGhzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTsKICAgICAgcmV0dXJuIG5ldyBBcnJheSh0aGlzLm51bU9mTW9udGhzKS5maWxsKG51bGwpLm1hcChmdW5jdGlvbiAoXywgaW5kZXgpIHsKICAgICAgICB2YXIgZGF0ZTsKCiAgICAgICAgaWYgKGluZGV4IDwgX3RoaXMubnVtT2ZNb250aHMgLSAxKSB7CiAgICAgICAgICBkYXRlID0gc3ViTW9udGhzKHRvZGF5LCBfdGhpcy5udW1PZk1vbnRocyAtIDEgLSBpbmRleCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGRhdGUgPSB0b2RheTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB7CiAgICAgICAgICBtb250aDogZGF0ZS5nZXRNb250aCgpLAogICAgICAgICAgeWVhcjogZGF0ZS5nZXRGdWxsWWVhcigpCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9CiAgfSksCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHRoaXMuZmV0Y2hBbGxMb2dib29rRGF0YSgpLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMyLmhhc0Vycm9yID0gdHJ1ZTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKCdsb2dib29rLWhlYXRtYXAnLCBbJ2ZldGNoQWxsTG9nYm9va0RhdGEnXSkpLCB7fSwgewogICAgb25DcmVhdGVOZXdMb2dib29rOiBmdW5jdGlvbiBvbkNyZWF0ZU5ld0xvZ2Jvb2soKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL3JlcG9ydC9jcmVhdGUnCiAgICAgIH0pOwogICAgfQogIH0pCn07"},{"version":3,"sources":["LogbookHeatmaps.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,OAAA,SAAA,MAAA,oBAAA;AACA,OAAA,cAAA,MAAA,kBAAA;AACA,SAAA,QAAA,EAAA,UAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,cAAA,EAAA;AADA,GADA;AAIA,EAAA,OAJA,qBAIA;AACA,WAAA;AACA,MAAA,kBAAA,EAAA,KAAA;AADA,KAAA;AAGA,GARA;AASA,EAAA,IATA,kBASA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,KADA;AAEA,MAAA,WAAA,EAAA,CAFA;AAGA,MAAA,WAAA,EAAA,CACA,CAAA,CAAA,EAAA,SAAA,CADA,EAEA,CAAA,CAAA,EAAA,SAAA,CAFA,EAGA,CAAA,CAAA,EAAA,SAAA,CAHA,EAIA,CAAA,CAAA,EAAA,SAAA,CAJA,EAKA,CAAA,CAAA,EAAA,SAAA,CALA,EAMA,CAAA,CAAA,EAAA,SAAA,CANA,EAOA,CAAA,EAAA,EAAA,SAAA,CAPA;AAHA,KAAA;AAaA,GAvBA;AAwBA,EAAA,QAAA,kCACA,QAAA,CAAA,iBAAA,EAAA;AACA,IAAA,SAAA,EAAA;AADA,GAAA,CADA;AAIA,IAAA,YAJA,0BAIA;AAAA;;AACA,UAAA,KAAA,GAAA,IAAA,IAAA,EAAA;AACA,aAAA,IAAA,KAAA,CAAA,KAAA,WAAA,EACA,IADA,CACA,IADA,EAEA,GAFA,CAEA,UAAA,CAAA,EAAA,KAAA,EAAA;AACA,YAAA,IAAA;;AACA,YAAA,KAAA,GAAA,KAAA,CAAA,WAAA,GAAA,CAAA,EAAA;AACA,UAAA,IAAA,GAAA,SAAA,CAAA,KAAA,EAAA,KAAA,CAAA,WAAA,GAAA,CAAA,GAAA,KAAA,CAAA;AACA,SAFA,MAEA;AACA,UAAA,IAAA,GAAA,KAAA;AACA;;AACA,eAAA;AACA,UAAA,KAAA,EAAA,IAAA,CAAA,QAAA,EADA;AAEA,UAAA,IAAA,EAAA,IAAA,CAAA,WAAA;AAFA,SAAA;AAIA,OAbA,CAAA;AAcA;AApBA,IAxBA;AA8CA,EAAA,OA9CA,qBA8CA;AAAA;;AACA,SAAA,mBAAA,GACA,KADA,CACA,YAAA;AACA,MAAA,MAAA,CAAA,QAAA,GAAA,IAAA;AACA,KAHA;AAIA,GAnDA;AAoDA,EAAA,OAAA,kCACA,UAAA,CAAA,iBAAA,EAAA,CACA,qBADA,CAAA,CADA;AAIA,IAAA,kBAJA,gCAIA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA;AADA,OAAA;AAGA;AARA;AApDA,CAAA","sourcesContent":["<template>\n  <div class=\"logbook-heatmaps\">\n    <p class=\"logbook-heatmaps__title text-gray-900 dark:text-white\">\n      Laporan Kamu\n    </p>\n    <div class=\"logbook-heatmaps__wrapper\">\n      <template v-for=\"item in listOfMonths\">\n        <MonthlyHeatmap\n          class=\"flex-1\"\n          :key=\"`${item.year}/${item.month}`\"\n          :is-loading=\"isLoading\"\n          :month=\"item.month\"\n          :year=\"item.year\" />\n      </template>\n      <div\n        v-show=\"hasError\"\n        class=\"logbook-heatmaps__error-overlay\">\n        <p>\n          Heatmap laporan sedang bermasalah.\n          <br>\n          Kami coba check dulu ya\n        </p>\n      </div>\n    </div>\n    <button\n      class=\"logbook-heatmaps__btn-create\"\n      @click=\"onCreateNewLogbook\">\n      + Buat Laporan Baru\n    </button>\n  </div>\n</template>\n\n<script>\nimport subMonths from 'date-fns/subMonths'\nimport MonthlyHeatmap from './MonthlyHeatmap'\nimport { mapState, mapActions } from 'vuex'\n\nexport default {\n  components: {\n    MonthlyHeatmap\n  },\n  provide () {\n    return {\n      heatmapColorConfig: this.colorConfig\n    }\n  },\n  data () {\n    return {\n      hasError: false,\n      numOfMonths: 2,\n      colorConfig: [\n        [0, '#ECEFF1'],\n        [1, '#C8E6C9'],\n        [3, '#81C784'],\n        [5, '#4CAF50'],\n        [7, '#388E3C'],\n        [9, '#1B5E20'],\n        [11, '#004D40']\n      ]\n    }\n  },\n  computed: {\n    ...mapState('logbook-heatmap', {\n      isLoading: 'isLoading'\n    }),\n    listOfMonths () {\n      const today = new Date()\n      return new Array(this.numOfMonths)\n        .fill(null)\n        .map((_, index) => {\n          let date\n          if (index < this.numOfMonths - 1) {\n            date = subMonths(today, this.numOfMonths - 1 - index)\n          } else {\n            date = today\n          }\n          return {\n            month: date.getMonth(),\n            year: date.getFullYear()\n          }\n        })\n    }\n  },\n  mounted () {\n    this.fetchAllLogbookData()\n      .catch(() => {\n        this.hasError = true\n      })\n  },\n  methods: {\n    ...mapActions('logbook-heatmap', [\n      'fetchAllLogbookData'\n    ]),\n    onCreateNewLogbook () {\n      this.$router.push({\n        path: '/report/create'\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.logbook-heatmaps {\n\n  &__title {\n    @apply mb-4 text-base font-bold;\n  }\n\n  &__btn-create {\n    @apply w-full\n    px-4 py-2\n    rounded-md\n    bg-green-600\n    text-white;\n\n    &:hover {\n      @apply bg-green-500;\n    }\n  }\n\n  &__wrapper {\n    gap: 1rem;\n    @apply mb-4 relative flex flex-row flex-wrap\n    justify-start items-stretch;\n  }\n\n  &__error-overlay {\n    background-color: rgba(255, 255, 255, 0.85);\n    backdrop-filter: saturate(0%);\n    @apply absolute inset-0\n    flex justify-center items-center\n    text-center;\n  }\n}\n</style>\n"],"sourceRoot":"src/components/Dashboard/LogbookHeatmaps"}]}