{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/babel-loader/lib/index.js!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/components/Form/InputFile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/components/Form/InputFile.vue","mtime":1673491775263},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb21lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybCI7CmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tICIvVXNlcnMvamRzL0RvY3VtZW50cy9kaXNrb21pbmZvL2pkcy9kaWdpdGVhbS9ncm91cHdhcmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvamRzL0RvY3VtZW50cy9kaXNrb21pbmZvL2pkcy9kaWdpdGVhbS9ncm91cHdhcmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBDb250ZW50TG9hZGVyIH0gZnJvbSAndnVlLWNvbnRlbnQtbG9hZGVyJzsKaW1wb3J0IHsgZ2V0U3RvcmVkRmlsZU1ldGFkYXRhIH0gZnJvbSAnLi4vLi4vYXBpJzsKaW1wb3J0IHsgcHJvcHMsIGNvbXBvbmVudHMgfSBmcm9tICcuL2lucHV0LW1peGluJzsKdmFyIFNUT1JBR0UgPSB7CiAgRklSRUJBU0U6ICdmaXJlYmFzZScsCiAgR1JPVVBXQVJFX1NFUlZJQ0U6ICdncm91cHdhcmUtc2VydmljZScKfTsKZXhwb3J0IGRlZmF1bHQgewogIGluaGVyaXRBdHRyczogZmFsc2UsCiAgY29tcG9uZW50czogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBjb21wb25lbnRzKSwge30sIHsKICAgIENvbnRlbnRMb2FkZXI6IENvbnRlbnRMb2FkZXIsCiAgICBEYXRhTG9hZGVyOiBmdW5jdGlvbiBEYXRhTG9hZGVyKCkgewogICAgICByZXR1cm4gaW1wb3J0KCcuLi9EYXRhTG9hZGVyJyk7CiAgICB9LAogICAgRmlsZVByZXZpZXc6IGZ1bmN0aW9uIEZpbGVQcmV2aWV3KCkgewogICAgICByZXR1cm4gaW1wb3J0KCcuL0ZpbGVQcmV2aWV3Jyk7CiAgICB9CiAgfSksCiAgcHJvcHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcHJvcHMpLCB7fSwgewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogU3RyaW5nCiAgICB9LAogICAgZmlsZTogewogICAgICB0eXBlOiBGaWxlCiAgICB9LAogICAgZmlsZW5hbWU6IHsKICAgICAgdHlwZTogU3RyaW5nCiAgICB9LAogICAgc291cmNlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogU1RPUkFHRS5GSVJFQkFTRSwKICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IodikgewogICAgICAgIHJldHVybiBbU1RPUkFHRS5GSVJFQkFTRSwgU1RPUkFHRS5HUk9VUFdBUkVfU0VSVklDRV0uaW5jbHVkZXModik7CiAgICAgIH0KICAgIH0sCiAgICByZW5hbWVhYmxlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBkb3dubG9hZE9uQ2xpY2s6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9KSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbUZpbGU6IG51bGwsCiAgICAgIG1GaWxlVVJMOiBudWxsLAogICAgICBwcm9taXNlZE1ldGFkYXRhOiBudWxsCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy4kbmV4dFRpY2soKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMuJHdhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gW3RoaXMudmFsdWUsIHRoaXMuZmlsZV07CiAgICAgIH0sIGZ1bmN0aW9uIChhcnIpIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgdmFyIF9hcnIgPSBfc2xpY2VkVG9BcnJheShhcnIsIDIpLAogICAgICAgICAgICB2YWx1ZSA9IF9hcnJbMF0sCiAgICAgICAgICAgIGZpbGUgPSBfYXJyWzFdOwoKICAgICAgICB0aGlzLiRyZWZzLnZhbGlkYXRvci5zeW5jVmFsdWUodmFsdWUpOwogICAgICAgIHRoaXMubUZpbGVVUkwgPSB2YWx1ZTsKICAgICAgICB0aGlzLm1GaWxlID0gZmlsZTsKCiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm1GaWxlVVJMID09PSAnc3RyaW5nJyAmJiB0aGlzLm1GaWxlVVJMLnN0YXJ0c1dpdGgoJ2h0dHAnKSkgewogICAgICAgICAgdGhpcy5wcm9taXNlZE1ldGFkYXRhID0gdGhpcy5nZXRGaWxlTWV0YWRhdGEodGhpcy5tRmlsZVVSTCk7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLm1GaWxlIGluc3RhbmNlb2YgRmlsZSkgewogICAgICAgICAgdGhpcy5wcm9taXNlZE1ldGFkYXRhID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoX3RoaXMyLm1GaWxlKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgICBkZWVwOiB0cnVlCiAgICAgIH0pOwogICAgfSk7CiAgfSwKICBjb21wdXRlZDogewogICAgc2hvdWxkRGlzYWJsZVZhbGlkYXRpb246IGZ1bmN0aW9uIHNob3VsZERpc2FibGVWYWxpZGF0aW9uKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiB0eXBlb2YgdGhpcy52YWx1ZSA9PT0gJ3N0cmluZycgJiYgWydibG9iJywgJ2h0dHAnXS5zb21lKGZ1bmN0aW9uIChzdHIpIHsKICAgICAgICByZXR1cm4gX3RoaXMzLnZhbHVlLnN0YXJ0c1dpdGgoc3RyKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRGaWxlTWV0YWRhdGE6IGZ1bmN0aW9uIGdldEZpbGVNZXRhZGF0YSh1cmwpIHsKICAgICAgaWYgKHRoaXMuc291cmNlID09PSBTVE9SQUdFLkZJUkVCQVNFKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgIGdldFN0b3JlZEZpbGVNZXRhZGF0YSh1cmwpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgbWV0YWRhdGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwogICAgICAgICAgICByZXNvbHZlKHsKICAgICAgICAgICAgICBuYW1lOiBtZXRhZGF0YS5uYW1lLAogICAgICAgICAgICAgIHR5cGU6IG1ldGFkYXRhLmNvbnRlbnRUeXBlLAogICAgICAgICAgICAgIHNpemU6IG1ldGFkYXRhLnNpemUKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICByZWplY3QoZSk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuc291cmNlID09PSBTVE9SQUdFLkdST1VQV0FSRV9TRVJWSUNFKSB7CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7fSk7CiAgICAgIH0KICAgIH0sCiAgICByZXNldElucHV0RWxlbWVudDogZnVuY3Rpb24gcmVzZXRJbnB1dEVsZW1lbnQoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuJHJlZnMuaW5wdXQpIHsKICAgICAgICB0aGlzLiRyZWZzLmlucHV0LnR5cGUgPSAnJzsKICAgICAgICB0aGlzLiRyZWZzLmlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICcnKTsKICAgICAgICByZXR1cm4gdGhpcy4kbmV4dFRpY2soKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzNC4kcmVmcy5pbnB1dC50eXBlID0gJ2ZpbGUnOwoKICAgICAgICAgIF90aGlzNC4kcmVmcy5pbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnZmlsZScpOwogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CiAgICB9LAogICAgb25DaG9vc2VGaWxlOiBmdW5jdGlvbiBvbkNob29zZUZpbGUoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdGhpcy5tRmlsZSA9IG51bGw7CiAgICAgIHRoaXMubUZpbGVVUkwgPSBudWxsOwogICAgICB0aGlzLnJlc2V0SW5wdXRFbGVtZW50KCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM1LiRyZWZzLmlucHV0LmNsaWNrKCk7CiAgICAgIH0pOwogICAgfSwKICAgIG9uUmVtb3ZlRmlsZTogZnVuY3Rpb24gb25SZW1vdmVGaWxlKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHRoaXMucHJvbWlzZWRNZXRhZGF0YSA9IG51bGw7CiAgICAgIHRoaXMucmVzZXRJbnB1dEVsZW1lbnQoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczYubUZpbGUgPSBudWxsOwogICAgICAgIF90aGlzNi5tRmlsZVVSTCA9IG51bGw7CgogICAgICAgIF90aGlzNi5lbWl0Q2hhbmdlKG51bGwsIG51bGwsIG51bGwpOwoKICAgICAgICByZXR1cm4gX3RoaXM2LiRuZXh0VGljaygpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczYuJHJlZnMudmFsaWRhdG9yLnZhbGlkYXRlKCk7CiAgICAgIH0pOwogICAgfSwKICAgIG9uRmlsZW5hbWVDaGFuZ2VkOiBmdW5jdGlvbiBvbkZpbGVuYW1lQ2hhbmdlZChuYW1lKSB7CiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpmaWxlbmFtZScsIG5hbWUpOwogICAgfSwKICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgaWYgKGUudGFyZ2V0LmZpbGVzKSB7CiAgICAgICAgdGhpcy5tRmlsZSA9IGUudGFyZ2V0LmZpbGVzLmxlbmd0aCA/IGUudGFyZ2V0LmZpbGVzWzBdIDogbnVsbDsKICAgICAgICB0aGlzLm1GaWxlVVJMID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwodGhpcy5tRmlsZSk7CiAgICAgICAgdGhpcy5lbWl0Q2hhbmdlKHRoaXMubUZpbGVVUkwsIHRoaXMubUZpbGUubmFtZSwgdGhpcy5tRmlsZSk7CiAgICAgIH0KCiAgICAgIHRoaXMuJG5leHRUaWNrKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM3LiRyZWZzLnZhbGlkYXRvci52YWxpZGF0ZShlKTsKICAgICAgfSk7CiAgICB9LAogICAgZW1pdENoYW5nZTogZnVuY3Rpb24gZW1pdENoYW5nZSh1cmwsIGZpbGVuYW1lLCBmaWxlKSB7CiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTp2YWx1ZScsIHVybCk7CiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpmaWxlbmFtZScsIGZpbGVuYW1lKTsKICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOmZpbGUnLCBmaWxlKTsKICAgIH0sCiAgICBvblByZXZpZXdEb2N1bWVudDogZnVuY3Rpb24gb25QcmV2aWV3RG9jdW1lbnQoKSB7CiAgICAgIHRoaXMubUZpbGVVUkwgJiYgd2luZG93Lm9wZW4odGhpcy5tRmlsZVVSTCwgJ19ibGFuaycpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["InputFile.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <ValidationProvider :rules=\"rules\"\n                      :disabled=\"shouldDisableValidation\"\n                      :custom-messages=\"customMessages\"\n                      #default=\"{failed, errors}\"\n                      tag=\"div\"\n                      ref=\"validator\">\n    <FormInputHeader :label-for=\"name\"\n                      :title=\"title\"\n                      :subtitle=\"subtitle\"\n                      :required=\"required\">\n      <template #title>\n        <slot name=\"title\"></slot>\n      </template>\n      <template #subtitle>\n        <slot name=\"subtitle\"></slot>\n      </template>\n    </FormInputHeader>\n    <DataLoader v-if=\"promisedMetadata\"\n                :promise=\"promisedMetadata\">\n      <template #pending>\n        <ContentLoader  class=\"max-w-xs\"\n                        :width=\"320\"\n                        :height=\"128\"\n                        :speed=\"2\"\n                        primary-color=\"#eceff1\"\n                        secondary-color=\"#fafafa\">\n          <rect x=\"0\" y=\"0\" rx=\"8\" ry=\"8\" width=\"128\" height=\"128\"></rect>\n          <rect x=\"144\" y=\"0\" rx=\"8\" ry=\"8\" width=\"100\" height=\"16\"></rect>\n          <rect x=\"144\" y=\"32\" rx=\"8\" ry=\"8\" width=\"176\" height=\"16\"></rect>\n          <rect x=\"144\" y=\"64\" rx=\"8\" ry=\"8\" width=\"176\" height=\"16\"></rect>\n          <rect x=\"144\" y=\"96\" rx=\"8\" ry=\"8\" width=\"64\" height=\"16\"></rect>\n        </ContentLoader>\n      </template>\n      <template #default=\"{value: metadata}\">\n        <FilePreview  v-if=\"metadata\"\n                      :file=\"file\"\n                      :name=\"filename\"\n                      :size=\"metadata.size\"\n                      :type=\"metadata.type\"\n                      :url=\"mFileURL\"\n                      :disabled=\"disabled\"\n                      :renameable=\"renameable\"\n                      :download-on-click=\"downloadOnClick\"\n                      @view=\"onPreviewDocument\"\n                      @update:name=\"onFilenameChanged\"\n                      @delete=\"onRemoveFile\"/>\n      </template>\n    </DataLoader>\n    <template v-else>\n      <div :class=\"{'form-input__file mb-2': true, 'is-invalid': failed}\">\n        <button @click=\"onChooseFile\">\n          Pilih\n        </button>\n        <a :href=\"mFileURL || false\"\n            target=\"_blank\"\n            @click.prevent=\"onPreviewDocument\">\n          {{(mFile && mFile.name) || mFileURL || $attrs.placeholder }}\n        </a>\n      </div>\n      <input v-show=\"false\"\n            ref=\"input\"\n            :name=\"name\"\n            :rules=\"rules\"\n            type=\"file\"\n            :multiple=\"false\"\n            v-bind=\"$attrs\"\n            @change=\"onChange($event)\">\n    </template>\n    <p v-if=\"errors.length\"\n       class=\"form-input__error-hint\">\n      <slot name=\"error\">\n        {{errors[0]}}\n      </slot>\n    </p>\n  </ValidationProvider>\n</template>\n\n<script>\nimport { ContentLoader } from 'vue-content-loader'\nimport { getStoredFileMetadata } from '../../api'\nimport { props, components } from './input-mixin'\n\nconst STORAGE = {\n  FIREBASE: 'firebase',\n  GROUPWARE_SERVICE: 'groupware-service'\n}\n\nexport default {\n  inheritAttrs: false,\n  components: {\n    ...components,\n    ContentLoader,\n    DataLoader: () => import('../DataLoader'),\n    FilePreview: () => import('./FilePreview')\n  },\n  props: {\n    ...props,\n    value: {\n      type: String\n    },\n    file: {\n      type: File\n    },\n    filename: {\n      type: String\n    },\n    source: {\n      type: String,\n      default: STORAGE.FIREBASE,\n      validator (v) {\n        return [STORAGE.FIREBASE, STORAGE.GROUPWARE_SERVICE].includes(v)\n      }\n    },\n    renameable: {\n      type: Boolean,\n      default: true\n    },\n    downloadOnClick: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data () {\n    return {\n      mFile: null,\n      mFileURL: null,\n\n      promisedMetadata: null\n    }\n  },\n  mounted () {\n    this.$nextTick()\n      .then(() => {\n        this.$watch(\n          function () {\n            return [this.value, this.file]\n          },\n          function (arr) {\n            const [value, file] = arr\n            this.$refs.validator.syncValue(value)\n            this.mFileURL = value\n            this.mFile = file\n            if (typeof this.mFileURL === 'string' && this.mFileURL.startsWith('http')) {\n              this.promisedMetadata = this.getFileMetadata(this.mFileURL)\n            } else if (this.mFile instanceof File) {\n              this.promisedMetadata = new Promise(resolve => resolve(this.mFile))\n            }\n          },\n          { immediate: true, deep: true }\n        )\n      })\n  },\n  computed: {\n    shouldDisableValidation () {\n      return typeof this.value === 'string' && ['blob', 'http'].some(str => this.value.startsWith(str))\n    }\n  },\n  methods: {\n    getFileMetadata (url) {\n      if (this.source === STORAGE.FIREBASE) {\n        return new Promise((resolve, reject) => {\n          getStoredFileMetadata(url)\n            .then((metadata = {}) => {\n              resolve({\n                name: metadata.name,\n                type: metadata.contentType,\n                size: metadata.size\n              })\n            })\n            .catch(e => {\n              reject(e)\n            })\n        })\n      }\n      if (this.source === STORAGE.GROUPWARE_SERVICE) {\n        return Promise.resolve({})\n      }\n    },\n    resetInputElement () {\n      if (this.$refs.input) {\n        this.$refs.input.type = ''\n        this.$refs.input.setAttribute('type', '')\n        return this.$nextTick()\n          .then(() => {\n            this.$refs.input.type = 'file'\n            this.$refs.input.setAttribute('type', 'file')\n          })\n      }\n      return Promise.resolve()\n    },\n    onChooseFile () {\n      this.mFile = null\n      this.mFileURL = null\n      this.resetInputElement()\n        .then(() => {\n          this.$refs.input.click()\n        })\n    },\n    onRemoveFile () {\n      this.promisedMetadata = null\n      this.resetInputElement()\n        .then(() => {\n          this.mFile = null\n          this.mFileURL = null\n          this.emitChange(null, null, null)\n          return this.$nextTick()\n        }).then(() => {\n          this.$refs.validator.validate()\n        })\n    },\n    onFilenameChanged (name) {\n      this.$emit('update:filename', name)\n    },\n    onChange (e) {\n      if (e.target.files) {\n        this.mFile = e.target.files.length ? e.target.files[0] : null\n        this.mFileURL = window.URL.createObjectURL(this.mFile)\n        this.emitChange(this.mFileURL, this.mFile.name, this.mFile)\n      }\n      this.$nextTick()\n        .then(() => {\n          this.$refs.validator.validate(e)\n        })\n    },\n    emitChange (url, filename, file) {\n      this.$emit('update:value', url)\n      this.$emit('update:filename', filename)\n      this.$emit('update:file', file)\n    },\n    onPreviewDocument () {\n      this.mFileURL && window.open(this.mFileURL, '_blank')\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/components/Form"}]}