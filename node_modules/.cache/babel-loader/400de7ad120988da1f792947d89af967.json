{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/eslint-loader/index.js??ref--14-0!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/DataLoader/index.js","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/DataLoader/index.js","mtime":1673491775262},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/eslint-loader/index.js","mtime":1673491969842}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgcHJvbWlzZTogewogICAgICB0eXBlOiBbUHJvbWlzZSwgRnVuY3Rpb25dCiAgICB9LAogICAgZGlzY2FyZFZhbHVlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4KICAgIH0sCiAgICBkZWZhdWx0VmFsdWU6IHsKICAgICAgdHlwZTogW1N0cmluZywgTnVtYmVyLCBCb29sZWFuLCBGdW5jdGlvbiwgT2JqZWN0LCBBcnJheV0KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2YWx1ZTogbnVsbCwKICAgICAgZXJyb3I6IG51bGwsCiAgICAgIHBlbmRpbmc6IHRydWUKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVQcm9taXNlOiBmdW5jdGlvbiBoYW5kbGVQcm9taXNlKHByb21pc2UpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMucGVuZGluZyA9IHRydWU7CiAgICAgIHZhciBwcm1zID0gcHJvbWlzZTsKCiAgICAgIGlmICh0eXBlb2YgcCA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHBybXMgPSBwcm9taXNlKCk7CiAgICAgIH0KCiAgICAgIGlmIChwcm1zIGluc3RhbmNlb2YgUHJvbWlzZSkgewogICAgICAgIHJldHVybiBwcm1zLnRoZW4oZnVuY3Rpb24gKHYpIHsKICAgICAgICAgIGlmICghX3RoaXMuZGlzY2FyZFZhbHVlKSB7CiAgICAgICAgICAgIF90aGlzLnZhbHVlID0gdjsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgX3RoaXMuZXJyb3IgPSBlID8gZS5tZXNzYWdlIDogZSB8fCAnJzsKICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLnBlbmRpbmcgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcigiXG4gICAgICAgICAgICBEYXRhTG9hZGVyOiBwcm9taXNlIHByb3BzIG11c3QgYmUgYW4gaW5zdGFuY2VvZiBQcm9taXNlIFxuICAgICAgICAgICAgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgUHJvbWlzZSBvYmplY3RcbiAgICAgICAgICAiKSk7CiAgICAgIH0KICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBwcm9taXNlOiB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihwKSB7CiAgICAgICAgaWYgKHAgPT09IHVuZGVmaW5lZCB8fCBwID09PSBudWxsKSByZXR1cm47CiAgICAgICAgdGhpcy5oYW5kbGVQcm9taXNlKHApOwogICAgICB9CiAgICB9CiAgfSwKICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICB2YXIgcmVuZGVyU2NvcGVkU2xvdHMgPSBmdW5jdGlvbiByZW5kZXJTY29wZWRTbG90cyhuYW1lLCBzbG90UHJvcHMpIHsKICAgICAgaWYgKHR5cGVvZiBfdGhpczIuJHNjb3BlZFNsb3RzW25hbWVdID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMi4kc2NvcGVkU2xvdHNbbmFtZV0oc2xvdFByb3BzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9OwoKICAgIGlmICgnY29tYmluZWQnIGluIHRoaXMuJHNjb3BlZFNsb3RzKSB7CiAgICAgIHJldHVybiByZW5kZXJTY29wZWRTbG90cygnY29tYmluZWQnLCB7CiAgICAgICAgcGVuZGluZzogdGhpcy5wZW5kaW5nLAogICAgICAgIGVycm9yOiB0aGlzLmVycm9yLAogICAgICAgIHZhbHVlOiB0aGlzLnZhbHVlCiAgICAgIH0pOwogICAgfQoKICAgIGlmICh0aGlzLnBlbmRpbmcpIHsKICAgICAgcmV0dXJuIHJlbmRlclNjb3BlZFNsb3RzKCdwZW5kaW5nJyk7CiAgICB9IGVsc2UgaWYgKHRoaXMuZXJyb3IpIHsKICAgICAgcmV0dXJuIHJlbmRlclNjb3BlZFNsb3RzKCdlcnJvcicsIHsKICAgICAgICBlcnJvcjogdGhpcy5lcnJvcgogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiByZW5kZXJTY29wZWRTbG90cygnZGVmYXVsdCcsIHsKICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSB8fCB0aGlzLmRlZmF1bHRWYWx1ZQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/DataLoader/index.js"],"names":["props","promise","type","Promise","Function","discardValue","Boolean","defaultValue","String","Number","Object","Array","data","value","error","pending","methods","handlePromise","prms","p","then","v","catch","e","message","finally","reject","TypeError","watch","immediate","handler","undefined","render","h","renderScopedSlots","name","slotProps","$scopedSlots"],"mappings":"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","sourcesContent":["export default {\n  props: {\n    promise: {\n      type: [Promise, Function]\n    },\n    discardValue: {\n      type: Boolean\n    },\n    defaultValue: {\n      type: [String, Number, Boolean, Function, Object, Array]\n    }\n  },\n  data () {\n    return {\n      value: null,\n      error: null,\n      pending: true\n    }\n  },\n  methods: {\n    handlePromise (promise) {\n      this.pending = true\n\n      let prms = promise\n      if (typeof p === 'function') {\n        prms = promise()\n      }\n      if (prms instanceof Promise) {\n        return prms\n          .then(v => {\n            if (!this.discardValue) {\n              this.value = v\n            }\n          }).catch(e => {\n            this.error = e ? e.message : e || ''\n          }).finally(() => {\n            this.pending = false\n          })\n      } else {\n        return Promise.reject(\n          new TypeError(`\n            DataLoader: promise props must be an instanceof Promise \n            or a function that returns Promise object\n          `)\n        )\n      }\n    }\n  },\n  watch: {\n    promise: {\n      immediate: true,\n      handler: function (p) {\n        if (p === undefined || p === null) return\n        this.handlePromise(p)\n      }\n    }\n  },\n  render (h) {\n    const renderScopedSlots = (name, slotProps) => {\n      if (typeof this.$scopedSlots[name] === 'function') {\n        return this.$scopedSlots[name](slotProps)\n      }\n      return null\n    }\n    if ('combined' in this.$scopedSlots) {\n      return renderScopedSlots('combined', {\n        pending: this.pending,\n        error: this.error,\n        value: this.value\n      })\n    }\n    if (this.pending) {\n      return renderScopedSlots('pending')\n    } else if (this.error) {\n      return renderScopedSlots('error', {\n        error: this.error\n      })\n    } else {\n      return renderScopedSlots('default', {\n        value: this.value || this.defaultValue\n      })\n    }\n  }\n}\n"]}]}