{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/babel-loader/lib/index.js!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/eslint-loader/index.js??ref--14-0!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/components/Reactions/Variants/_mixin.js","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/components/Reactions/Variants/_mixin.js","mtime":1673491775268},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/eslint-loader/index.js","mtime":1673491969842}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2pkcy9Eb2N1bWVudHMvZGlza29taW5mby9qZHMvZGlnaXRlYW0vZ3JvdXB3YXJlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKdmFyIERFRkFVTFRfRU1PSklfV0lEVEhfUFggPSAxMjA7CmV4cG9ydCB2YXIgcmVhY3Rpb25NaXhpbiA9IHsKICBwcm9wczogewogICAgYW5pbWF0ZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kbmV4dFRpY2soKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfdGhpcy5zZXRBc0ZvY3VzYWJsZSgpOwoKICAgICAgICAgICAgICBfdGhpcy53YXRjaEFuaW1hdGlvblByb3AoKTsKCiAgICAgICAgICAgICAgX3RoaXMud2F0Y2hXcmFwcGVyV2lkdGgoKTsKCiAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIF90aGlzLndhdGNoV3JhcHBlcldpZHRoKTsKICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBfdGhpcy53YXRjaFdyYXBwZXJXaWR0aCk7CiAgICAgICAgICAgICAgfSwgMTApOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLndhdGNoV3JhcHBlcldpZHRoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNldEFzRm9jdXNhYmxlOiBmdW5jdGlvbiBzZXRBc0ZvY3VzYWJsZSgpIHsKICAgICAgdGhpcy4kZWwuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7CiAgICB9LAogICAgd2F0Y2hBbmltYXRpb25Qcm9wOiBmdW5jdGlvbiB3YXRjaEFuaW1hdGlvblByb3AoKSB7CiAgICAgIC8vIGFuaW1hdGlvbiBpcyBkaXNhYmxlZCBhcyBkZWZhdWx0LAogICAgICAvLyB1bmxlc3MgYW5pbWF0ZSBwcm9wIGlzIHRydXRoeSBvciBpY29uIGlzIGhvdmVyZWQKICAgICAgdGhpcy4kd2F0Y2goJ2FuaW1hdGUnLCBmdW5jdGlvbiBoYW5kbGVyKHNob3VsZEFuaW1hdGUpIHsKICAgICAgICB2YXIgZGlzYWJsZXIgPSAnZW1vamktYW5pbWF0aW9uLWRpc2FibGVkJzsKICAgICAgICB2YXIgaXNBbmltYXRpb25EaXNhYmxlZCA9IHRoaXMuJGVsLmNsYXNzTGlzdC5jb250YWlucyhkaXNhYmxlcik7CgogICAgICAgIGlmIChzaG91bGRBbmltYXRlICYmIGlzQW5pbWF0aW9uRGlzYWJsZWQpIHsKICAgICAgICAgIHRoaXMuJGVsLmNsYXNzTGlzdC5yZW1vdmUoZGlzYWJsZXIpOwogICAgICAgIH0gZWxzZSBpZiAoIXNob3VsZEFuaW1hdGUgJiYgIWlzQW5pbWF0aW9uRGlzYWJsZWQpIHsKICAgICAgICAgIHRoaXMuJGVsLmNsYXNzTGlzdC5hZGQoZGlzYWJsZXIpOwogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgICB9KTsKICAgIH0sCiAgICB3YXRjaFdyYXBwZXJXaWR0aDogZnVuY3Rpb24gd2F0Y2hXcmFwcGVyV2lkdGgoKSB7CiAgICAgIHZhciBwYXJlbnRFbCA9IHRoaXMuJGVsLnBhcmVudE5vZGU7CgogICAgICBpZiAoIXBhcmVudEVsKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgX3BhcmVudEVsJGdldEJvdW5kaW5nID0gcGFyZW50RWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksCiAgICAgICAgICBwYXJlbnRXaWR0aCA9IF9wYXJlbnRFbCRnZXRCb3VuZGluZy53aWR0aDsKCiAgICAgIHZhciBzY2FsZSA9IHBhcmVudFdpZHRoIC8gREVGQVVMVF9FTU9KSV9XSURUSF9QWDsKICAgICAgdGhpcy4kZWwuc3R5bGUuc2V0UHJvcGVydHkoJ3RyYW5zZm9ybScsICJzY2FsZSgiLmNvbmNhdChzY2FsZSwgIikiKSk7CiAgICAgIHBhcmVudEVsLnN0eWxlLnNldFByb3BlcnR5KCdoZWlnaHQnLCAiIi5jb25jYXQocGFyZW50V2lkdGgsICJweCIpKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/components/Reactions/Variants/_mixin.js"],"names":["DEFAULT_EMOJI_WIDTH_PX","reactionMixin","props","animate","type","Boolean","default","mounted","$nextTick","setAsFocusable","watchAnimationProp","watchWrapperWidth","window","removeEventListener","setTimeout","addEventListener","beforeDestroy","methods","$el","setAttribute","$watch","handler","shouldAnimate","disabler","isAnimationDisabled","classList","contains","remove","add","immediate","parentEl","parentNode","getBoundingClientRect","parentWidth","width","scale","style","setProperty"],"mappings":";;AAAA,IAAMA,sBAAsB,GAAG,GAA/B;AAEA,OAAO,IAAMC,aAAa,GAAG;AAC3BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,OAAO,EAAE;AACPC,MAAAA,IAAI,EAAEC,OADC;AAEPC,MAAAA,OAAO,EAAE;AAFF;AADJ,GADoB;AAOrBC,EAAAA,OAPqB,qBAOV;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACT,KAAI,CAACC,SAAL,EADS;;AAAA;AAEf,cAAA,KAAI,CAACC,cAAL;;AACA,cAAA,KAAI,CAACC,kBAAL;;AACA,cAAA,KAAI,CAACC,iBAAL;;AAEAC,cAAAA,MAAM,CAACC,mBAAP,CAA2B,QAA3B,EAAqC,KAAI,CAACF,iBAA1C;AACAG,cAAAA,UAAU,CAAC,YAAM;AACfF,gBAAAA,MAAM,CAACG,gBAAP,CAAwB,QAAxB,EAAkC,KAAI,CAACJ,iBAAvC;AACD,eAFS,EAEP,EAFO,CAAV;;AAPe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUhB,GAjB0B;AAkB3BK,EAAAA,aAlB2B,2BAkBV;AACfJ,IAAAA,MAAM,CAACC,mBAAP,CAA2B,QAA3B,EAAqC,KAAKF,iBAA1C;AACD,GApB0B;AAqB3BM,EAAAA,OAAO,EAAE;AACPR,IAAAA,cADO,4BACW;AAChB,WAAKS,GAAL,CAASC,YAAT,CAAsB,UAAtB,EAAkC,GAAlC;AACD,KAHM;AAIPT,IAAAA,kBAJO,gCAIe;AACpB;AACA;AACA,WAAKU,MAAL,CACE,SADF,EAEE,SAASC,OAAT,CAAkBC,aAAlB,EAAiC;AAC/B,YAAMC,QAAQ,GAAG,0BAAjB;AACA,YAAMC,mBAAmB,GAAG,KAAKN,GAAL,CACzBO,SADyB,CAEzBC,QAFyB,CAEhBH,QAFgB,CAA5B;;AAIA,YAAID,aAAa,IAAIE,mBAArB,EAA0C;AACxC,eAAKN,GAAL,CAASO,SAAT,CAAmBE,MAAnB,CAA0BJ,QAA1B;AACD,SAFD,MAEO,IAAI,CAACD,aAAD,IAAkB,CAACE,mBAAvB,EAA4C;AACjD,eAAKN,GAAL,CAASO,SAAT,CAAmBG,GAAnB,CAAuBL,QAAvB;AACD;AACF,OAbH,EAcE;AAAEM,QAAAA,SAAS,EAAE;AAAb,OAdF;AAgBD,KAvBM;AAwBPlB,IAAAA,iBAxBO,+BAwBc;AACnB,UAAMmB,QAAQ,GAAG,KAAKZ,GAAL,CAASa,UAA1B;;AACA,UAAI,CAACD,QAAL,EAAe;AACb;AACD;;AAJkB,kCAMYA,QAAQ,CAACE,qBAAT,EANZ;AAAA,UAMJC,WANI,yBAMXC,KANW;;AAQnB,UAAMC,KAAK,GAAGF,WAAW,GAAGjC,sBAA5B;AACA,WAAKkB,GAAL,CAASkB,KAAT,CAAeC,WAAf,CAA2B,WAA3B,kBAAiDF,KAAjD;AACAL,MAAAA,QAAQ,CAACM,KAAT,CAAeC,WAAf,CAA2B,QAA3B,YAAwCJ,WAAxC;AACD;AAnCM;AArBkB,CAAtB","sourcesContent":["const DEFAULT_EMOJI_WIDTH_PX = 120\n\nexport const reactionMixin = {\n  props: {\n    animate: {\n      type: Boolean,\n      default: false\n    }\n  },\n  async mounted () {\n    await this.$nextTick()\n    this.setAsFocusable()\n    this.watchAnimationProp()\n    this.watchWrapperWidth()\n\n    window.removeEventListener('resize', this.watchWrapperWidth)\n    setTimeout(() => {\n      window.addEventListener('resize', this.watchWrapperWidth)\n    }, 10)\n  },\n  beforeDestroy () {\n    window.removeEventListener('resize', this.watchWrapperWidth)\n  },\n  methods: {\n    setAsFocusable () {\n      this.$el.setAttribute('tabindex', '0')\n    },\n    watchAnimationProp () {\n      // animation is disabled as default,\n      // unless animate prop is truthy or icon is hovered\n      this.$watch(\n        'animate',\n        function handler (shouldAnimate) {\n          const disabler = 'emoji-animation-disabled'\n          const isAnimationDisabled = this.$el\n            .classList\n            .contains(disabler)\n\n          if (shouldAnimate && isAnimationDisabled) {\n            this.$el.classList.remove(disabler)\n          } else if (!shouldAnimate && !isAnimationDisabled) {\n            this.$el.classList.add(disabler)\n          }\n        },\n        { immediate: true }\n      )\n    },\n    watchWrapperWidth () {\n      const parentEl = this.$el.parentNode\n      if (!parentEl) {\n        return\n      }\n\n      const { width: parentWidth } = parentEl.getBoundingClientRect()\n\n      const scale = parentWidth / DEFAULT_EMOJI_WIDTH_PX\n      this.$el.style.setProperty('transform', `scale(${scale})`)\n      parentEl.style.setProperty('height', `${parentWidth}px`)\n    }\n  }\n}\n"]}]}