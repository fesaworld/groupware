{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/layouts/default.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/layouts/default.vue","mtime":1673491775268},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2pkcy9Eb2N1bWVudHMvZGlza29taW5mby9qZHMvZGlnaXRlYW0vZ3JvdXB3YXJlL2dyb3Vwd2FyZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9qZHMvRG9jdW1lbnRzL2Rpc2tvbWluZm8vamRzL2RpZ2l0ZWFtL2dyb3Vwd2FyZS9ncm91cHdhcmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmltcG9ydCBOYXZiYXIgZnJvbSAnQC9jb21wb25lbnRzL05hdmJhcic7CmltcG9ydCB7IG1lc3NhZ2luZyB9IGZyb20gJ0AvbGliL2ZpcmViYXNlJzsKaW1wb3J0IHsgZ2V0RGV2aWNlVG9rZW5CeVVzZXJJZCwgcmV0cmlldmVUb2tlbiwgdXBkYXRlVG9rZW4sIGxpc3RlblRvUmVmcmVzaFRva2VuRXZlbnQgfSBmcm9tICcuLi9saWIvZmNtLW5vdGlmaWNhdGlvbic7CmltcG9ydCBEaWdpdGVhbUVtYmxlbSBmcm9tICcuLi9jb21wb25lbnRzL0RpZ2l0ZWFtRW1ibGVtLnZ1ZSc7CmltcG9ydCBUaGVtZVN3aXRjaGVyIGZyb20gJy4uL2NvbXBvbmVudHMvVGhlbWVTd2l0Y2hlci52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTmF2YmFyOiBOYXZiYXIsCiAgICBEaWdpdGVhbUVtYmxlbTogRGlnaXRlYW1FbWJsZW0sCiAgICBUaGVtZVN3aXRjaGVyOiBUaGVtZVN3aXRjaGVyCiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyh7CiAgICB0aGVtZTogJ3RoZW1lL2dldFRoZW1lJwogIH0pKSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd1BvcHVwTm90aWZpY2F0aW9uOiBmYWxzZQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICAnJHN0b3JlLnN0YXRlLmF1dGgudXNlcic6IHsKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHYpIHsKICAgICAgICBpZiAodikgewogICAgICAgICAgdGhpcy5jaGVja1Blcm1pc3Npb24oKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICB0aGVtZTogZnVuY3Rpb24gdGhlbWUobmV3VGhlbWUsIG9sZFRoZW1lKSB7CiAgICAgIG5ld1RoZW1lID09PSAnbGlnaHQnID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaHRtbCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2RhcmstbW9kZScpIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaHRtbCcpLmNsYXNzTGlzdC5hZGQoJ2RhcmstbW9kZScpOwogICAgfQogIH0sCiAgYmVmb3JlTW91bnQ6IGZ1bmN0aW9uIGJlZm9yZU1vdW50KCkgewogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3RoZW1lL2luaXRUaGVtZScpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdob21lLWJhbm5lcnMvZmV0Y2hJdGVtcycpOwogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2hvbWUtYXJ0aWNsZXMvZmV0Y2hJdGVtcycpOwogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ21lc3NhZ2VzLWxpc3QvZmV0Y2hJdGVtcycpOwogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2V2ZW50cy1saXN0L2ZldGNoSXRlbXMnKTsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCd0aGFua3lvdS1saXN0L2ZldGNoSXRlbXMnKTsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCd0ZWFtcy1saXN0L2ZldGNoSXRlbXMnKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoZWNrUGVybWlzc2lvbjogZnVuY3Rpb24gY2hlY2tQZXJtaXNzaW9uKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcGVybWlzc2lvbiwgZXhpc3RpbmdUb2tlbjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAobWVzc2FnaW5nKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgaWYgKF90aGlzLiRzdG9yZS5zdGF0ZS5hdXRoLnVzZXIpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBOb3RpZmljYXRpb24ucGVybWlzc2lvbjsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgcGVybWlzc2lvbiA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHBlcm1pc3Npb24gPT09ICdkZWZhdWx0JykgewogICAgICAgICAgICAgICAgICBfdGhpcy5zaG93UG9wdXBOb3RpZmljYXRpb24gPSB0cnVlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghKHBlcm1pc3Npb24gPT09ICdncmFudGVkJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0RGV2aWNlVG9rZW5CeVVzZXJJZChfdGhpcy4kc3RvcmUuc3RhdGUuYXV0aC51c2VyLmlkKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIGV4aXN0aW5nVG9rZW4gPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ1Rva2VuKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgcmV0dXJuIHJldHJpZXZlVG9rZW4oKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIGxpc3RlblRvUmVmcmVzaFRva2VuRXZlbnQoKTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIGlmIChwZXJtaXNzaW9uID09PSAnZGVuaWVkJykgey8vCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYWxsb3dOb3RpZmljYXRpb246IGZ1bmN0aW9uIGFsbG93Tm90aWZpY2F0aW9uKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBwZXJtaXNzaW9uLCBleGlzdGluZ1Rva2VuOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAobWVzc2FnaW5nKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHBlcm1pc3Npb24gPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIShwZXJtaXNzaW9uID09PSAnZ3JhbnRlZCcpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBnZXREZXZpY2VUb2tlbkJ5VXNlcklkKF90aGlzMi4kc3RvcmUuc3RhdGUuYXV0aC51c2VyLmlkKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgZXhpc3RpbmdUb2tlbiA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ1Rva2VuKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gcmV0cmlldmVUb2tlbigpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVUb2tlbigpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgbGlzdGVuVG9SZWZyZXNoVG9rZW5FdmVudCgpOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgX3RoaXMyLnNob3dQb3B1cE5vdGlmaWNhdGlvbiA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["default.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"select-none no-pull-refresh dark:bg-gray-800\">\n    <transition name=\"translate-to-bottom\">\n      <div\n        v-if=\"showPopupNotification\"\n        class=\"h-16 overflow-hidden flex items-center bg-brand-yellow-darkest\">\n        <div class=\"container mx-auto px-6\">\n          <div class=\"text-sm w-full\">\n            Izinkan notifikasi mengirim pesan\n            <button @click=\"allowNotification\" class=\"ml-2 bg-brand-blue text-white font-bold py-1 px-4 rounded focus:outline-none focus:shadow-outline\" type=\"button\">\n              Allow\n            </button>\n          </div>\n        </div>\n      </div>\n    </transition>\n\n    <div class=\"bg-white dark:bg-gray-900 dark:text-white\">\n      <div class=\"container mx-auto app-grid-layout grid grid-cols-3\">\n        <div class=\"app-grid-layout__first-column col-span-2\">\n          <DigiteamEmblem class=\"p-6\" />\n        </div>\n        <div class=\"app-grid-layout__second-column\">\n          <!-- intentionally blank -->\n          <ThemeSwitcher\n            :theme=\"theme\"\n            class=\"py-10 text-right\"\n          />\n        </div>\n      </div>\n    </div>\n    <div class=\"app-content\">\n      <slot>\n        <router-view />\n      </slot>\n    </div>\n    <navbar />\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport Navbar from '@/components/Navbar'\nimport { messaging } from '@/lib/firebase'\nimport { getDeviceTokenByUserId, retrieveToken, updateToken, listenToRefreshTokenEvent } from '../lib/fcm-notification'\nimport DigiteamEmblem from '../components/DigiteamEmblem.vue'\nimport ThemeSwitcher from '../components/ThemeSwitcher.vue'\n\nexport default {\n  components: {\n    Navbar,\n    DigiteamEmblem,\n    ThemeSwitcher\n  },\n\n  computed: {\n    ...mapGetters({ theme: 'theme/getTheme' })\n  },\n\n  data () {\n    return {\n      showPopupNotification: false\n    }\n  },\n  watch: {\n    '$store.state.auth.user': {\n      immediate: true,\n      handler (v) {\n        if (v) {\n          this.checkPermission()\n        }\n      }\n    },\n    theme (newTheme, oldTheme) {\n      newTheme === 'light'\n        ? document.querySelector('html').classList.remove('dark-mode')\n        : document.querySelector('html').classList.add('dark-mode')\n    }\n  },\n  beforeMount () {\n    this.$store.dispatch('theme/initTheme')\n  },\n  mounted () {\n    this.$store.dispatch('home-banners/fetchItems')\n    this.$store.dispatch('home-articles/fetchItems')\n    this.$store.dispatch('messages-list/fetchItems')\n    this.$store.dispatch('events-list/fetchItems')\n    this.$store.dispatch('thankyou-list/fetchItems')\n    this.$store.dispatch('teams-list/fetchItems')\n  },\n\n  methods: {\n    async checkPermission () {\n      if (!messaging) return\n      if (!this.$store.state.auth.user) return\n\n      const permission = await Notification.permission\n\n      if (permission === 'default') {\n        this.showPopupNotification = true\n      }\n\n      if (permission === 'granted') {\n        const existingToken = await getDeviceTokenByUserId(this.$store.state.auth.user.id)\n        if (!existingToken) {\n          await retrieveToken()\n        }\n        listenToRefreshTokenEvent()\n      }\n      if (permission === 'denied') {\n        //\n      }\n    },\n\n    async allowNotification () {\n      if (!messaging) return\n\n      // Request Permission of Notifications\n      const permission = await Notification.requestPermission()\n\n      if (permission === 'granted') {\n        const existingToken = await getDeviceTokenByUserId(this.$store.state.auth.user.id)\n        if (!existingToken) {\n          await retrieveToken()\n        } else {\n          await updateToken()\n        }\n        listenToRefreshTokenEvent()\n      }\n\n      this.showPopupNotification = false\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.translate-to-bottom {\n  &-enter-active,\n  &-leave-active {\n    transition-property: height;\n    transition-duration: 0.3s;\n    transition-timing-function: ease-out;\n    transition-delay: 1s;\n  }\n\n  &-enter,\n  &-leave-to {\n    height: 0px;\n  }\n}\n.app-content {\n  min-height: calc(100vh - 10rem);\n  @apply mt-4 mb-12;\n}\n</style>\n"],"sourceRoot":"src/layouts"}]}