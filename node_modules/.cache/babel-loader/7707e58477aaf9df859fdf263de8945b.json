{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/eslint-loader/index.js??ref--14-0!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/store/modules/profile-detail.js","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/store/modules/profile-detail.js","mtime":1673491775271},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/eslint-loader/index.js","mtime":1673491969842}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL2pkcy9Eb2N1bWVudHMvZGlza29taW5mby9qZHMvZGlnaXRlYW0vZ3JvdXB3YXJlL2dyb3Vwd2FyZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKdmFyIF9tdXRhdGlvbnM7CgppbXBvcnQgX2RlZmF1bHRzRGVlcCBmcm9tICdsb2Rhc2gvZGVmYXVsdHNEZWVwJzsKaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vbXV0YXRpb24tdHlwZXMnOwppbXBvcnQgeyBnZXRVc2VyQnlJZCB9IGZyb20gJy4uLy4uL2FwaSc7CmltcG9ydCB7IFBST0ZJTEVfREFUQV9ERUZBVUxUIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9Qcm9maWxlL0VkaXQvdXRpbHMnOyAvLyBzdGF0ZQoKZXhwb3J0IHZhciBzdGF0ZSA9IHsKICBsb2FkaW5nOiB0cnVlLAogIGl0ZW06IG51bGwsCiAgZXJyb3I6IGZhbHNlLAogIGlzUHJpc3RpbmU6IHRydWUKfTsgLy8gZ2V0dGVycwoKZXhwb3J0IHZhciBnZXR0ZXJzID0gewogIGxvYWRpbmc6IGZ1bmN0aW9uIGxvYWRpbmcoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5sb2FkaW5nOwogIH0sCiAgaXRlbTogZnVuY3Rpb24gaXRlbShzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLml0ZW07CiAgfSwKICBlcnJvcjogZnVuY3Rpb24gZXJyb3Ioc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5lcnJvcjsKICB9LAogIGlzRGlydHk6IGZ1bmN0aW9uIGlzRGlydHkoc3RhdGUpIHsKICAgIHJldHVybiAhc3RhdGUuaXNQcmlzdGluZTsKICB9Cn07IC8vIG11dGF0aW9ucwoKZXhwb3J0IHZhciBtdXRhdGlvbnMgPSAoX211dGF0aW9ucyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgdHlwZXMuUFJPRklMRV9ERVRBSUxfSU5JVCwgZnVuY3Rpb24gKHN0YXRlKSB7CiAgc3RhdGUuaXRlbSA9IG51bGw7CiAgc3RhdGUubG9hZGluZyA9IHRydWU7CiAgc3RhdGUuZXJyb3IgPSBmYWxzZTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCB0eXBlcy5QUk9GSUxFX0RFVEFJTF9MT0FERUQsIGZ1bmN0aW9uIChzdGF0ZSwgX3JlZikgewogIHZhciBpdGVtID0gX3JlZi5pdGVtOwogIHN0YXRlLml0ZW0gPSBpdGVtOwogIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTsKICBzdGF0ZS5lcnJvciA9IGZhbHNlOwp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIHR5cGVzLlBST0ZJTEVfREVUQUlMX0ZBSUxFRCwgZnVuY3Rpb24gKHN0YXRlKSB7CiAgc3RhdGUuaXRlbSA9IG51bGw7CiAgc3RhdGUubG9hZGluZyA9IGZhbHNlOwogIHN0YXRlLmVycm9yID0gdHJ1ZTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCB0eXBlcy5QUk9GSUxFX0RFVEFJTF9JU19QUklTVElORSwgZnVuY3Rpb24gKHN0YXRlLCBpc0RpcnR5KSB7CiAgc3RhdGUuaXNQcmlzdGluZSA9IGlzRGlydHk7Cn0pLCBfbXV0YXRpb25zKTsgLy8gYWN0aW9ucwoKZXhwb3J0IHZhciBhY3Rpb25zID0gewogIGZldGNoSXRlbTogZnVuY3Rpb24gZmV0Y2hJdGVtKF9yZWYyKSB7CiAgICB2YXIgc3RhdGUgPSBfcmVmMi5zdGF0ZSwKICAgICAgICBjb21taXQgPSBfcmVmMi5jb21taXQ7CgogICAgdmFyIF9yZWYzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fSwKICAgICAgICBpZCA9IF9yZWYzLmlkLAogICAgICAgIF9yZWYzJGZyZXNoID0gX3JlZjMuZnJlc2gsCiAgICAgICAgZnJlc2ggPSBfcmVmMyRmcmVzaCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYzJGZyZXNoLAogICAgICAgIF9yZWYzJHNpbGVudCA9IF9yZWYzLnNpbGVudCwKICAgICAgICBzaWxlbnQgPSBfcmVmMyRzaWxlbnQgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjMkc2lsZW50OwoKICAgIGlmICghaWQpIHsKICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBSZWZlcmVuY2VFcnJvcignVnVleDpwcm9maWxlLWRldGFpbDpmZXRjaEl0ZW0gOiBpZCBtdXN0IGJlIHN1cHBsaWVkJykpOwogICAgfQoKICAgIGlmICghc3RhdGUuaXRlbSB8fCBmcmVzaCkgewogICAgICBpZiAoIXNpbGVudCkgewogICAgICAgIGNvbW1pdCh0eXBlcy5QUk9GSUxFX0RFVEFJTF9JTklUKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldFVzZXJCeUlkKGlkKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX2RlZmF1bHRzRGVlcChkYXRhLCBQUk9GSUxFX0RBVEFfREVGQVVMVCk7CgogICAgICAgIGNvbW1pdCh0eXBlcy5QUk9GSUxFX0RFVEFJTF9MT0FERUQsIHsKICAgICAgICAgIGl0ZW06IGRhdGEKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gc3RhdGUuaXRlbTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBjb21taXQodHlwZXMuUFJPRklMRV9ERVRBSUxfRkFJTEVEKTsKICAgICAgICB0aHJvdyBlOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoc3RhdGUuaXRlbSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/store/modules/profile-detail.js"],"names":["_defaultsDeep","types","getUserById","PROFILE_DATA_DEFAULT","state","loading","item","error","isPristine","getters","isDirty","mutations","PROFILE_DETAIL_INIT","PROFILE_DETAIL_LOADED","PROFILE_DETAIL_FAILED","PROFILE_DETAIL_IS_PRISTINE","actions","fetchItem","commit","id","fresh","silent","Promise","reject","ReferenceError","then","data","catch","e","resolve"],"mappings":"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","sourcesContent":["import _defaultsDeep from 'lodash/defaultsDeep'\n\nimport * as types from '../mutation-types'\nimport { getUserById } from '../../api'\nimport { PROFILE_DATA_DEFAULT } from '../../components/Profile/Edit/utils'\n\n// state\nexport const state = {\n  loading: true,\n  item: null,\n  error: false,\n  isPristine: true\n}\n\n// getters\nexport const getters = {\n  loading: state => state.loading,\n  item: state => state.item,\n  error: state => state.error,\n  isDirty: state => !state.isPristine\n}\n\n// mutations\nexport const mutations = {\n  [types.PROFILE_DETAIL_INIT] (state) {\n    state.item = null\n    state.loading = true\n    state.error = false\n  },\n\n  [types.PROFILE_DETAIL_LOADED] (state, { item }) {\n    state.item = item\n    state.loading = false\n    state.error = false\n  },\n\n  [types.PROFILE_DETAIL_FAILED] (state) {\n    state.item = null\n    state.loading = false\n    state.error = true\n  },\n\n  [types.PROFILE_DETAIL_IS_PRISTINE] (state, isDirty) {\n    state.isPristine = isDirty\n  }\n}\n\n// actions\nexport const actions = {\n  fetchItem ({ state, commit }, { id, fresh = true, silent = false } = {}) {\n    if (!id) {\n      return Promise.reject(new ReferenceError('Vuex:profile-detail:fetchItem : id must be supplied'))\n    }\n    if (!state.item || fresh) {\n      if (!silent) {\n        commit(types.PROFILE_DETAIL_INIT)\n      }\n      return getUserById(id)\n        .then(data => {\n          _defaultsDeep(data, PROFILE_DATA_DEFAULT)\n          commit(types.PROFILE_DETAIL_LOADED, { item: data })\n          return state.item\n        })\n        .catch(e => {\n          commit(types.PROFILE_DETAIL_FAILED)\n          throw e\n        })\n    } else {\n      return Promise.resolve(state.item)\n    }\n  }\n}\n"]}]}