{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/FormLogbook/InputProjectAutocomplete.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/FormLogbook/InputProjectAutocomplete.vue","mtime":1673491775264},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2pkcy9Eb2N1bWVudHMvZGlza29taW5mby9qZHMvZGlnaXRlYW0vZ3JvdXB3YXJlL2dyb3Vwd2FyZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IHByb3BzLCBjb21wb25lbnRzIH0gZnJvbSAnLi4vRm9ybS9pbnB1dC1taXhpbic7CmltcG9ydCBkZWJvdW5jZSBmcm9tICdsb2Rhc2gvZGVib3VuY2UnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogX29iamVjdFNwcmVhZCh7fSwgY29tcG9uZW50cyksCiAgbW9kZWw6IHsKICAgIHByb3A6ICd2YWx1ZScsCiAgICBldmVudDogJ2lucHV0JwogIH0sCiAgcHJvcHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcHJvcHMpLCB7fSwgewogICAgdHlwZTogewogICAgICB0eXBlOiBbU3RyaW5nXSwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICB2YWx1ZTogewogICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLAogICAgICBkZWZhdWx0OiAnJwogICAgfQogIH0pLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtVmFsdWU6IG51bGwsCiAgICAgIHJlc3VsdHM6IG51bGwsCiAgICAgIGlzU2VhcmNoaW5nOiBmYWxzZSwKICAgICAgc2hvd1Jlc3VsdHNQb3BvdmVyOiBmYWxzZQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICB2YWx1ZTogewogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodikgewogICAgICAgIHRoaXMubVZhbHVlID0gdjsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgb25JbnB1dEZvY3VzZWQ6IGZ1bmN0aW9uIG9uSW5wdXRGb2N1c2VkKCkgewogICAgICB0aGlzLnNob3dSZXN1bHRzUG9wb3ZlciA9IHRydWU7CiAgICAgIHRoaXMuaXNTZWFyY2hpbmcgPSB0cnVlOwogICAgICB0aGlzLm9uU2VhcmNoKCk7CiAgICB9LAogICAgb25JbnB1dEJsdXI6IGZ1bmN0aW9uIG9uSW5wdXRCbHVyKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuc2hvd1Jlc3VsdHNQb3BvdmVyID0gZmFsc2U7CiAgICAgIH0sIDI1MCk7CiAgICB9LAogICAgb25JbnB1dDogZnVuY3Rpb24gb25JbnB1dChlKSB7CiAgICAgIHRoaXMubVZhbHVlID0gZS50YXJnZXQudmFsdWU7CiAgICAgIHRoaXMuc2hvd1Jlc3VsdHNQb3BvdmVyID0gdHJ1ZTsKICAgICAgdGhpcy5pc1NlYXJjaGluZyA9IHRydWU7CiAgICAgIHRoaXMub25TZWFyY2goKTsKICAgIH0sCiAgICBvblNlYXJjaDogZGVib3VuY2UoZnVuY3Rpb24gKCkgewogICAgICB2YXIgc2VhcmNoU3RyaW5nID0gdHlwZW9mIHRoaXMubVZhbHVlID09PSAnc3RyaW5nJyA/IHRoaXMubVZhbHVlIDogJyc7CiAgICAgIHRoaXMucmVzdWx0cyA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ29yZ2FuaXphdGlvbnMvbGlzdE9mUHJvamVjdHMnXS5maWx0ZXIoZnVuY3Rpb24gKHgpIHsKICAgICAgICByZXR1cm4gIiIuY29uY2F0KHgubmFtZSkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hTdHJpbmcudG9Mb3dlckNhc2UoKSk7CiAgICAgIH0pOwogICAgICB0aGlzLmlzU2VhcmNoaW5nID0gZmFsc2U7CiAgICB9LCA2MDApLAogICAgb25TZWxlY3Q6IGZ1bmN0aW9uIG9uU2VsZWN0KHByb2plY3QpIHsKICAgICAgdGhpcy5zaG93UmVzdWx0c1BvcG92ZXIgPSBmYWxzZTsKICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgcHJvamVjdCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["InputProjectAutocomplete.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA,SAAA,KAAA,EAAA,UAAA,QAAA,qBAAA;AACA,OAAA,QAAA,MAAA,iBAAA;AAEA,eAAA;AACA,EAAA,UAAA,oBACA,UADA,CADA;AAIA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA,OADA;AAEA,IAAA,KAAA,EAAA;AAFA,GAJA;AAQA,EAAA,KAAA,kCACA,KADA;AAEA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,CAAA,MAAA,CADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAFA;AAMA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,CAAA,MAAA,EAAA,MAAA,CADA;AAEA,MAAA,OAAA,EAAA;AAFA;AANA,IARA;AAmBA,EAAA,IAnBA,kBAmBA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,IADA;AAEA,MAAA,OAAA,EAAA,IAFA;AAGA,MAAA,WAAA,EAAA,KAHA;AAIA,MAAA,kBAAA,EAAA;AAJA,KAAA;AAMA,GA1BA;AA2BA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,SAAA,EAAA,IADA;AAEA,MAAA,OAFA,mBAEA,CAFA,EAEA;AACA,aAAA,MAAA,GAAA,CAAA;AACA;AAJA;AADA,GA3BA;AAmCA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AACA,WAAA,kBAAA,GAAA,IAAA;AACA,WAAA,WAAA,GAAA,IAAA;AACA,WAAA,QAAA;AACA,KALA;AAMA,IAAA,WANA,yBAMA;AAAA;;AACA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,kBAAA,GAAA,KAAA;AACA,OAFA,EAEA,GAFA,CAAA;AAGA,KAVA;AAWA,IAAA,OAXA,mBAWA,CAXA,EAWA;AACA,WAAA,MAAA,GAAA,CAAA,CAAA,MAAA,CAAA,KAAA;AACA,WAAA,kBAAA,GAAA,IAAA;AACA,WAAA,WAAA,GAAA,IAAA;AACA,WAAA,QAAA;AACA,KAhBA;AAiBA,IAAA,QAAA,EAAA,QAAA,CAAA,YAAA;AACA,UAAA,YAAA,GAAA,OAAA,KAAA,MAAA,KAAA,QAAA,GAAA,KAAA,MAAA,GAAA,EAAA;AACA,WAAA,OAAA,GAAA,KAAA,MAAA,CACA,OADA,CACA,8BADA,EAEA,MAFA,CAEA,UAAA,CAAA,EAAA;AACA,eAAA,UAAA,CAAA,CAAA,IAAA,EAAA,WAAA,GAAA,QAAA,CAAA,YAAA,CAAA,WAAA,EAAA,CAAA;AACA,OAJA,CAAA;AAKA,WAAA,WAAA,GAAA,KAAA;AACA,KARA,EAQA,GARA,CAjBA;AA0BA,IAAA,QA1BA,oBA0BA,OA1BA,EA0BA;AACA,WAAA,kBAAA,GAAA,KAAA;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,OAAA;AACA;AA7BA;AAnCA,CAAA","sourcesContent":["<template>\n  <ValidationProvider\n    :rules=\"rules\"\n    :custom-messages=\"customMessages\"\n    #default=\"{failed, errors}\"\n    tag=\"div\"\n  >\n    <FormInputHeader\n      :label-for=\"name\"\n      :title=\"title\"\n      :subtitle=\"subtitle\"\n      :required=\"required\"\n    >\n      <template #title>\n        <slot name=\"title\"></slot>\n      </template>\n      <template #subtitle>\n        <slot name=\"subtitle\"></slot>\n      </template>\n    </FormInputHeader>\n    <div class=\"relative\">\n      <input\n        autocomplete=\"off\"\n        ref=\"input\"\n        :type=\"type\"\n        :name=\"name\"\n        :value=\"mValue\"\n        :disabled=\"disabled\"\n        :class=\"{'form-input__input': true, 'is-invalid': failed}\"\n        v-bind=\"$attrs\"\n        @input=\"onInput\"\n        @focus=\"onInputFocused\"\n        @blur=\"onInputBlur\"\n      >\n      <div v-if=\"showResultsPopover\" class=\"form-input-project__results\">\n        <ul>\n          <template v-if=\"isSearching\">\n            <li key=\"isSearching\" class=\"form-input-project__result-item text-center\">\n              <i aria-hidden=\"true\" class=\"fa fa-2x fa-circle-notch text-gray-300\" />\n            </li>\n          </template>\n          <template v-else-if=\"results && results.length\">\n            <li\n              v-for=\"(r, index) in results\"\n              :key=\"index\" class=\"form-input-project__result-item hover:bg-gray-200\"\n              @click.capture=\"onSelect(r)\">\n              <a href=\"javascript:void(0)\">\n                {{ r.name }}\n              </a>\n            </li>\n          </template>\n          <template v-else-if=\"!results.length\">\n            <li key=\"nodata\" class=\"form-input-project__result-item text-center\">\n              <a class=\"text-gray-400 font-bold uppercase\">\n                Tidak ada data\n              </a>\n            </li>\n          </template>\n        </ul>\n      </div>\n    </div>\n    <p v-if=\"errors.length\"\n       class=\"form-input__error-hint\">\n      <slot name=\"error\">\n        {{errors[0]}}\n      </slot>\n    </p>\n  </ValidationProvider>\n</template>\n\n<script>\nimport { props, components } from '../Form/input-mixin'\nimport debounce from 'lodash/debounce'\n\nexport default {\n  components: {\n    ...components\n  },\n  model: {\n    prop: 'value',\n    event: 'input'\n  },\n  props: {\n    ...props,\n    type: {\n      type: [String],\n      required: true\n    },\n    value: {\n      type: [String, Number],\n      default: ''\n    }\n  },\n  data () {\n    return {\n      mValue: null,\n      results: null,\n      isSearching: false,\n      showResultsPopover: false\n    }\n  },\n  watch: {\n    value: {\n      immediate: true,\n      handler (v) {\n        this.mValue = v\n      }\n    }\n  },\n  methods: {\n    onInputFocused () {\n      this.showResultsPopover = true\n      this.isSearching = true\n      this.onSearch()\n    },\n    onInputBlur () {\n      setTimeout(() => {\n        this.showResultsPopover = false\n      }, 250)\n    },\n    onInput (e) {\n      this.mValue = e.target.value\n      this.showResultsPopover = true\n      this.isSearching = true\n      this.onSearch()\n    },\n    onSearch: debounce(function () {\n      const searchString = typeof this.mValue === 'string' ? this.mValue : ''\n      this.results = this.$store\n        .getters['organizations/listOfProjects']\n        .filter(x => {\n          return `${x.name}`.toLowerCase().includes(searchString.toLowerCase())\n        })\n      this.isSearching = false\n    }, 600),\n    onSelect (project) {\n      this.showResultsPopover = false\n      this.$emit('change', project)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.form-input-project__results {\n  max-height: 50vh;\n  @apply absolute z-10 left-0 right-0\n  overflow-x-hidden overflow-y-scroll\n  p-4\n  border border-solid border-gray-400\n  bg-white\n  rounded\n  shadow-lg;\n}\n\n.form-input-project__result-item {\n  @apply cursor-pointer p-2\n  text-sm;\n\n  & + & {\n    @apply mt-2;\n  }\n}\n</style>\n\n<style lang=\"scss\">\n\n@keyframes is-rotating {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(320deg);\n  }\n}\n.fa-circle-notch {\n  animation: is-rotating 1s infinite linear;\n}\n</style>\n"],"sourceRoot":"src/components/FormLogbook"}]}