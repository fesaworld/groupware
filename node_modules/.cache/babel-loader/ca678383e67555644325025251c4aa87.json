{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/views/Checkins.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/views/Checkins.vue","mtime":1673491775273},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2pkcy9Eb2N1bWVudHMvZGlza29taW5mby9qZHMvZGlnaXRlYW0vZ3JvdXB3YXJlL2dyb3Vwd2FyZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9qZHMvRG9jdW1lbnRzL2Rpc2tvbWluZm8vamRzL2RpZ2l0ZWFtL2dyb3Vwd2FyZS9ncm91cHdhcmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBEYXRldGltZSBhcyBEYXRlVGltZSB9IGZyb20gJ3Z1ZS1kYXRldGltZSc7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IExvZ2luQnV0dG9uIGZyb20gJ0AvY29tcG9uZW50cy9Mb2dpbkJ1dHRvbic7CmltcG9ydCBDaGVja2luc0xpc3QgZnJvbSAnQC9jb21wb25lbnRzL0NoZWNraW5zTGlzdCc7CmltcG9ydCB7IGZvcm1hdERhdGVMb25nIH0gZnJvbSAnQC9saWIvZGF0ZSc7CmltcG9ydCB7IGZvcm1hdCwgc3ViTW9udGhzIH0gZnJvbSAnZGF0ZS1mbnMnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgRGF0ZVRpbWU6IERhdGVUaW1lLAogICAgTG9naW5CdXR0b246IExvZ2luQnV0dG9uLAogICAgQ2hlY2tpbnNMaXN0OiBDaGVja2luc0xpc3QKICB9LAogIG1ldGFJbmZvOiB7CiAgICB0aXRsZTogJ0NoZWNraW5zJwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1pbkRhdGVUaW1lOiBzdWJNb250aHMobmV3IERhdGUoKSwgMSkudG9JU09TdHJpbmcoKSwKICAgICAgbWF4RGF0ZVRpbWU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSwKICAgICAgc2VsZWN0ZWREYXRlOiBudWxsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyh7CiAgICB1c2VyOiAnYXV0aC91c2VyJwogIH0pKSwge30sIHsKICAgIGZvcm1hdHRlZFNlbGVjdGVkRGF0ZTogZnVuY3Rpb24gZm9ybWF0dGVkU2VsZWN0ZWREYXRlKCkgewogICAgICBpZiAodGhpcy5zZWxlY3RlZERhdGUpIHsKICAgICAgICByZXR1cm4gZm9ybWF0RGF0ZUxvbmcobmV3IERhdGUodGhpcy5zZWxlY3RlZERhdGUpKTsKICAgICAgfQoKICAgICAgcmV0dXJuICcnOwogICAgfQogIH0pLAogIHdhdGNoOiB7CiAgICAnJHJvdXRlLnF1ZXJ5JzogewogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoKSB7CiAgICAgICAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LAogICAgICAgICAgICBkYXRlID0gX3JlZi5kYXRlOwoKICAgICAgICB0aGlzLnNlbGVjdGVkRGF0ZSA9IGRhdGUgfHwgZm9ybWF0KG5ldyBEYXRlKCksICd5eXl5LU1NLWRkJyk7CiAgICAgICAgdGhpcy5mZXRjaEl0ZW1zKHRoaXMuc2VsZWN0ZWREYXRlKTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZm9ybWF0OiBmb3JtYXQsCiAgICBmb3JtYXREYXRlTG9uZzogZm9ybWF0RGF0ZUxvbmcsCiAgICBjaGFuZ2VEYXRlOiBmdW5jdGlvbiBjaGFuZ2VEYXRlKGRhdGUpIHsKICAgICAgdmFyIG1EYXRlID0gZm9ybWF0KG5ldyBEYXRlKGRhdGUpLCAneXl5eS1NTS1kZCcpOwoKICAgICAgaWYgKG1EYXRlICE9PSB0aGlzLnNlbGVjdGVkRGF0ZSkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgIGRhdGU6IG1EYXRlCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBmZXRjaEl0ZW1zOiBmdW5jdGlvbiBmZXRjaEl0ZW1zKGRhdGUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdjaGVja2lucy1saXN0L2ZldGNoSXRlbXMnLCB7CiAgICAgICAgICAgICAgICAgIGRhdGU6IGRhdGUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Checkins.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,SAAA,QAAA,IAAA,QAAA,QAAA,cAAA;AACA,SAAA,UAAA,QAAA,MAAA;AAEA,OAAA,WAAA,MAAA,0BAAA;AACA,OAAA,YAAA,MAAA,2BAAA;AACA,SAAA,cAAA,QAAA,YAAA;AACA,SAAA,MAAA,EAAA,SAAA,QAAA,UAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,EAAA,QADA;AAEA,IAAA,WAAA,EAAA,WAFA;AAGA,IAAA,YAAA,EAAA;AAHA,GADA;AAOA,EAAA,QAAA,EAAA;AACA,IAAA,KAAA,EAAA;AADA,GAPA;AAWA,EAAA,IAXA,kBAWA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,SAAA,CAAA,IAAA,IAAA,EAAA,EAAA,CAAA,CAAA,CAAA,WAAA,EADA;AAEA,MAAA,WAAA,EAAA,IAAA,IAAA,GAAA,WAAA,EAFA;AAGA,MAAA,YAAA,EAAA;AAHA,KAAA;AAKA,GAjBA;AAmBA,EAAA,QAAA,kCACA,UAAA,CAAA;AACA,IAAA,IAAA,EAAA;AADA,GAAA,CADA;AAIA,IAAA,qBAJA,mCAIA;AACA,UAAA,KAAA,YAAA,EAAA;AACA,eAAA,cAAA,CAAA,IAAA,IAAA,CAAA,KAAA,YAAA,CAAA,CAAA;AACA;;AACA,aAAA,EAAA;AACA;AATA,IAnBA;AA+BA,EAAA,KAAA,EAAA;AACA,oBAAA;AACA,MAAA,SAAA,EAAA,IADA;AAEA,MAAA,OAFA,qBAEA;AAAA,uFAAA,EAAA;AAAA,YAAA,IAAA,QAAA,IAAA;;AACA,aAAA,YAAA,GAAA,IAAA,IAAA,MAAA,CAAA,IAAA,IAAA,EAAA,EAAA,YAAA,CAAA;AACA,aAAA,UAAA,CAAA,KAAA,YAAA;AACA;AALA;AADA,GA/BA;AAyCA,EAAA,OAAA,EAAA;AACA,IAAA,MAAA,EAAA,MADA;AAEA,IAAA,cAAA,EAAA,cAFA;AAGA,IAAA,UAHA,sBAGA,IAHA,EAGA;AACA,UAAA,KAAA,GAAA,MAAA,CAAA,IAAA,IAAA,CAAA,IAAA,CAAA,EAAA,YAAA,CAAA;;AACA,UAAA,KAAA,KAAA,KAAA,YAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA;AACA,UAAA,KAAA,EAAA;AACA,YAAA,IAAA,EAAA;AADA;AADA,SAAA;AAKA;AACA,KAZA;AAcA,IAAA,UAdA,sBAcA,IAdA,EAcA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,0BAAA,EAAA;AAAA,kBAAA,IAAA,EAAA;AAAA,iBAAA,CADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAhBA;AAzCA,CAAA","sourcesContent":["<template>\n  <div class=\"checkins\">\n    <div class=\"container mx-auto\">\n      <template v-if=\"!user\">\n        <div class=\"w-full pt-4\">\n          <div class=\"text-center\">\n            <i aria-hidden=\"true\" class=\"fas fa-4x fa-check-circle mb-4 text-gray-600\" />\n            <p class=\"text-sm\">Silahkan login untuk melakukan checkin.</p>\n          </div>\n\n          <div class=\"mx-2 my-2\">\n            <login-button />\n          </div>\n        </div>\n      </template>\n      <template v-else>\n        <div>\n          <DateTime\n            :value=\"selectedDate\"\n            :min-datetime=\"minDateTime\"\n            :max-datetime=\"maxDateTime\"\n            value-zone=\"UTC+7\"\n            type=\"date\"\n            format=\"DDDD\"\n            class=\"attendance-date-picker\"\n            input-class=\"attendance-date-picker-input\"\n            @input=\"changeDate\">\n          </DateTime>\n          <checkins-list class=\"mt-2\" :date=\"selectedDate\" />\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Datetime as DateTime } from 'vue-datetime'\nimport { mapGetters } from 'vuex'\n\nimport LoginButton from '@/components/LoginButton'\nimport CheckinsList from '@/components/CheckinsList'\nimport { formatDateLong } from '@/lib/date'\nimport { format, subMonths } from 'date-fns'\n\nexport default {\n  components: {\n    DateTime,\n    LoginButton,\n    CheckinsList\n  },\n\n  metaInfo: {\n    title: 'Checkins'\n  },\n\n  data () {\n    return {\n      minDateTime: subMonths(new Date(), 1).toISOString(),\n      maxDateTime: new Date().toISOString(),\n      selectedDate: null\n    }\n  },\n\n  computed: {\n    ...mapGetters({\n      user: 'auth/user'\n    }),\n    formattedSelectedDate () {\n      if (this.selectedDate) {\n        return formatDateLong(new Date(this.selectedDate))\n      }\n      return ''\n    }\n  },\n\n  watch: {\n    '$route.query': {\n      immediate: true,\n      handler ({ date } = {}) {\n        this.selectedDate = date || format(new Date(), 'yyyy-MM-dd')\n        this.fetchItems(this.selectedDate)\n      }\n    }\n  },\n\n  methods: {\n    format,\n    formatDateLong,\n    changeDate (date) {\n      const mDate = format(new Date(date), 'yyyy-MM-dd')\n      if (mDate !== this.selectedDate) {\n        this.$router.push({\n          query: {\n            date: mDate\n          }\n        })\n      }\n    },\n\n    async fetchItems (date) {\n      await this.$store.dispatch('checkins-list/fetchItems', { date: date })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.vdatetime.attendance-date-picker {\n  @apply cursor-pointer relative flex items-center;\n\n  &::after {\n    content: 'â–¼';\n    transform: translateY(-0.25em);\n    right: 1rem;\n    @apply pointer-events-none\n    absolute inline-block\n    text-gray-700\n    leading-none;\n  }\n}\n.attendance-date-picker-input {\n  @apply cursor-pointer w-full p-4 rounded-md border border-solid border-gray-300 mb-2;\n}\n</style>\n"],"sourceRoot":"src/views"}]}