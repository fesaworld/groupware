{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/eslint-loader/index.js??ref--14-0!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/Reactions/Variants/_mixin.js","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/Reactions/Variants/_mixin.js","mtime":1673491775268},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/eslint-loader/index.js","mtime":1673491969842}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2pkcy9Eb2N1bWVudHMvZGlza29taW5mby9qZHMvZGlnaXRlYW0vZ3JvdXB3YXJlL2dyb3Vwd2FyZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CnZhciBERUZBVUxUX0VNT0pJX1dJRFRIX1BYID0gMTIwOwpleHBvcnQgdmFyIHJlYWN0aW9uTWl4aW4gPSB7CiAgcHJvcHM6IHsKICAgIGFuaW1hdGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJG5leHRUaWNrKCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX3RoaXMuc2V0QXNGb2N1c2FibGUoKTsKCiAgICAgICAgICAgICAgX3RoaXMud2F0Y2hBbmltYXRpb25Qcm9wKCk7CgogICAgICAgICAgICAgIF90aGlzLndhdGNoV3JhcHBlcldpZHRoKCk7CgogICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBfdGhpcy53YXRjaFdyYXBwZXJXaWR0aCk7CiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgX3RoaXMud2F0Y2hXcmFwcGVyV2lkdGgpOwogICAgICAgICAgICAgIH0sIDEwKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy53YXRjaFdyYXBwZXJXaWR0aCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXRBc0ZvY3VzYWJsZTogZnVuY3Rpb24gc2V0QXNGb2N1c2FibGUoKSB7CiAgICAgIHRoaXMuJGVsLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpOwogICAgfSwKICAgIHdhdGNoQW5pbWF0aW9uUHJvcDogZnVuY3Rpb24gd2F0Y2hBbmltYXRpb25Qcm9wKCkgewogICAgICAvLyBhbmltYXRpb24gaXMgZGlzYWJsZWQgYXMgZGVmYXVsdCwKICAgICAgLy8gdW5sZXNzIGFuaW1hdGUgcHJvcCBpcyB0cnV0aHkgb3IgaWNvbiBpcyBob3ZlcmVkCiAgICAgIHRoaXMuJHdhdGNoKCdhbmltYXRlJywgZnVuY3Rpb24gaGFuZGxlcihzaG91bGRBbmltYXRlKSB7CiAgICAgICAgdmFyIGRpc2FibGVyID0gJ2Vtb2ppLWFuaW1hdGlvbi1kaXNhYmxlZCc7CiAgICAgICAgdmFyIGlzQW5pbWF0aW9uRGlzYWJsZWQgPSB0aGlzLiRlbC5jbGFzc0xpc3QuY29udGFpbnMoZGlzYWJsZXIpOwoKICAgICAgICBpZiAoc2hvdWxkQW5pbWF0ZSAmJiBpc0FuaW1hdGlvbkRpc2FibGVkKSB7CiAgICAgICAgICB0aGlzLiRlbC5jbGFzc0xpc3QucmVtb3ZlKGRpc2FibGVyKTsKICAgICAgICB9IGVsc2UgaWYgKCFzaG91bGRBbmltYXRlICYmICFpc0FuaW1hdGlvbkRpc2FibGVkKSB7CiAgICAgICAgICB0aGlzLiRlbC5jbGFzc0xpc3QuYWRkKGRpc2FibGVyKTsKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBpbW1lZGlhdGU6IHRydWUKICAgICAgfSk7CiAgICB9LAogICAgd2F0Y2hXcmFwcGVyV2lkdGg6IGZ1bmN0aW9uIHdhdGNoV3JhcHBlcldpZHRoKCkgewogICAgICB2YXIgcGFyZW50RWwgPSB0aGlzLiRlbC5wYXJlbnROb2RlOwoKICAgICAgaWYgKCFwYXJlbnRFbCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIF9wYXJlbnRFbCRnZXRCb3VuZGluZyA9IHBhcmVudEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLAogICAgICAgICAgcGFyZW50V2lkdGggPSBfcGFyZW50RWwkZ2V0Qm91bmRpbmcud2lkdGg7CgogICAgICB2YXIgc2NhbGUgPSBwYXJlbnRXaWR0aCAvIERFRkFVTFRfRU1PSklfV0lEVEhfUFg7CiAgICAgIHRoaXMuJGVsLnN0eWxlLnNldFByb3BlcnR5KCd0cmFuc2Zvcm0nLCAic2NhbGUoIi5jb25jYXQoc2NhbGUsICIpIikpOwogICAgICBwYXJlbnRFbC5zdHlsZS5zZXRQcm9wZXJ0eSgnaGVpZ2h0JywgIiIuY29uY2F0KHBhcmVudFdpZHRoLCAicHgiKSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/Reactions/Variants/_mixin.js"],"names":["DEFAULT_EMOJI_WIDTH_PX","reactionMixin","props","animate","type","Boolean","default","mounted","$nextTick","setAsFocusable","watchAnimationProp","watchWrapperWidth","window","removeEventListener","setTimeout","addEventListener","beforeDestroy","methods","$el","setAttribute","$watch","handler","shouldAnimate","disabler","isAnimationDisabled","classList","contains","remove","add","immediate","parentEl","parentNode","getBoundingClientRect","parentWidth","width","scale","style","setProperty"],"mappings":";;AAAA,IAAMA,sBAAsB,GAAG,GAA/B;AAEA,OAAO,IAAMC,aAAa,GAAG;AAC3BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,OAAO,EAAE;AACPC,MAAAA,IAAI,EAAEC,OADC;AAEPC,MAAAA,OAAO,EAAE;AAFF;AADJ,GADoB;AAOrBC,EAAAA,OAPqB,qBAOV;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACT,KAAI,CAACC,SAAL,EADS;;AAAA;AAEf,cAAA,KAAI,CAACC,cAAL;;AACA,cAAA,KAAI,CAACC,kBAAL;;AACA,cAAA,KAAI,CAACC,iBAAL;;AAEAC,cAAAA,MAAM,CAACC,mBAAP,CAA2B,QAA3B,EAAqC,KAAI,CAACF,iBAA1C;AACAG,cAAAA,UAAU,CAAC,YAAM;AACfF,gBAAAA,MAAM,CAACG,gBAAP,CAAwB,QAAxB,EAAkC,KAAI,CAACJ,iBAAvC;AACD,eAFS,EAEP,EAFO,CAAV;;AAPe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUhB,GAjB0B;AAkB3BK,EAAAA,aAlB2B,2BAkBV;AACfJ,IAAAA,MAAM,CAACC,mBAAP,CAA2B,QAA3B,EAAqC,KAAKF,iBAA1C;AACD,GApB0B;AAqB3BM,EAAAA,OAAO,EAAE;AACPR,IAAAA,cADO,4BACW;AAChB,WAAKS,GAAL,CAASC,YAAT,CAAsB,UAAtB,EAAkC,GAAlC;AACD,KAHM;AAIPT,IAAAA,kBAJO,gCAIe;AACpB;AACA;AACA,WAAKU,MAAL,CACE,SADF,EAEE,SAASC,OAAT,CAAkBC,aAAlB,EAAiC;AAC/B,YAAMC,QAAQ,GAAG,0BAAjB;AACA,YAAMC,mBAAmB,GAAG,KAAKN,GAAL,CACzBO,SADyB,CAEzBC,QAFyB,CAEhBH,QAFgB,CAA5B;;AAIA,YAAID,aAAa,IAAIE,mBAArB,EAA0C;AACxC,eAAKN,GAAL,CAASO,SAAT,CAAmBE,MAAnB,CAA0BJ,QAA1B;AACD,SAFD,MAEO,IAAI,CAACD,aAAD,IAAkB,CAACE,mBAAvB,EAA4C;AACjD,eAAKN,GAAL,CAASO,SAAT,CAAmBG,GAAnB,CAAuBL,QAAvB;AACD;AACF,OAbH,EAcE;AAAEM,QAAAA,SAAS,EAAE;AAAb,OAdF;AAgBD,KAvBM;AAwBPlB,IAAAA,iBAxBO,+BAwBc;AACnB,UAAMmB,QAAQ,GAAG,KAAKZ,GAAL,CAASa,UAA1B;;AACA,UAAI,CAACD,QAAL,EAAe;AACb;AACD;;AAJkB,kCAMYA,QAAQ,CAACE,qBAAT,EANZ;AAAA,UAMJC,WANI,yBAMXC,KANW;;AAQnB,UAAMC,KAAK,GAAGF,WAAW,GAAGjC,sBAA5B;AACA,WAAKkB,GAAL,CAASkB,KAAT,CAAeC,WAAf,CAA2B,WAA3B,kBAAiDF,KAAjD;AACAL,MAAAA,QAAQ,CAACM,KAAT,CAAeC,WAAf,CAA2B,QAA3B,YAAwCJ,WAAxC;AACD;AAnCM;AArBkB,CAAtB","sourcesContent":["const DEFAULT_EMOJI_WIDTH_PX = 120\n\nexport const reactionMixin = {\n  props: {\n    animate: {\n      type: Boolean,\n      default: false\n    }\n  },\n  async mounted () {\n    await this.$nextTick()\n    this.setAsFocusable()\n    this.watchAnimationProp()\n    this.watchWrapperWidth()\n\n    window.removeEventListener('resize', this.watchWrapperWidth)\n    setTimeout(() => {\n      window.addEventListener('resize', this.watchWrapperWidth)\n    }, 10)\n  },\n  beforeDestroy () {\n    window.removeEventListener('resize', this.watchWrapperWidth)\n  },\n  methods: {\n    setAsFocusable () {\n      this.$el.setAttribute('tabindex', '0')\n    },\n    watchAnimationProp () {\n      // animation is disabled as default,\n      // unless animate prop is truthy or icon is hovered\n      this.$watch(\n        'animate',\n        function handler (shouldAnimate) {\n          const disabler = 'emoji-animation-disabled'\n          const isAnimationDisabled = this.$el\n            .classList\n            .contains(disabler)\n\n          if (shouldAnimate && isAnimationDisabled) {\n            this.$el.classList.remove(disabler)\n          } else if (!shouldAnimate && !isAnimationDisabled) {\n            this.$el.classList.add(disabler)\n          }\n        },\n        { immediate: true }\n      )\n    },\n    watchWrapperWidth () {\n      const parentEl = this.$el.parentNode\n      if (!parentEl) {\n        return\n      }\n\n      const { width: parentWidth } = parentEl.getBoundingClientRect()\n\n      const scale = parentWidth / DEFAULT_EMOJI_WIDTH_PX\n      this.$el.style.setProperty('transform', `scale(${scale})`)\n      parentEl.style.setProperty('height', `${parentWidth}px`)\n    }\n  }\n}\n"]}]}