{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/babel-loader/lib/index.js!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/views/Checkins.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/views/Checkins.vue","mtime":1673491775273},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2pkcy9Eb2N1bWVudHMvZGlza29taW5mby9qZHMvZGlnaXRlYW0vZ3JvdXB3YXJlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2pkcy9Eb2N1bWVudHMvZGlza29taW5mby9qZHMvZGlnaXRlYW0vZ3JvdXB3YXJlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgRGF0ZXRpbWUgYXMgRGF0ZVRpbWUgfSBmcm9tICd2dWUtZGF0ZXRpbWUnOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmltcG9ydCBMb2dpbkJ1dHRvbiBmcm9tICdAL2NvbXBvbmVudHMvTG9naW5CdXR0b24nOwppbXBvcnQgQ2hlY2tpbnNMaXN0IGZyb20gJ0AvY29tcG9uZW50cy9DaGVja2luc0xpc3QnOwppbXBvcnQgeyBmb3JtYXREYXRlTG9uZyB9IGZyb20gJ0AvbGliL2RhdGUnOwppbXBvcnQgeyBmb3JtYXQsIHN1Yk1vbnRocyB9IGZyb20gJ2RhdGUtZm5zJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIERhdGVUaW1lOiBEYXRlVGltZSwKICAgIExvZ2luQnV0dG9uOiBMb2dpbkJ1dHRvbiwKICAgIENoZWNraW5zTGlzdDogQ2hlY2tpbnNMaXN0CiAgfSwKICBtZXRhSW5mbzogewogICAgdGl0bGU6ICdDaGVja2lucycKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtaW5EYXRlVGltZTogc3ViTW9udGhzKG5ldyBEYXRlKCksIDEpLnRvSVNPU3RyaW5nKCksCiAgICAgIG1heERhdGVUaW1lOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksCiAgICAgIHNlbGVjdGVkRGF0ZTogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoewogICAgdXNlcjogJ2F1dGgvdXNlcicKICB9KSksIHt9LCB7CiAgICBmb3JtYXR0ZWRTZWxlY3RlZERhdGU6IGZ1bmN0aW9uIGZvcm1hdHRlZFNlbGVjdGVkRGF0ZSgpIHsKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWREYXRlKSB7CiAgICAgICAgcmV0dXJuIGZvcm1hdERhdGVMb25nKG5ldyBEYXRlKHRoaXMuc2VsZWN0ZWREYXRlKSk7CiAgICAgIH0KCiAgICAgIHJldHVybiAnJzsKICAgIH0KICB9KSwKICB3YXRjaDogewogICAgJyRyb3V0ZS5xdWVyeSc6IHsKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKCkgewogICAgICAgIHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fSwKICAgICAgICAgICAgZGF0ZSA9IF9yZWYuZGF0ZTsKCiAgICAgICAgdGhpcy5zZWxlY3RlZERhdGUgPSBkYXRlIHx8IGZvcm1hdChuZXcgRGF0ZSgpLCAneXl5eS1NTS1kZCcpOwogICAgICAgIHRoaXMuZmV0Y2hJdGVtcyh0aGlzLnNlbGVjdGVkRGF0ZSk7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGZvcm1hdDogZm9ybWF0LAogICAgZm9ybWF0RGF0ZUxvbmc6IGZvcm1hdERhdGVMb25nLAogICAgY2hhbmdlRGF0ZTogZnVuY3Rpb24gY2hhbmdlRGF0ZShkYXRlKSB7CiAgICAgIHZhciBtRGF0ZSA9IGZvcm1hdChuZXcgRGF0ZShkYXRlKSwgJ3l5eXktTU0tZGQnKTsKCiAgICAgIGlmIChtRGF0ZSAhPT0gdGhpcy5zZWxlY3RlZERhdGUpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICBkYXRlOiBtRGF0ZQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZmV0Y2hJdGVtczogZnVuY3Rpb24gZmV0Y2hJdGVtcyhkYXRlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnY2hlY2tpbnMtbGlzdC9mZXRjaEl0ZW1zJywgewogICAgICAgICAgICAgICAgICBkYXRlOiBkYXRlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Checkins.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,SAAA,QAAA,IAAA,QAAA,QAAA,cAAA;AACA,SAAA,UAAA,QAAA,MAAA;AAEA,OAAA,WAAA,MAAA,0BAAA;AACA,OAAA,YAAA,MAAA,2BAAA;AACA,SAAA,cAAA,QAAA,YAAA;AACA,SAAA,MAAA,EAAA,SAAA,QAAA,UAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,EAAA,QADA;AAEA,IAAA,WAAA,EAAA,WAFA;AAGA,IAAA,YAAA,EAAA;AAHA,GADA;AAOA,EAAA,QAAA,EAAA;AACA,IAAA,KAAA,EAAA;AADA,GAPA;AAWA,EAAA,IAXA,kBAWA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,SAAA,CAAA,IAAA,IAAA,EAAA,EAAA,CAAA,CAAA,CAAA,WAAA,EADA;AAEA,MAAA,WAAA,EAAA,IAAA,IAAA,GAAA,WAAA,EAFA;AAGA,MAAA,YAAA,EAAA;AAHA,KAAA;AAKA,GAjBA;AAmBA,EAAA,QAAA,kCACA,UAAA,CAAA;AACA,IAAA,IAAA,EAAA;AADA,GAAA,CADA;AAIA,IAAA,qBAJA,mCAIA;AACA,UAAA,KAAA,YAAA,EAAA;AACA,eAAA,cAAA,CAAA,IAAA,IAAA,CAAA,KAAA,YAAA,CAAA,CAAA;AACA;;AACA,aAAA,EAAA;AACA;AATA,IAnBA;AA+BA,EAAA,KAAA,EAAA;AACA,oBAAA;AACA,MAAA,SAAA,EAAA,IADA;AAEA,MAAA,OAFA,qBAEA;AAAA,uFAAA,EAAA;AAAA,YAAA,IAAA,QAAA,IAAA;;AACA,aAAA,YAAA,GAAA,IAAA,IAAA,MAAA,CAAA,IAAA,IAAA,EAAA,EAAA,YAAA,CAAA;AACA,aAAA,UAAA,CAAA,KAAA,YAAA;AACA;AALA;AADA,GA/BA;AAyCA,EAAA,OAAA,EAAA;AACA,IAAA,MAAA,EAAA,MADA;AAEA,IAAA,cAAA,EAAA,cAFA;AAGA,IAAA,UAHA,sBAGA,IAHA,EAGA;AACA,UAAA,KAAA,GAAA,MAAA,CAAA,IAAA,IAAA,CAAA,IAAA,CAAA,EAAA,YAAA,CAAA;;AACA,UAAA,KAAA,KAAA,KAAA,YAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA;AACA,UAAA,KAAA,EAAA;AACA,YAAA,IAAA,EAAA;AADA;AADA,SAAA;AAKA;AACA,KAZA;AAcA,IAAA,UAdA,sBAcA,IAdA,EAcA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,0BAAA,EAAA;AAAA,kBAAA,IAAA,EAAA;AAAA,iBAAA,CADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAhBA;AAzCA,CAAA","sourcesContent":["<template>\n  <div class=\"checkins\">\n    <div class=\"container mx-auto\">\n      <template v-if=\"!user\">\n        <div class=\"w-full pt-4\">\n          <div class=\"text-center\">\n            <i aria-hidden=\"true\" class=\"fas fa-4x fa-check-circle mb-4 text-gray-600\" />\n            <p class=\"text-sm\">Silahkan login untuk melakukan checkin.</p>\n          </div>\n\n          <div class=\"mx-2 my-2\">\n            <login-button />\n          </div>\n        </div>\n      </template>\n      <template v-else>\n        <div>\n          <DateTime\n            :value=\"selectedDate\"\n            :min-datetime=\"minDateTime\"\n            :max-datetime=\"maxDateTime\"\n            value-zone=\"UTC+7\"\n            type=\"date\"\n            format=\"DDDD\"\n            class=\"attendance-date-picker\"\n            input-class=\"attendance-date-picker-input\"\n            @input=\"changeDate\">\n          </DateTime>\n          <checkins-list class=\"mt-2\" :date=\"selectedDate\" />\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Datetime as DateTime } from 'vue-datetime'\nimport { mapGetters } from 'vuex'\n\nimport LoginButton from '@/components/LoginButton'\nimport CheckinsList from '@/components/CheckinsList'\nimport { formatDateLong } from '@/lib/date'\nimport { format, subMonths } from 'date-fns'\n\nexport default {\n  components: {\n    DateTime,\n    LoginButton,\n    CheckinsList\n  },\n\n  metaInfo: {\n    title: 'Checkins'\n  },\n\n  data () {\n    return {\n      minDateTime: subMonths(new Date(), 1).toISOString(),\n      maxDateTime: new Date().toISOString(),\n      selectedDate: null\n    }\n  },\n\n  computed: {\n    ...mapGetters({\n      user: 'auth/user'\n    }),\n    formattedSelectedDate () {\n      if (this.selectedDate) {\n        return formatDateLong(new Date(this.selectedDate))\n      }\n      return ''\n    }\n  },\n\n  watch: {\n    '$route.query': {\n      immediate: true,\n      handler ({ date } = {}) {\n        this.selectedDate = date || format(new Date(), 'yyyy-MM-dd')\n        this.fetchItems(this.selectedDate)\n      }\n    }\n  },\n\n  methods: {\n    format,\n    formatDateLong,\n    changeDate (date) {\n      const mDate = format(new Date(date), 'yyyy-MM-dd')\n      if (mDate !== this.selectedDate) {\n        this.$router.push({\n          query: {\n            date: mDate\n          }\n        })\n      }\n    },\n\n    async fetchItems (date) {\n      await this.$store.dispatch('checkins-list/fetchItems', { date: date })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.vdatetime.attendance-date-picker {\n  @apply cursor-pointer relative flex items-center;\n\n  &::after {\n    content: 'â–¼';\n    transform: translateY(-0.25em);\n    right: 1rem;\n    @apply pointer-events-none\n    absolute inline-block\n    text-gray-700\n    leading-none;\n  }\n}\n.attendance-date-picker-input {\n  @apply cursor-pointer w-full p-4 rounded-md border border-solid border-gray-300 mb-2;\n}\n</style>\n"],"sourceRoot":"src/views"}]}