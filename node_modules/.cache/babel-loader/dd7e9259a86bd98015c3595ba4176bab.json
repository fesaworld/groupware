{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/Form/InputFile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/Form/InputFile.vue","mtime":1673491775263},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb21lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybCI7CmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tICIvVXNlcnMvamRzL0RvY3VtZW50cy9kaXNrb21pbmZvL2pkcy9kaWdpdGVhbS9ncm91cHdhcmUvZ3JvdXB3YXJlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5IjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2pkcy9Eb2N1bWVudHMvZGlza29taW5mby9qZHMvZGlnaXRlYW0vZ3JvdXB3YXJlL2dyb3Vwd2FyZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IENvbnRlbnRMb2FkZXIgfSBmcm9tICd2dWUtY29udGVudC1sb2FkZXInOwppbXBvcnQgeyBnZXRTdG9yZWRGaWxlTWV0YWRhdGEgfSBmcm9tICcuLi8uLi9hcGknOwppbXBvcnQgeyBwcm9wcywgY29tcG9uZW50cyB9IGZyb20gJy4vaW5wdXQtbWl4aW4nOwp2YXIgU1RPUkFHRSA9IHsKICBGSVJFQkFTRTogJ2ZpcmViYXNlJywKICBHUk9VUFdBUkVfU0VSVklDRTogJ2dyb3Vwd2FyZS1zZXJ2aWNlJwp9OwpleHBvcnQgZGVmYXVsdCB7CiAgaW5oZXJpdEF0dHJzOiBmYWxzZSwKICBjb21wb25lbnRzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNvbXBvbmVudHMpLCB7fSwgewogICAgQ29udGVudExvYWRlcjogQ29udGVudExvYWRlciwKICAgIERhdGFMb2FkZXI6IGZ1bmN0aW9uIERhdGFMb2FkZXIoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoJy4uL0RhdGFMb2FkZXInKTsKICAgIH0sCiAgICBGaWxlUHJldmlldzogZnVuY3Rpb24gRmlsZVByZXZpZXcoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoJy4vRmlsZVByZXZpZXcnKTsKICAgIH0KICB9KSwKICBwcm9wczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwcm9wcyksIHt9LCB7CiAgICB2YWx1ZTogewogICAgICB0eXBlOiBTdHJpbmcKICAgIH0sCiAgICBmaWxlOiB7CiAgICAgIHR5cGU6IEZpbGUKICAgIH0sCiAgICBmaWxlbmFtZTogewogICAgICB0eXBlOiBTdHJpbmcKICAgIH0sCiAgICBzb3VyY2U6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBTVE9SQUdFLkZJUkVCQVNFLAogICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcih2KSB7CiAgICAgICAgcmV0dXJuIFtTVE9SQUdFLkZJUkVCQVNFLCBTVE9SQUdFLkdST1VQV0FSRV9TRVJWSUNFXS5pbmNsdWRlcyh2KTsKICAgICAgfQogICAgfSwKICAgIHJlbmFtZWFibGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIGRvd25sb2FkT25DbGljazogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0pLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtRmlsZTogbnVsbCwKICAgICAgbUZpbGVVUkw6IG51bGwsCiAgICAgIHByb21pc2VkTWV0YWRhdGE6IG51bGwKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLiRuZXh0VGljaygpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy4kd2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBbdGhpcy52YWx1ZSwgdGhpcy5maWxlXTsKICAgICAgfSwgZnVuY3Rpb24gKGFycikgewogICAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgICB2YXIgX2FyciA9IF9zbGljZWRUb0FycmF5KGFyciwgMiksCiAgICAgICAgICAgIHZhbHVlID0gX2FyclswXSwKICAgICAgICAgICAgZmlsZSA9IF9hcnJbMV07CgogICAgICAgIHRoaXMuJHJlZnMudmFsaWRhdG9yLnN5bmNWYWx1ZSh2YWx1ZSk7CiAgICAgICAgdGhpcy5tRmlsZVVSTCA9IHZhbHVlOwogICAgICAgIHRoaXMubUZpbGUgPSBmaWxlOwoKICAgICAgICBpZiAodHlwZW9mIHRoaXMubUZpbGVVUkwgPT09ICdzdHJpbmcnICYmIHRoaXMubUZpbGVVUkwuc3RhcnRzV2l0aCgnaHR0cCcpKSB7CiAgICAgICAgICB0aGlzLnByb21pc2VkTWV0YWRhdGEgPSB0aGlzLmdldEZpbGVNZXRhZGF0YSh0aGlzLm1GaWxlVVJMKTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMubUZpbGUgaW5zdGFuY2VvZiBGaWxlKSB7CiAgICAgICAgICB0aGlzLnByb21pc2VkTWV0YWRhdGEgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShfdGhpczIubUZpbGUpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICAgIGRlZXA6IHRydWUKICAgICAgfSk7CiAgICB9KTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBzaG91bGREaXNhYmxlVmFsaWRhdGlvbjogZnVuY3Rpb24gc2hvdWxkRGlzYWJsZVZhbGlkYXRpb24oKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLnZhbHVlID09PSAnc3RyaW5nJyAmJiBbJ2Jsb2InLCAnaHR0cCddLnNvbWUoZnVuY3Rpb24gKHN0cikgewogICAgICAgIHJldHVybiBfdGhpczMudmFsdWUuc3RhcnRzV2l0aChzdHIpOwogICAgICB9KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEZpbGVNZXRhZGF0YTogZnVuY3Rpb24gZ2V0RmlsZU1ldGFkYXRhKHVybCkgewogICAgICBpZiAodGhpcy5zb3VyY2UgPT09IFNUT1JBR0UuRklSRUJBU0UpIHsKICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgZ2V0U3RvcmVkRmlsZU1ldGFkYXRhKHVybCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBtZXRhZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CiAgICAgICAgICAgIHJlc29sdmUoewogICAgICAgICAgICAgIG5hbWU6IG1ldGFkYXRhLm5hbWUsCiAgICAgICAgICAgICAgdHlwZTogbWV0YWRhdGEuY29udGVudFR5cGUsCiAgICAgICAgICAgICAgc2l6ZTogbWV0YWRhdGEuc2l6ZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJlamVjdChlKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CgogICAgICBpZiAodGhpcy5zb3VyY2UgPT09IFNUT1JBR0UuR1JPVVBXQVJFX1NFUlZJQ0UpIHsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHt9KTsKICAgICAgfQogICAgfSwKICAgIHJlc2V0SW5wdXRFbGVtZW50OiBmdW5jdGlvbiByZXNldElucHV0RWxlbWVudCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBpZiAodGhpcy4kcmVmcy5pbnB1dCkgewogICAgICAgIHRoaXMuJHJlZnMuaW5wdXQudHlwZSA9ICcnOwogICAgICAgIHRoaXMuJHJlZnMuaW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJycpOwogICAgICAgIHJldHVybiB0aGlzLiRuZXh0VGljaygpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXM0LiRyZWZzLmlucHV0LnR5cGUgPSAnZmlsZSc7CgogICAgICAgICAgX3RoaXM0LiRyZWZzLmlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICdmaWxlJyk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTsKICAgIH0sCiAgICBvbkNob29zZUZpbGU6IGZ1bmN0aW9uIG9uQ2hvb3NlRmlsZSgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB0aGlzLm1GaWxlID0gbnVsbDsKICAgICAgdGhpcy5tRmlsZVVSTCA9IG51bGw7CiAgICAgIHRoaXMucmVzZXRJbnB1dEVsZW1lbnQoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczUuJHJlZnMuaW5wdXQuY2xpY2soKTsKICAgICAgfSk7CiAgICB9LAogICAgb25SZW1vdmVGaWxlOiBmdW5jdGlvbiBvblJlbW92ZUZpbGUoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdGhpcy5wcm9taXNlZE1ldGFkYXRhID0gbnVsbDsKICAgICAgdGhpcy5yZXNldElucHV0RWxlbWVudCgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNi5tRmlsZSA9IG51bGw7CiAgICAgICAgX3RoaXM2Lm1GaWxlVVJMID0gbnVsbDsKCiAgICAgICAgX3RoaXM2LmVtaXRDaGFuZ2UobnVsbCwgbnVsbCwgbnVsbCk7CgogICAgICAgIHJldHVybiBfdGhpczYuJG5leHRUaWNrKCk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNi4kcmVmcy52YWxpZGF0b3IudmFsaWRhdGUoKTsKICAgICAgfSk7CiAgICB9LAogICAgb25GaWxlbmFtZUNoYW5nZWQ6IGZ1bmN0aW9uIG9uRmlsZW5hbWVDaGFuZ2VkKG5hbWUpIHsKICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOmZpbGVuYW1lJywgbmFtZSk7CiAgICB9LAogICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICBpZiAoZS50YXJnZXQuZmlsZXMpIHsKICAgICAgICB0aGlzLm1GaWxlID0gZS50YXJnZXQuZmlsZXMubGVuZ3RoID8gZS50YXJnZXQuZmlsZXNbMF0gOiBudWxsOwogICAgICAgIHRoaXMubUZpbGVVUkwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTCh0aGlzLm1GaWxlKTsKICAgICAgICB0aGlzLmVtaXRDaGFuZ2UodGhpcy5tRmlsZVVSTCwgdGhpcy5tRmlsZS5uYW1lLCB0aGlzLm1GaWxlKTsKICAgICAgfQoKICAgICAgdGhpcy4kbmV4dFRpY2soKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczcuJHJlZnMudmFsaWRhdG9yLnZhbGlkYXRlKGUpOwogICAgICB9KTsKICAgIH0sCiAgICBlbWl0Q2hhbmdlOiBmdW5jdGlvbiBlbWl0Q2hhbmdlKHVybCwgZmlsZW5hbWUsIGZpbGUpIHsKICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOnZhbHVlJywgdXJsKTsKICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOmZpbGVuYW1lJywgZmlsZW5hbWUpOwogICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6ZmlsZScsIGZpbGUpOwogICAgfSwKICAgIG9uUHJldmlld0RvY3VtZW50OiBmdW5jdGlvbiBvblByZXZpZXdEb2N1bWVudCgpIHsKICAgICAgdGhpcy5tRmlsZVVSTCAmJiB3aW5kb3cub3Blbih0aGlzLm1GaWxlVVJMLCAnX2JsYW5rJyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["InputFile.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <ValidationProvider :rules=\"rules\"\n                      :disabled=\"shouldDisableValidation\"\n                      :custom-messages=\"customMessages\"\n                      #default=\"{failed, errors}\"\n                      tag=\"div\"\n                      ref=\"validator\">\n    <FormInputHeader :label-for=\"name\"\n                      :title=\"title\"\n                      :subtitle=\"subtitle\"\n                      :required=\"required\">\n      <template #title>\n        <slot name=\"title\"></slot>\n      </template>\n      <template #subtitle>\n        <slot name=\"subtitle\"></slot>\n      </template>\n    </FormInputHeader>\n    <DataLoader v-if=\"promisedMetadata\"\n                :promise=\"promisedMetadata\">\n      <template #pending>\n        <ContentLoader  class=\"max-w-xs\"\n                        :width=\"320\"\n                        :height=\"128\"\n                        :speed=\"2\"\n                        primary-color=\"#eceff1\"\n                        secondary-color=\"#fafafa\">\n          <rect x=\"0\" y=\"0\" rx=\"8\" ry=\"8\" width=\"128\" height=\"128\"></rect>\n          <rect x=\"144\" y=\"0\" rx=\"8\" ry=\"8\" width=\"100\" height=\"16\"></rect>\n          <rect x=\"144\" y=\"32\" rx=\"8\" ry=\"8\" width=\"176\" height=\"16\"></rect>\n          <rect x=\"144\" y=\"64\" rx=\"8\" ry=\"8\" width=\"176\" height=\"16\"></rect>\n          <rect x=\"144\" y=\"96\" rx=\"8\" ry=\"8\" width=\"64\" height=\"16\"></rect>\n        </ContentLoader>\n      </template>\n      <template #default=\"{value: metadata}\">\n        <FilePreview  v-if=\"metadata\"\n                      :file=\"file\"\n                      :name=\"filename\"\n                      :size=\"metadata.size\"\n                      :type=\"metadata.type\"\n                      :url=\"mFileURL\"\n                      :disabled=\"disabled\"\n                      :renameable=\"renameable\"\n                      :download-on-click=\"downloadOnClick\"\n                      @view=\"onPreviewDocument\"\n                      @update:name=\"onFilenameChanged\"\n                      @delete=\"onRemoveFile\"/>\n      </template>\n    </DataLoader>\n    <template v-else>\n      <div :class=\"{'form-input__file mb-2': true, 'is-invalid': failed}\">\n        <button @click=\"onChooseFile\">\n          Pilih\n        </button>\n        <a :href=\"mFileURL || false\"\n            target=\"_blank\"\n            @click.prevent=\"onPreviewDocument\">\n          {{(mFile && mFile.name) || mFileURL || $attrs.placeholder }}\n        </a>\n      </div>\n      <input v-show=\"false\"\n            ref=\"input\"\n            :name=\"name\"\n            :rules=\"rules\"\n            type=\"file\"\n            :multiple=\"false\"\n            v-bind=\"$attrs\"\n            @change=\"onChange($event)\">\n    </template>\n    <p v-if=\"errors.length\"\n       class=\"form-input__error-hint\">\n      <slot name=\"error\">\n        {{errors[0]}}\n      </slot>\n    </p>\n  </ValidationProvider>\n</template>\n\n<script>\nimport { ContentLoader } from 'vue-content-loader'\nimport { getStoredFileMetadata } from '../../api'\nimport { props, components } from './input-mixin'\n\nconst STORAGE = {\n  FIREBASE: 'firebase',\n  GROUPWARE_SERVICE: 'groupware-service'\n}\n\nexport default {\n  inheritAttrs: false,\n  components: {\n    ...components,\n    ContentLoader,\n    DataLoader: () => import('../DataLoader'),\n    FilePreview: () => import('./FilePreview')\n  },\n  props: {\n    ...props,\n    value: {\n      type: String\n    },\n    file: {\n      type: File\n    },\n    filename: {\n      type: String\n    },\n    source: {\n      type: String,\n      default: STORAGE.FIREBASE,\n      validator (v) {\n        return [STORAGE.FIREBASE, STORAGE.GROUPWARE_SERVICE].includes(v)\n      }\n    },\n    renameable: {\n      type: Boolean,\n      default: true\n    },\n    downloadOnClick: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data () {\n    return {\n      mFile: null,\n      mFileURL: null,\n\n      promisedMetadata: null\n    }\n  },\n  mounted () {\n    this.$nextTick()\n      .then(() => {\n        this.$watch(\n          function () {\n            return [this.value, this.file]\n          },\n          function (arr) {\n            const [value, file] = arr\n            this.$refs.validator.syncValue(value)\n            this.mFileURL = value\n            this.mFile = file\n            if (typeof this.mFileURL === 'string' && this.mFileURL.startsWith('http')) {\n              this.promisedMetadata = this.getFileMetadata(this.mFileURL)\n            } else if (this.mFile instanceof File) {\n              this.promisedMetadata = new Promise(resolve => resolve(this.mFile))\n            }\n          },\n          { immediate: true, deep: true }\n        )\n      })\n  },\n  computed: {\n    shouldDisableValidation () {\n      return typeof this.value === 'string' && ['blob', 'http'].some(str => this.value.startsWith(str))\n    }\n  },\n  methods: {\n    getFileMetadata (url) {\n      if (this.source === STORAGE.FIREBASE) {\n        return new Promise((resolve, reject) => {\n          getStoredFileMetadata(url)\n            .then((metadata = {}) => {\n              resolve({\n                name: metadata.name,\n                type: metadata.contentType,\n                size: metadata.size\n              })\n            })\n            .catch(e => {\n              reject(e)\n            })\n        })\n      }\n      if (this.source === STORAGE.GROUPWARE_SERVICE) {\n        return Promise.resolve({})\n      }\n    },\n    resetInputElement () {\n      if (this.$refs.input) {\n        this.$refs.input.type = ''\n        this.$refs.input.setAttribute('type', '')\n        return this.$nextTick()\n          .then(() => {\n            this.$refs.input.type = 'file'\n            this.$refs.input.setAttribute('type', 'file')\n          })\n      }\n      return Promise.resolve()\n    },\n    onChooseFile () {\n      this.mFile = null\n      this.mFileURL = null\n      this.resetInputElement()\n        .then(() => {\n          this.$refs.input.click()\n        })\n    },\n    onRemoveFile () {\n      this.promisedMetadata = null\n      this.resetInputElement()\n        .then(() => {\n          this.mFile = null\n          this.mFileURL = null\n          this.emitChange(null, null, null)\n          return this.$nextTick()\n        }).then(() => {\n          this.$refs.validator.validate()\n        })\n    },\n    onFilenameChanged (name) {\n      this.$emit('update:filename', name)\n    },\n    onChange (e) {\n      if (e.target.files) {\n        this.mFile = e.target.files.length ? e.target.files[0] : null\n        this.mFileURL = window.URL.createObjectURL(this.mFile)\n        this.emitChange(this.mFileURL, this.mFile.name, this.mFile)\n      }\n      this.$nextTick()\n        .then(() => {\n          this.$refs.validator.validate(e)\n        })\n    },\n    emitChange (url, filename, file) {\n      this.$emit('update:value', url)\n      this.$emit('update:filename', filename)\n      this.$emit('update:file', file)\n    },\n    onPreviewDocument () {\n      this.mFileURL && window.open(this.mFileURL, '_blank')\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/components/Form"}]}