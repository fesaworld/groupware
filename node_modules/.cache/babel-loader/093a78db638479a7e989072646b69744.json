{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/babel-loader/lib/index.js!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/components/Form/EvidenceImageInput.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/components/Form/EvidenceImageInput.vue","mtime":1673491775262},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9qZHMvRG9jdW1lbnRzL2Rpc2tvbWluZm8vamRzL2RpZ2l0ZWFtL2dyb3Vwd2FyZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IHByb3BzLCBjb21wb25lbnRzIH0gZnJvbSAnLi9pbnB1dC1taXhpbic7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNvbXBvbmVudHMpLCB7fSwgewogICAgRXZpZGVuY2VJbWFnZVByZXZpZXc6IGZ1bmN0aW9uIEV2aWRlbmNlSW1hZ2VQcmV2aWV3KCkgewogICAgICByZXR1cm4gaW1wb3J0KCcuL0V2aWRlbmNlSW1hZ2VQcmV2aWV3Jyk7CiAgICB9LAogICAgRmlsZVNlbGVjdG9yOiBmdW5jdGlvbiBGaWxlU2VsZWN0b3IoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoJy4vRmlsZVNlbGVjdG9yJyk7CiAgICB9CiAgfSksCiAgbW9kZWw6IHsKICAgIHByb3A6ICd2YWx1ZScsCiAgICBldmVudDogJ2lucHV0JwogIH0sCiAgcHJvcHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcHJvcHMpLCB7fSwgewogICAgcGF0aDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICB1cmw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9CiAgfSksCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1GaWxlOiBudWxsLAogICAgICBtVXJsOiBudWxsLAogICAgICBtQmxvYjogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc1NlbGVjdGVkRmlsZUNoYW5nZWQ6IGZ1bmN0aW9uIGlzU2VsZWN0ZWRGaWxlQ2hhbmdlZCgpIHsKICAgICAgcmV0dXJuIHRoaXMubVVybCAmJiB0aGlzLm1VcmwgIT09IHRoaXMudXJsOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHVybDogewogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodikgewogICAgICAgIHRoaXMubVVybCA9IHY7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIG9uUmVwbGFjZUZpbGU6IGZ1bmN0aW9uIG9uUmVwbGFjZUZpbGUoKSB7CiAgICAgIHZhciBzZWxlY3RvciA9IHRoaXMuJHJlZnMuZmlsZVNlbGVjdG9yOwoKICAgICAgaWYgKCFzZWxlY3RvcikgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgc2VsZWN0b3Iub25DaG9vc2VGaWxlKCk7CiAgICB9LAogICAgb25QcmV2aWV3OiBmdW5jdGlvbiBvblByZXZpZXcoKSB7CiAgICAgIHdpbmRvdy5vcGVuKHRoaXMubVVybCwgJ19ibGFuaycpOwogICAgfSwKICAgIG9uU2VsZWN0ZWRGaWxlQ2hhbmdlOiBmdW5jdGlvbiBvblNlbGVjdGVkRmlsZUNoYW5nZSh1cmwsIGZpbGUpIHsKICAgICAgdGhpcy5tVXJsID0gdXJsOwogICAgICB0aGlzLm1GaWxlID0gZmlsZTsKICAgICAgdGhpcy5lbWl0Q2hhbmdlcygpOwogICAgfSwKICAgIGdldFNlbGVjdGVkRmlsZTogZnVuY3Rpb24gZ2V0U2VsZWN0ZWRGaWxlKCkgewogICAgICByZXR1cm4gdGhpcy5pc1NlbGVjdGVkRmlsZUNoYW5nZWQgPyB0aGlzLm1GaWxlIDogbnVsbDsKICAgIH0sCiAgICBlbWl0Q2hhbmdlczogZnVuY3Rpb24gZW1pdENoYW5nZXMoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZTp1cmwnLCB0aGlzLm1VcmwpOwogICAgICB0aGlzLiRlbWl0KCdjaGFuZ2U6ZmlsZScsIHRoaXMubUZpbGUpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["EvidenceImageInput.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,SAAA,KAAA,EAAA,UAAA,QAAA,eAAA;AAEA,eAAA;AACA,EAAA,UAAA,kCACA,UADA;AAEA,IAAA,oBAAA,EAAA;AAAA,aAAA,OAAA,wBAAA,CAAA;AAAA,KAFA;AAGA,IAAA,YAAA,EAAA;AAAA,aAAA,OAAA,gBAAA,CAAA;AAAA;AAHA,IADA;AAMA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA,OADA;AAEA,IAAA,KAAA,EAAA;AAFA,GANA;AAUA,EAAA,KAAA,kCACA,KADA;AAEA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAFA;AAMA,IAAA,GAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AANA,IAVA;AAqBA,EAAA,IArBA,kBAqBA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,IADA;AAEA,MAAA,IAAA,EAAA,IAFA;AAGA,MAAA,KAAA,EAAA;AAHA,KAAA;AAKA,GA3BA;AA4BA,EAAA,QAAA,EAAA;AACA,IAAA,qBADA,mCACA;AACA,aAAA,KAAA,IAAA,IAAA,KAAA,IAAA,KAAA,KAAA,GAAA;AACA;AAHA,GA5BA;AAiCA,EAAA,KAAA,EAAA;AACA,IAAA,GAAA,EAAA;AACA,MAAA,SAAA,EAAA,IADA;AAEA,MAAA,OAFA,mBAEA,CAFA,EAEA;AACA,aAAA,IAAA,GAAA,CAAA;AACA;AAJA;AADA,GAjCA;AAyCA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA,UAAA,QAAA,GAAA,KAAA,KAAA,CAAA,YAAA;;AACA,UAAA,CAAA,QAAA,EAAA;AACA;AACA;;AACA,MAAA,QAAA,CAAA,YAAA;AACA,KAPA;AAQA,IAAA,SARA,uBAQA;AACA,MAAA,MAAA,CAAA,IAAA,CAAA,KAAA,IAAA,EAAA,QAAA;AACA,KAVA;AAWA,IAAA,oBAXA,gCAWA,GAXA,EAWA,IAXA,EAWA;AACA,WAAA,IAAA,GAAA,GAAA;AACA,WAAA,KAAA,GAAA,IAAA;AACA,WAAA,WAAA;AACA,KAfA;AAgBA,IAAA,eAhBA,6BAgBA;AACA,aAAA,KAAA,qBAAA,GAAA,KAAA,KAAA,GAAA,IAAA;AACA,KAlBA;AAmBA,IAAA,WAnBA,yBAmBA;AACA,WAAA,KAAA,CAAA,YAAA,EAAA,KAAA,IAAA;AACA,WAAA,KAAA,CAAA,aAAA,EAAA,KAAA,KAAA;AACA;AAtBA;AAzCA,CAAA","sourcesContent":["<template>\n  <div>\n    <FormInputHeader\n      :label-for=\"name\"\n      :title=\"title\"\n      :subtitle=\"subtitle\"\n      :required=\"required\"\n    >\n      <template #title>\n        <slot name=\"title\"></slot>\n      </template>\n      <template #subtitle>\n        <slot name=\"subtitle\"></slot>\n      </template>\n    </FormInputHeader>\n    <template v-if=\"mUrl\">\n      <EvidenceImagePreview\n        :url=\"mUrl\"\n        :disabled=\"disabled\"\n        @replace=\"onReplaceFile\"\n      />\n    </template>\n    <FileSelector\n      ref=\"fileSelector\"\n      v-show=\"!mUrl\"\n      :url=\"mUrl\"\n      accept=\"image/*\"\n      v-bind=\"$props\"\n      @preview=\"onPreview\"\n      @change=\"onSelectedFileChange\"\n    >\n      <template #choose-file-button-text>\n        Upload\n      </template>\n    </FileSelector>\n  </div>\n</template>\n\n<script>\nimport { props, components } from './input-mixin'\n\nexport default {\n  components: {\n    ...components,\n    EvidenceImagePreview: () => import('./EvidenceImagePreview'),\n    FileSelector: () => import('./FileSelector')\n  },\n  model: {\n    prop: 'value',\n    event: 'input'\n  },\n  props: {\n    ...props,\n    path: {\n      type: String,\n      default: null\n    },\n    url: {\n      type: String,\n      default: null\n    }\n  },\n  data () {\n    return {\n      mFile: null,\n      mUrl: null,\n      mBlob: null\n    }\n  },\n  computed: {\n    isSelectedFileChanged () {\n      return this.mUrl && this.mUrl !== this.url\n    }\n  },\n  watch: {\n    url: {\n      immediate: true,\n      handler (v) {\n        this.mUrl = v\n      }\n    }\n  },\n  methods: {\n    onReplaceFile () {\n      const selector = this.$refs.fileSelector\n      if (!selector) {\n        return\n      }\n      selector.onChooseFile()\n    },\n    onPreview () {\n      window.open(this.mUrl, '_blank')\n    },\n    onSelectedFileChange (url, file) {\n      this.mUrl = url\n      this.mFile = file\n      this.emitChanges()\n    },\n    getSelectedFile () {\n      return this.isSelectedFileChanged ? this.mFile : null\n    },\n    emitChanges () {\n      this.$emit('change:url', this.mUrl)\n      this.$emit('change:file', this.mFile)\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/components/Form"}]}