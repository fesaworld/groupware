{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/babel-loader/lib/index.js!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/components/Form/FilePreview.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/components/Form/FilePreview.vue","mtime":1673491775263},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubGFzdC1pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBpc01pbWVUeXBlSW1hZ2UgfSBmcm9tICcuLi9Qcm9maWxlL0VkaXQvdXRpbHMnOwppbXBvcnQgeyBzYXZlQXMgfSBmcm9tICdmaWxlLXNhdmVyJzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBmaWxlOiB7CiAgICAgIHR5cGU6IEZpbGUKICAgIH0sCiAgICBkaXNhYmxlZDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIG5hbWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHNpemU6IHsKICAgICAgdHlwZTogW1N0cmluZywgTnVtYmVyXSwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICB0eXBlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICB1cmw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHJlbmFtZWFibGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIGRvd25sb2FkT25DbGljazogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1OYW1lOiAnJywKICAgICAgbUZpbGVFeHRlbnNpb246ICcnCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzSW1hZ2U6IGZ1bmN0aW9uIGlzSW1hZ2UoKSB7CiAgICAgIHJldHVybiBpc01pbWVUeXBlSW1hZ2UodGhpcy50eXBlKTsKICAgIH0sCiAgICBtZXRhZGF0YTogZnVuY3Rpb24gbWV0YWRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgVWt1cmFuOiBNYXRoLmNlaWwodGhpcy5zaXplIC8gMTAwMCkgKyAnIEtCJywKICAgICAgICBUaXBlOiB0aGlzLnR5cGUKICAgICAgfTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIG9uTmFtZUNoYW5nZWQ6IGZ1bmN0aW9uIG9uTmFtZUNoYW5nZWQoZSkgewogICAgICB0aGlzLm1OYW1lID0gZS50YXJnZXQudmFsdWU7CiAgICAgIHZhciBzdHIgPSBlLnRhcmdldC52YWx1ZSArIHRoaXMubUZpbGVFeHRlbnNpb247CiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpuYW1lJywgc3RyKTsKICAgIH0sCiAgICBvblByZXZpZXdEb2N1bWVudDogZnVuY3Rpb24gb25QcmV2aWV3RG9jdW1lbnQoZSkgewogICAgICBpZiAodGhpcy5kb3dubG9hZE9uQ2xpY2sgJiYgdGhpcy5maWxlKSB7CiAgICAgICAgc2F2ZUFzKHRoaXMuZmlsZSwgdGhpcy5uYW1lKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHdpbmRvdy5vcGVuKHRoaXMudXJsLCAnX2JsYW5rJyk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgbmFtZTogewogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodikgewogICAgICAgIGlmICh0eXBlb2YgdiA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgIHRoaXMubU5hbWUgPSB2LnN1YnN0cmluZygwLCB2Lmxhc3RJbmRleE9mKCcuJykpOwogICAgICAgICAgdGhpcy5tRmlsZUV4dGVuc2lvbiA9IHYuc3Vic3RyaW5nKHYubGFzdEluZGV4T2YoJy4nKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMubU5hbWUgPSAnJzsKICAgICAgICAgIHRoaXMubUZpbGVFeHRlbnNpb24gPSAnJzsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["FilePreview.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA,SAAA,eAAA,QAAA,uBAAA;AACA,SAAA,MAAA,QAAA,YAAA;AAEA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA,KADA;AAIA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAJA;AAQA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA,KARA;AAYA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,CAAA,MAAA,EAAA,MAAA,CADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAZA;AAgBA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAhBA;AAoBA,IAAA,GAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA,KApBA;AAwBA,IAAA,UAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAxBA;AA4BA,IAAA,eAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA;AA5BA,GADA;AAkCA,EAAA,IAlCA,kBAkCA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,cAAA,EAAA;AAFA,KAAA;AAIA,GAvCA;AAwCA,EAAA,QAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,aAAA,eAAA,CAAA,KAAA,IAAA,CAAA;AACA,KAHA;AAIA,IAAA,QAJA,sBAIA;AACA,aAAA;AACA,QAAA,MAAA,EAAA,IAAA,CAAA,IAAA,CAAA,KAAA,IAAA,GAAA,IAAA,IAAA,KADA;AAEA,QAAA,IAAA,EAAA,KAAA;AAFA,OAAA;AAIA;AATA,GAxCA;AAmDA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,yBACA,CADA,EACA;AACA,WAAA,KAAA,GAAA,CAAA,CAAA,MAAA,CAAA,KAAA;AACA,UAAA,GAAA,GAAA,CAAA,CAAA,MAAA,CAAA,KAAA,GAAA,KAAA,cAAA;AACA,WAAA,KAAA,CAAA,aAAA,EAAA,GAAA;AACA,KALA;AAMA,IAAA,iBANA,6BAMA,CANA,EAMA;AACA,UAAA,KAAA,eAAA,IAAA,KAAA,IAAA,EAAA;AACA,QAAA,MAAA,CAAA,KAAA,IAAA,EAAA,KAAA,IAAA,CAAA;AACA;AACA;;AACA,MAAA,MAAA,CAAA,IAAA,CAAA,KAAA,GAAA,EAAA,QAAA;AACA;AAZA,GAnDA;AAiEA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,SAAA,EAAA,IADA;AAEA,MAAA,OAAA,EAAA,iBAAA,CAAA,EAAA;AACA,YAAA,OAAA,CAAA,KAAA,QAAA,EAAA;AACA,eAAA,KAAA,GAAA,CAAA,CAAA,SAAA,CAAA,CAAA,EAAA,CAAA,CAAA,WAAA,CAAA,GAAA,CAAA,CAAA;AACA,eAAA,cAAA,GAAA,CAAA,CAAA,SAAA,CAAA,CAAA,CAAA,WAAA,CAAA,GAAA,CAAA,CAAA;AACA,SAHA,MAGA;AACA,eAAA,KAAA,GAAA,EAAA;AACA,eAAA,cAAA,GAAA,EAAA;AACA;AACA;AAVA;AADA;AAjEA,CAAA","sourcesContent":["<template>\n  <div class=\"form-input__file-preview\">\n    <figcaption class=\"mr-4\">\n      <img v-if=\"isImage && url\"\n        alt=\"Evidence Image\"\n        :src=\"url\"\n        class=\"form-input__file-preview__image\"\n        @click.prevent=\"onPreviewDocument\">\n      <a v-else\n        class=\"form-input__file-preview__icon\"\n        title=\"Lihat Dokumen\"\n        @click.prevent=\"onPreviewDocument\">\n        {{mFileExtension}}\n      </a>\n    </figcaption>\n    <div class=\"mt-4 md:mt-0 self-stretch md:flex-auto flex flex-col justify-between\">\n      <ul>\n        <ValidationProvider v-if=\"renameable\"\n                            tag=\"li\"\n                            ref=\"validator\"\n                            rules=\"required\"\n                            :custom-messages=\"{required: 'Nama file harus diisi'}\"\n                            #default=\"{errors}\">\n          <label class=\"inline-block align-middle text-gray-700\">\n            Nama File\n            <i aria-hidden=\"true\" class=\"relative fa fa-pen float-right ml-2 text-gray-400\" style=\"transform: translateY(2px);\"></i>\n          </label>\n          <div class=\"mb-2 relative flex flex-row justify-start items-stretch border-b border-solid border-brand-blue\">\n              <input  class=\"block flex-auto text-gray-700 font-bold\"\n                      style=\"min-width: 0;\"\n                      type=\"text\"\n                      :value=\"mName\"\n                      :disabled=\"disabled\"\n                      :readonly=\"disabled\"\n                      @input=\"onNameChanged\">\n            <span class=\"flex-none block w-24 px-2 py-1 text-gray-600 bg-gray-200 text-center rounded-tr rounded-br\">\n              <code>{{mFileExtension}}</code>\n            </span>\n          </div>\n          <p  v-if=\"errors.length\"\n              class=\"form-input__error-hint mb-4\">\n            <slot name=\"error\">\n              {{errors[0]}}\n            </slot>\n          </p>\n        </ValidationProvider>\n        <li v-for=\"(value, key) in metadata\" :key=\"key\">\n          <label class=\"inline-block w-16 text-gray-700\">\n            {{key}}\n          </label>\n          <p class=\"block mb-2 text-gray-700 font-bold\">\n            {{value}}\n          </p>\n        </li>\n      </ul>\n      <p v-if=\"!disabled\" class=\"mt-2 inline-block self-end text-sm\">\n        <button class=\"w-auto py-2 px-4 mr-4 rounded border border-solid border-blue-500 text-blue-500 hover:opacity-50 hover:bg-blue-100\"\n                @click=\"$emit('view')\">\n          Tampilkan\n        </button>\n        <button class=\"w-24 py-2 px-4 rounded border border-solid border-red-600 text-red-500 hover:opacity-50 hover:bg-red-100\"\n                @click=\"$emit('delete')\">\n          Hapus\n        </button>\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { isMimeTypeImage } from '../Profile/Edit/utils'\nimport { saveAs } from 'file-saver'\n\nexport default {\n  props: {\n    file: {\n      type: File\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    name: {\n      type: String,\n      required: true\n    },\n    size: {\n      type: [String, Number],\n      required: true\n    },\n    type: {\n      type: String,\n      required: true\n    },\n    url: {\n      type: String,\n      required: true\n    },\n    renameable: {\n      type: Boolean,\n      default: true\n    },\n    downloadOnClick: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data () {\n    return {\n      mName: '',\n      mFileExtension: ''\n    }\n  },\n  computed: {\n    isImage () {\n      return isMimeTypeImage(this.type)\n    },\n    metadata () {\n      return {\n        Ukuran: Math.ceil(this.size / 1000) + ' KB',\n        Tipe: this.type\n      }\n    }\n  },\n  methods: {\n    onNameChanged (e) {\n      this.mName = e.target.value\n      const str = e.target.value + this.mFileExtension\n      this.$emit('update:name', str)\n    },\n    onPreviewDocument (e) {\n      if (this.downloadOnClick && this.file) {\n        saveAs(this.file, this.name)\n        return\n      }\n      window.open(this.url, '_blank')\n    }\n  },\n  watch: {\n    name: {\n      immediate: true,\n      handler: function (v) {\n        if (typeof v === 'string') {\n          this.mName = v.substring(0, v.lastIndexOf('.'))\n          this.mFileExtension = v.substring(v.lastIndexOf('.'))\n        } else {\n          this.mName = ''\n          this.mFileExtension = ''\n        }\n      }\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/components/Form"}]}