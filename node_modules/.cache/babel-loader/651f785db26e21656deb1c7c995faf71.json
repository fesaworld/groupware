{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/babel-loader/lib/index.js!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/layouts/default.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/layouts/default.vue","mtime":1673491775268},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2pkcy9Eb2N1bWVudHMvZGlza29taW5mby9qZHMvZGlnaXRlYW0vZ3JvdXB3YXJlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2pkcy9Eb2N1bWVudHMvZGlza29taW5mby9qZHMvZGlnaXRlYW0vZ3JvdXB3YXJlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgTmF2YmFyIGZyb20gJ0AvY29tcG9uZW50cy9OYXZiYXInOwppbXBvcnQgeyBtZXNzYWdpbmcgfSBmcm9tICdAL2xpYi9maXJlYmFzZSc7CmltcG9ydCB7IGdldERldmljZVRva2VuQnlVc2VySWQsIHJldHJpZXZlVG9rZW4sIHVwZGF0ZVRva2VuLCBsaXN0ZW5Ub1JlZnJlc2hUb2tlbkV2ZW50IH0gZnJvbSAnLi4vbGliL2ZjbS1ub3RpZmljYXRpb24nOwppbXBvcnQgRGlnaXRlYW1FbWJsZW0gZnJvbSAnLi4vY29tcG9uZW50cy9EaWdpdGVhbUVtYmxlbS52dWUnOwppbXBvcnQgVGhlbWVTd2l0Y2hlciBmcm9tICcuLi9jb21wb25lbnRzL1RoZW1lU3dpdGNoZXIudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIE5hdmJhcjogTmF2YmFyLAogICAgRGlnaXRlYW1FbWJsZW06IERpZ2l0ZWFtRW1ibGVtLAogICAgVGhlbWVTd2l0Y2hlcjogVGhlbWVTd2l0Y2hlcgogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoewogICAgdGhlbWU6ICd0aGVtZS9nZXRUaGVtZScKICB9KSksCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3dQb3B1cE5vdGlmaWNhdGlvbjogZmFsc2UKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgJyRzdG9yZS5zdGF0ZS5hdXRoLnVzZXInOiB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2KSB7CiAgICAgICAgaWYgKHYpIHsKICAgICAgICAgIHRoaXMuY2hlY2tQZXJtaXNzaW9uKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgdGhlbWU6IGZ1bmN0aW9uIHRoZW1lKG5ld1RoZW1lLCBvbGRUaGVtZSkgewogICAgICBuZXdUaGVtZSA9PT0gJ2xpZ2h0JyA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2h0bWwnKS5jbGFzc0xpc3QucmVtb3ZlKCdkYXJrLW1vZGUnKSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2h0bWwnKS5jbGFzc0xpc3QuYWRkKCdkYXJrLW1vZGUnKTsKICAgIH0KICB9LAogIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCd0aGVtZS9pbml0VGhlbWUnKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnaG9tZS1iYW5uZXJzL2ZldGNoSXRlbXMnKTsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdob21lLWFydGljbGVzL2ZldGNoSXRlbXMnKTsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdtZXNzYWdlcy1saXN0L2ZldGNoSXRlbXMnKTsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdldmVudHMtbGlzdC9mZXRjaEl0ZW1zJyk7CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndGhhbmt5b3UtbGlzdC9mZXRjaEl0ZW1zJyk7CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndGVhbXMtbGlzdC9mZXRjaEl0ZW1zJyk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGVja1Blcm1pc3Npb246IGZ1bmN0aW9uIGNoZWNrUGVybWlzc2lvbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHBlcm1pc3Npb24sIGV4aXN0aW5nVG9rZW47CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2luZykgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGlmIChfdGhpcy4kc3RvcmUuc3RhdGUuYXV0aC51c2VyKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gTm90aWZpY2F0aW9uLnBlcm1pc3Npb247CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHBlcm1pc3Npb24gPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChwZXJtaXNzaW9uID09PSAnZGVmYXVsdCcpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuc2hvd1BvcHVwTm90aWZpY2F0aW9uID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShwZXJtaXNzaW9uID09PSAnZ3JhbnRlZCcpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgcmV0dXJuIGdldERldmljZVRva2VuQnlVc2VySWQoX3RoaXMuJHN0b3JlLnN0YXRlLmF1dGgudXNlci5pZCk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBleGlzdGluZ1Rva2VuID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdUb2tlbikgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiByZXRyaWV2ZVRva2VuKCk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBsaXN0ZW5Ub1JlZnJlc2hUb2tlbkV2ZW50KCk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBpZiAocGVybWlzc2lvbiA9PT0gJ2RlbmllZCcpIHsvLwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGFsbG93Tm90aWZpY2F0aW9uOiBmdW5jdGlvbiBhbGxvd05vdGlmaWNhdGlvbigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcGVybWlzc2lvbiwgZXhpc3RpbmdUb2tlbjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2luZykgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIE5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbigpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBwZXJtaXNzaW9uID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEocGVybWlzc2lvbiA9PT0gJ2dyYW50ZWQnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0RGV2aWNlVG9rZW5CeVVzZXJJZChfdGhpczIuJHN0b3JlLnN0YXRlLmF1dGgudXNlci5pZCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIGV4aXN0aW5nVG9rZW4gPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdUb2tlbikgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuIHJldHJpZXZlVG9rZW4oKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlVG9rZW4oKTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIGxpc3RlblRvUmVmcmVzaFRva2VuRXZlbnQoKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIF90aGlzMi5zaG93UG9wdXBOb3RpZmljYXRpb24gPSBmYWxzZTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["default.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"select-none no-pull-refresh dark:bg-gray-800\">\n    <transition name=\"translate-to-bottom\">\n      <div\n        v-if=\"showPopupNotification\"\n        class=\"h-16 overflow-hidden flex items-center bg-brand-yellow-darkest\">\n        <div class=\"container mx-auto px-6\">\n          <div class=\"text-sm w-full\">\n            Izinkan notifikasi mengirim pesan\n            <button @click=\"allowNotification\" class=\"ml-2 bg-brand-blue text-white font-bold py-1 px-4 rounded focus:outline-none focus:shadow-outline\" type=\"button\">\n              Allow\n            </button>\n          </div>\n        </div>\n      </div>\n    </transition>\n\n    <div class=\"bg-white dark:bg-gray-900 dark:text-white\">\n      <div class=\"container mx-auto app-grid-layout grid grid-cols-3\">\n        <div class=\"app-grid-layout__first-column col-span-2\">\n          <DigiteamEmblem class=\"p-6\" />\n        </div>\n        <div class=\"app-grid-layout__second-column\">\n          <!-- intentionally blank -->\n          <ThemeSwitcher\n            :theme=\"theme\"\n            class=\"py-10 text-right\"\n          />\n        </div>\n      </div>\n    </div>\n    <div class=\"app-content\">\n      <slot>\n        <router-view />\n      </slot>\n    </div>\n    <navbar />\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport Navbar from '@/components/Navbar'\nimport { messaging } from '@/lib/firebase'\nimport { getDeviceTokenByUserId, retrieveToken, updateToken, listenToRefreshTokenEvent } from '../lib/fcm-notification'\nimport DigiteamEmblem from '../components/DigiteamEmblem.vue'\nimport ThemeSwitcher from '../components/ThemeSwitcher.vue'\n\nexport default {\n  components: {\n    Navbar,\n    DigiteamEmblem,\n    ThemeSwitcher\n  },\n\n  computed: {\n    ...mapGetters({ theme: 'theme/getTheme' })\n  },\n\n  data () {\n    return {\n      showPopupNotification: false\n    }\n  },\n  watch: {\n    '$store.state.auth.user': {\n      immediate: true,\n      handler (v) {\n        if (v) {\n          this.checkPermission()\n        }\n      }\n    },\n    theme (newTheme, oldTheme) {\n      newTheme === 'light'\n        ? document.querySelector('html').classList.remove('dark-mode')\n        : document.querySelector('html').classList.add('dark-mode')\n    }\n  },\n  beforeMount () {\n    this.$store.dispatch('theme/initTheme')\n  },\n  mounted () {\n    this.$store.dispatch('home-banners/fetchItems')\n    this.$store.dispatch('home-articles/fetchItems')\n    this.$store.dispatch('messages-list/fetchItems')\n    this.$store.dispatch('events-list/fetchItems')\n    this.$store.dispatch('thankyou-list/fetchItems')\n    this.$store.dispatch('teams-list/fetchItems')\n  },\n\n  methods: {\n    async checkPermission () {\n      if (!messaging) return\n      if (!this.$store.state.auth.user) return\n\n      const permission = await Notification.permission\n\n      if (permission === 'default') {\n        this.showPopupNotification = true\n      }\n\n      if (permission === 'granted') {\n        const existingToken = await getDeviceTokenByUserId(this.$store.state.auth.user.id)\n        if (!existingToken) {\n          await retrieveToken()\n        }\n        listenToRefreshTokenEvent()\n      }\n      if (permission === 'denied') {\n        //\n      }\n    },\n\n    async allowNotification () {\n      if (!messaging) return\n\n      // Request Permission of Notifications\n      const permission = await Notification.requestPermission()\n\n      if (permission === 'granted') {\n        const existingToken = await getDeviceTokenByUserId(this.$store.state.auth.user.id)\n        if (!existingToken) {\n          await retrieveToken()\n        } else {\n          await updateToken()\n        }\n        listenToRefreshTokenEvent()\n      }\n\n      this.showPopupNotification = false\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.translate-to-bottom {\n  &-enter-active,\n  &-leave-active {\n    transition-property: height;\n    transition-duration: 0.3s;\n    transition-timing-function: ease-out;\n    transition-delay: 1s;\n  }\n\n  &-enter,\n  &-leave-to {\n    height: 0px;\n  }\n}\n.app-content {\n  min-height: calc(100vh - 10rem);\n  @apply mt-4 mb-12;\n}\n</style>\n"],"sourceRoot":"src/layouts"}]}