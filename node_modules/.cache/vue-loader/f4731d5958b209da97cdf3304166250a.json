{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/LogoutButton.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/LogoutButton.vue","mtime":1673510249754},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IFVOQVVUSEVOVElDQVRFRCB9IGZyb20gJy4uL3N0b3JlL211dGF0aW9uLXR5cGVzJwppbXBvcnQgeyBtYXBNdXRhdGlvbnMgfSBmcm9tICd2dWV4JwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd1NwaW5uZXI6IGZhbHNlCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBNdXRhdGlvbnMoJ2F1dGgnLCBbCiAgICAgIFVOQVVUSEVOVElDQVRFRAogICAgXSksCiAgICBvbkNsaWNrICgpIHsKICAgICAgcmV0dXJuIHRoaXMuc2lnbk91dCgpCiAgICB9LAogICAgYXN5bmMgc2lnbk91dCAoKSB7CiAgICAgIGNvbnN0IHsgdmFsdWU6IGNvbmZpcm0gfSA9IGF3YWl0IHRoaXMuJHN3YWwuZmlyZSh7CiAgICAgICAgdGV4dDogJ0FwYSBrYW11IHlha2luIHVudHVrIGxvZ291dCBzZWthcmFuZz8nLAogICAgICAgIGljb246ICdxdWVzdGlvbicsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdZYSwgbG9nb3V0IHNla2FyYW5nJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAnVGlkYWsnLAogICAgICAgIHNob3dDb25maXJtQnV0dG9uOiB0cnVlLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAnI0Y1NjU2NScsCiAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICcjMzhBMTY5JwogICAgICB9KQogICAgICBpZiAoIWNvbmZpcm0pIHsKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICB0cnkgewogICAgICAgIHRoaXMuc2hvd1NwaW5uZXIgPSB0cnVlCiAgICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2F1dGgvbG9nb3V0JykKICAgICAgfSBjYXRjaCAoZSkgewogICAgICB9IGZpbmFsbHkgewogICAgICAgIHRoaXMuc2hvd1NwaW5uZXIgPSBmYWxzZQogICAgICAgIHRoaXNbVU5BVVRIRU5USUNBVEVEXSgpCiAgICAgIH0KICAgIH0sCiAgICBvbkltYWdlRXJyb3IgKGUpIHsKICAgICAgZS50YXJnZXQuc3JjID0gdGhpcy5BVkFUQVJfUExBQ0VIT0xERVIKICAgIH0KICB9Cn0K"},{"version":3,"sources":["LogoutButton.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LogoutButton.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <button\n      :class=\"{\n        'btn-logout': true,\n        'btn-logout--spinner': showSpinner\n      }\"\n      @click=\"onClick\">\n    <img\n      v-if=\"showSpinner\"\n      src=\"@/assets/loading.gif\"\n      class=\"inline-block w-auto object-contain object-center\"\n      style=\"height: 24px;\">\n    <span v-else>\n      Logout\n    </span>\n  </button>\n  </div>\n</template>\n\n<script>\nimport { UNAUTHENTICATED } from '../store/mutation-types'\nimport { mapMutations } from 'vuex'\n\nexport default {\n  data () {\n    return {\n      showSpinner: false\n    }\n  },\n  methods: {\n    ...mapMutations('auth', [\n      UNAUTHENTICATED\n    ]),\n    onClick () {\n      return this.signOut()\n    },\n    async signOut () {\n      const { value: confirm } = await this.$swal.fire({\n        text: 'Apa kamu yakin untuk logout sekarang?',\n        icon: 'question',\n        confirmButtonText: 'Ya, logout sekarang',\n        cancelButtonText: 'Tidak',\n        showConfirmButton: true,\n        showCancelButton: true,\n        confirmButtonColor: '#F56565',\n        cancelButtonColor: '#38A169'\n      })\n      if (!confirm) {\n        return\n      }\n      try {\n        this.showSpinner = true\n        await this.$store.dispatch('auth/logout')\n      } catch (e) {\n      } finally {\n        this.showSpinner = false\n        this[UNAUTHENTICATED]()\n      }\n    },\n    onImageError (e) {\n      e.target.src = this.AVATAR_PLACEHOLDER\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.btn-logout {\n  @apply block w-full px-4 py-2 rounded text-white;\n  @apply bg-red-500;\n\n  &:hover {\n    @apply bg-red-400;\n  }\n\n  &--spinner {\n    @apply bg-white text-transparent;\n  }\n\n  &:focus,\n  &:active {\n    @apply outline-none;\n  }\n}\n</style>\n"]}]}