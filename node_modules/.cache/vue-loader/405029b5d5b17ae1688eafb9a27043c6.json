{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/Form/Select.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/Form/Select.vue","mtime":1673491775263},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBfaXNOaWwgZnJvbSAnbG9kYXNoL2lzTmlsJwppbXBvcnQgeyBwcm9wcywgY29tcG9uZW50cyB9IGZyb20gJy4vaW5wdXQtbWl4aW4nCgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgLi4uY29tcG9uZW50cwogIH0sCiAgbW9kZWw6IHsKICAgIHByb3A6ICd2YWx1ZScsCiAgICBldmVudDogJ2NoYW5nZScKICB9LAogIHByb3BzOiB7CiAgICAuLi5wcm9wcywKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlciwgT2JqZWN0LCBBcnJheV0sCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBvcHRpb25zOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiAoKSA9PiBbXQogICAgfSwKICAgIHZhbHVlS2V5OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ3ZhbHVlJwogICAgfSwKICAgIGxhYmVsS2V5OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2xhYmVsJwogICAgfSwKICAgIHByb21wdDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdTZWxlY3Qgb25lIG9mIHRoZXNlIG9wdGlvbnMnCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgaGFzT2JqZWN0QXNPcHRpb25zICgpIHsKICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodGhpcy5vcHRpb25zKSAmJiB0aGlzLm9wdGlvbnMuZXZlcnkoeCA9PiB4ICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0JykKICAgIH0sCiAgICBzZWxlY3RlZE9wdGlvbkxhYmVsICgpIHsKICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5vcHRpb25zKSkgewogICAgICAgIGNvbnN0IHNlbGVjdGVkT3B0ID0gdGhpcy5vcHRpb25zLmZpbmQob3B0ID0+IHRoaXMuZ2V0T3B0aW9uVmFsdWUob3B0KSA9PT0gdGhpcy52YWx1ZSkKICAgICAgICByZXR1cm4gX2lzTmlsKHNlbGVjdGVkT3B0KSA/IHRoaXMuZ2V0T3B0aW9uTGFiZWwoc2VsZWN0ZWRPcHQpIDogbnVsbAogICAgICB9CiAgICAgIHJldHVybiBudWxsCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkNoYW5nZSAoZXZlbnQpIHsKICAgICAgY29uc3QgdiA9IGV2ZW50LnRhcmdldC52YWx1ZQogICAgICBpZiAodGhpcy5oYXNPYmplY3RBc09wdGlvbnMpIHsKICAgICAgICBjb25zdCBvcHQgPSB0aGlzLm9wdGlvbnMuZmluZCh4ID0+IHRoaXMuZ2V0T3B0aW9uVmFsdWUoeCkgPT09IHYpCiAgICAgICAgaWYgKG9wdCkgewogICAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgb3B0KQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCBldmVudC50YXJnZXQudmFsdWUpCiAgICAgIH0KICAgIH0sCiAgICBnZXRPcHRpb25MYWJlbCAob3B0aW9uKSB7CiAgICAgIGlmIChvcHRpb24gJiYgdHlwZW9mIG9wdGlvbiA9PT0gJ29iamVjdCcpIHsKICAgICAgICByZXR1cm4gb3B0aW9uW3RoaXMubGFiZWxLZXldCiAgICAgIH0KICAgICAgcmV0dXJuIG9wdGlvbgogICAgfSwKICAgIGdldE9wdGlvblZhbHVlIChvcHRpb24pIHsKICAgICAgaWYgKG9wdGlvbiAmJiB0eXBlb2Ygb3B0aW9uID09PSAnb2JqZWN0JykgewogICAgICAgIHJldHVybiBvcHRpb25bdGhpcy52YWx1ZUtleV0KICAgICAgfQogICAgICByZXR1cm4gb3B0aW9uCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Select.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Select.vue","sourceRoot":"src/components/Form","sourcesContent":["<template>\n  <ValidationProvider\n    :rules=\"rules\"\n    :custom-messages=\"customMessages\"\n    #default=\"{errors}\"\n    tag=\"div\"\n  >\n    <FormInputHeader\n      :label-for=\"name\"\n      :title=\"title\"\n      :subtitle=\"subtitle\"\n      :required=\"required\"\n    >\n      <template #title>\n        <slot name=\"title\"></slot>\n      </template>\n      <template #subtitle>\n        <slot name=\"subtitle\"></slot>\n      </template>\n    </FormInputHeader>\n    <template v-if=\"disabled\">\n      <input\n      type=\"text\"\n      :name=\"name\"\n      :value=\"selectedOptionLabel\"\n      :disabled=\"disabled\"\n      class=\"form-input__input\"\n    >\n    </template>\n    <template v-else>\n      <select\n        class=\"form-input__select\"\n        :value=\"value\"\n        @change=\"onChange\"\n      >\n        <option\n          selected\n          :value=\"null\"\n          disabled\n        >\n          {{prompt}}\n        </option>\n        <option\n          v-for=\"(opt, index) in options\"\n          :key=\"index\"\n          :selected=\"getOptionValue(opt) === value\"\n          :value=\"getOptionValue(opt)\"\n        >\n          {{getOptionLabel(opt)}}\n        </option>\n      </select>\n    </template>\n    <p\n      v-if=\"errors.length\"\n      class=\"form-input__error-hint\"\n    >\n      <slot name=\"error\">\n        {{errors[0]}}\n      </slot>\n    </p>\n  </ValidationProvider>\n</template>\n\n<script>\nimport _isNil from 'lodash/isNil'\nimport { props, components } from './input-mixin'\n\nexport default {\n  components: {\n    ...components\n  },\n  model: {\n    prop: 'value',\n    event: 'change'\n  },\n  props: {\n    ...props,\n    value: {\n      type: [String, Number, Object, Array],\n      default: null\n    },\n    options: {\n      type: Array,\n      default: () => []\n    },\n    valueKey: {\n      type: String,\n      default: 'value'\n    },\n    labelKey: {\n      type: String,\n      default: 'label'\n    },\n    prompt: {\n      type: String,\n      default: 'Select one of these options'\n    }\n  },\n  computed: {\n    hasObjectAsOptions () {\n      return Array.isArray(this.options) && this.options.every(x => x && typeof x === 'object')\n    },\n    selectedOptionLabel () {\n      if (Array.isArray(this.options)) {\n        const selectedOpt = this.options.find(opt => this.getOptionValue(opt) === this.value)\n        return _isNil(selectedOpt) ? this.getOptionLabel(selectedOpt) : null\n      }\n      return null\n    }\n  },\n  methods: {\n    onChange (event) {\n      const v = event.target.value\n      if (this.hasObjectAsOptions) {\n        const opt = this.options.find(x => this.getOptionValue(x) === v)\n        if (opt) {\n          this.$emit('change', opt)\n        }\n      } else {\n        this.$emit('change', event.target.value)\n      }\n    },\n    getOptionLabel (option) {\n      if (option && typeof option === 'object') {\n        return option[this.labelKey]\n      }\n      return option\n    },\n    getOptionValue (option) {\n      if (option && typeof option === 'object') {\n        return option[this.valueKey]\n      }\n      return option\n    }\n  }\n}\n</script>\n"]}]}