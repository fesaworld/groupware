{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/views/Checkins.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/views/Checkins.vue","mtime":1673491775273},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/css-loader/dist/cjs.js","mtime":1673491970692},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1673491936529},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/postcss-loader/src/index.js","mtime":1673491966590},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/sass-loader/dist/cjs.js","mtime":1673491959555},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoudmRhdGV0aW1lLmF0dGVuZGFuY2UtZGF0ZS1waWNrZXIgewogIEBhcHBseSBjdXJzb3ItcG9pbnRlciByZWxhdGl2ZSBmbGV4IGl0ZW1zLWNlbnRlcjsKCiAgJjo6YWZ0ZXIgewogICAgY29udGVudDogJ+KWvCc7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTAuMjVlbSk7CiAgICByaWdodDogMXJlbTsKICAgIEBhcHBseSBwb2ludGVyLWV2ZW50cy1ub25lCiAgICBhYnNvbHV0ZSBpbmxpbmUtYmxvY2sKICAgIHRleHQtZ3JheS03MDAKICAgIGxlYWRpbmctbm9uZTsKICB9Cn0KLmF0dGVuZGFuY2UtZGF0ZS1waWNrZXItaW5wdXQgewogIEBhcHBseSBjdXJzb3ItcG9pbnRlciB3LWZ1bGwgcC00IHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1zb2xpZCBib3JkZXItZ3JheS0zMDAgbWItMjsKfQo="},{"version":3,"sources":["Checkins.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2GA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Checkins.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"checkins\">\n    <div class=\"container mx-auto\">\n      <template v-if=\"!user\">\n        <div class=\"w-full pt-4\">\n          <div class=\"text-center\">\n            <i aria-hidden=\"true\" class=\"fas fa-4x fa-check-circle mb-4 text-gray-600\" />\n            <p class=\"text-sm\">Silahkan login untuk melakukan checkin.</p>\n          </div>\n\n          <div class=\"mx-2 my-2\">\n            <login-button />\n          </div>\n        </div>\n      </template>\n      <template v-else>\n        <div>\n          <DateTime\n            :value=\"selectedDate\"\n            :min-datetime=\"minDateTime\"\n            :max-datetime=\"maxDateTime\"\n            value-zone=\"UTC+7\"\n            type=\"date\"\n            format=\"DDDD\"\n            class=\"attendance-date-picker\"\n            input-class=\"attendance-date-picker-input\"\n            @input=\"changeDate\">\n          </DateTime>\n          <checkins-list class=\"mt-2\" :date=\"selectedDate\" />\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Datetime as DateTime } from 'vue-datetime'\nimport { mapGetters } from 'vuex'\n\nimport LoginButton from '@/components/LoginButton'\nimport CheckinsList from '@/components/CheckinsList'\nimport { formatDateLong } from '@/lib/date'\nimport { format, subMonths } from 'date-fns'\n\nexport default {\n  components: {\n    DateTime,\n    LoginButton,\n    CheckinsList\n  },\n\n  metaInfo: {\n    title: 'Checkins'\n  },\n\n  data () {\n    return {\n      minDateTime: subMonths(new Date(), 1).toISOString(),\n      maxDateTime: new Date().toISOString(),\n      selectedDate: null\n    }\n  },\n\n  computed: {\n    ...mapGetters({\n      user: 'auth/user'\n    }),\n    formattedSelectedDate () {\n      if (this.selectedDate) {\n        return formatDateLong(new Date(this.selectedDate))\n      }\n      return ''\n    }\n  },\n\n  watch: {\n    '$route.query': {\n      immediate: true,\n      handler ({ date } = {}) {\n        this.selectedDate = date || format(new Date(), 'yyyy-MM-dd')\n        this.fetchItems(this.selectedDate)\n      }\n    }\n  },\n\n  methods: {\n    format,\n    formatDateLong,\n    changeDate (date) {\n      const mDate = format(new Date(date), 'yyyy-MM-dd')\n      if (mDate !== this.selectedDate) {\n        this.$router.push({\n          query: {\n            date: mDate\n          }\n        })\n      }\n    },\n\n    async fetchItems (date) {\n      await this.$store.dispatch('checkins-list/fetchItems', { date: date })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.vdatetime.attendance-date-picker {\n  @apply cursor-pointer relative flex items-center;\n\n  &::after {\n    content: 'â–¼';\n    transform: translateY(-0.25em);\n    right: 1rem;\n    @apply pointer-events-none\n    absolute inline-block\n    text-gray-700\n    leading-none;\n  }\n}\n.attendance-date-picker-input {\n  @apply cursor-pointer w-full p-4 rounded-md border border-solid border-gray-300 mb-2;\n}\n</style>\n"]}]}