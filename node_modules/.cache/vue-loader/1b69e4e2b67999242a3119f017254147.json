{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/components/Form/EvidenceImageInput.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/components/Form/EvidenceImageInput.vue","mtime":1673491775262},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHByb3BzLCBjb21wb25lbnRzIH0gZnJvbSAnLi9pbnB1dC1taXhpbicKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICAuLi5jb21wb25lbnRzLAogICAgRXZpZGVuY2VJbWFnZVByZXZpZXc6ICgpID0+IGltcG9ydCgnLi9FdmlkZW5jZUltYWdlUHJldmlldycpLAogICAgRmlsZVNlbGVjdG9yOiAoKSA9PiBpbXBvcnQoJy4vRmlsZVNlbGVjdG9yJykKICB9LAogIG1vZGVsOiB7CiAgICBwcm9wOiAndmFsdWUnLAogICAgZXZlbnQ6ICdpbnB1dCcKICB9LAogIHByb3BzOiB7CiAgICAuLi5wcm9wcywKICAgIHBhdGg6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgdXJsOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogbnVsbAogICAgfQogIH0sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBtRmlsZTogbnVsbCwKICAgICAgbVVybDogbnVsbCwKICAgICAgbUJsb2I6IG51bGwKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc1NlbGVjdGVkRmlsZUNoYW5nZWQgKCkgewogICAgICByZXR1cm4gdGhpcy5tVXJsICYmIHRoaXMubVVybCAhPT0gdGhpcy51cmwKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICB1cmw6IHsKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICBoYW5kbGVyICh2KSB7CiAgICAgICAgdGhpcy5tVXJsID0gdgogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBvblJlcGxhY2VGaWxlICgpIHsKICAgICAgY29uc3Qgc2VsZWN0b3IgPSB0aGlzLiRyZWZzLmZpbGVTZWxlY3RvcgogICAgICBpZiAoIXNlbGVjdG9yKSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgc2VsZWN0b3Iub25DaG9vc2VGaWxlKCkKICAgIH0sCiAgICBvblByZXZpZXcgKCkgewogICAgICB3aW5kb3cub3Blbih0aGlzLm1VcmwsICdfYmxhbmsnKQogICAgfSwKICAgIG9uU2VsZWN0ZWRGaWxlQ2hhbmdlICh1cmwsIGZpbGUpIHsKICAgICAgdGhpcy5tVXJsID0gdXJsCiAgICAgIHRoaXMubUZpbGUgPSBmaWxlCiAgICAgIHRoaXMuZW1pdENoYW5nZXMoKQogICAgfSwKICAgIGdldFNlbGVjdGVkRmlsZSAoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzU2VsZWN0ZWRGaWxlQ2hhbmdlZCA/IHRoaXMubUZpbGUgOiBudWxsCiAgICB9LAogICAgZW1pdENoYW5nZXMgKCkgewogICAgICB0aGlzLiRlbWl0KCdjaGFuZ2U6dXJsJywgdGhpcy5tVXJsKQogICAgICB0aGlzLiRlbWl0KCdjaGFuZ2U6ZmlsZScsIHRoaXMubUZpbGUpCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["EvidenceImageInput.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EvidenceImageInput.vue","sourceRoot":"src/components/Form","sourcesContent":["<template>\n  <div>\n    <FormInputHeader\n      :label-for=\"name\"\n      :title=\"title\"\n      :subtitle=\"subtitle\"\n      :required=\"required\"\n    >\n      <template #title>\n        <slot name=\"title\"></slot>\n      </template>\n      <template #subtitle>\n        <slot name=\"subtitle\"></slot>\n      </template>\n    </FormInputHeader>\n    <template v-if=\"mUrl\">\n      <EvidenceImagePreview\n        :url=\"mUrl\"\n        :disabled=\"disabled\"\n        @replace=\"onReplaceFile\"\n      />\n    </template>\n    <FileSelector\n      ref=\"fileSelector\"\n      v-show=\"!mUrl\"\n      :url=\"mUrl\"\n      accept=\"image/*\"\n      v-bind=\"$props\"\n      @preview=\"onPreview\"\n      @change=\"onSelectedFileChange\"\n    >\n      <template #choose-file-button-text>\n        Upload\n      </template>\n    </FileSelector>\n  </div>\n</template>\n\n<script>\nimport { props, components } from './input-mixin'\n\nexport default {\n  components: {\n    ...components,\n    EvidenceImagePreview: () => import('./EvidenceImagePreview'),\n    FileSelector: () => import('./FileSelector')\n  },\n  model: {\n    prop: 'value',\n    event: 'input'\n  },\n  props: {\n    ...props,\n    path: {\n      type: String,\n      default: null\n    },\n    url: {\n      type: String,\n      default: null\n    }\n  },\n  data () {\n    return {\n      mFile: null,\n      mUrl: null,\n      mBlob: null\n    }\n  },\n  computed: {\n    isSelectedFileChanged () {\n      return this.mUrl && this.mUrl !== this.url\n    }\n  },\n  watch: {\n    url: {\n      immediate: true,\n      handler (v) {\n        this.mUrl = v\n      }\n    }\n  },\n  methods: {\n    onReplaceFile () {\n      const selector = this.$refs.fileSelector\n      if (!selector) {\n        return\n      }\n      selector.onChooseFile()\n    },\n    onPreview () {\n      window.open(this.mUrl, '_blank')\n    },\n    onSelectedFileChange (url, file) {\n      this.mUrl = url\n      this.mFile = file\n      this.emitChanges()\n    },\n    getSelectedFile () {\n      return this.isSelectedFileChanged ? this.mFile : null\n    },\n    emitChanges () {\n      this.$emit('change:url', this.mUrl)\n      this.$emit('change:file', this.mFile)\n    }\n  }\n}\n</script>\n"]}]}