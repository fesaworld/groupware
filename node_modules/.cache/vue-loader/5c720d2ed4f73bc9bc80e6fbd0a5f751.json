{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/components/CheckinsList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/components/CheckinsList.vue","mtime":1673491775261},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IENvbnRlbnRMb2FkZXIgfSBmcm9tICd2dWUtY29udGVudC1sb2FkZXInCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JwppbXBvcnQgeyBmb3JtYXRUaW1lIH0gZnJvbSAnQC9saWIvZGF0ZScKaW1wb3J0IHsgaXNCZWZvcmUsIGlzQWZ0ZXIsIHNldCB9IGZyb20gJ2RhdGUtZm5zJwppbXBvcnQgeyBBVFRFTkRBTkNFIH0gZnJvbSAnLi4vbGliL2NvbnN0YW50cycKaW1wb3J0IHsgbW9vZHMgfSBmcm9tICcuLi9jb21wb25lbnRzL1JlYWN0aW9ucycKCmNvbnN0IG1vb2RWYWx1ZXMgPSBtb29kcy5tYXAoKG0pID0+IG0udmFsdWUpCgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQ29udGVudExvYWRlcgogIH0sCgogIGNvbXB1dGVkOiBtYXBHZXR0ZXJzKHsKICAgIGxvYWRpbmc6ICdjaGVja2lucy1saXN0L2xvYWRpbmcnLAogICAgaXRlbXM6ICdjaGVja2lucy1saXN0L2l0ZW1zJwogIH0pLAoKICBtZXRob2RzOiB7CiAgICBmb3JtYXRUaW1lLAoKICAgIGdldFN0YXR1c0xhYmVsIChhdHRlbmRhbmNlVHlwZSwgbG9jYXRpb25UeXBlKSB7CiAgICAgIGlmIChhdHRlbmRhbmNlVHlwZSA9PT0gQVRURU5EQU5DRS5QUkVTRU5UKSB7CiAgICAgICAgY29uc3QgbGFiZWwgPSAnSGFkaXInCiAgICAgICAgcmV0dXJuIGxvY2F0aW9uVHlwZQogICAgICAgICAgPyBgJHtsYWJlbH0gLSAke2xvY2F0aW9uVHlwZX1gCiAgICAgICAgICA6IGxhYmVsCiAgICAgIH0KCiAgICAgIGlmIChhdHRlbmRhbmNlVHlwZSA9PT0gQVRURU5EQU5DRS5MRUFWRSkgewogICAgICAgIHJldHVybiAnSXppbicKICAgICAgfQoKICAgICAgaWYgKGF0dGVuZGFuY2VUeXBlID09PSBBVFRFTkRBTkNFLlNJQ0tfTEVBVkUpIHsKICAgICAgICByZXR1cm4gJ1Nha2l0JwogICAgICB9CgogICAgICBpZiAoYXR0ZW5kYW5jZVR5cGUgPT09IEFUVEVOREFOQ0UuUEFJRF9MRUFWRSkgewogICAgICAgIHJldHVybiAnQ3V0aScKICAgICAgfQoKICAgICAgcmV0dXJuICctJwogICAgfSwKCiAgICBnZXRTdGF0dXNDb2xvciAodmFsdWUpIHsKICAgICAgaWYgKHZhbHVlID09PSBBVFRFTkRBTkNFLlBSRVNFTlQpIHsKICAgICAgICByZXR1cm4gJ2JnLWdyZWVuLTUwMCcKICAgICAgfQoKICAgICAgaWYgKHZhbHVlID09PSBBVFRFTkRBTkNFLkxFQVZFKSB7CiAgICAgICAgcmV0dXJuICdiZy15ZWxsb3ctNTAwJwogICAgICB9CgogICAgICBpZiAodmFsdWUgPT09IEFUVEVOREFOQ0UuT1RIRVIpIHsKICAgICAgICByZXR1cm4gJ2JnLXB1cnBsZS01MDAnCiAgICAgIH0KCiAgICAgIHJldHVybiAnYmctZ3JheS04MDAnCiAgICB9LAoKICAgIGdldFJvd0NsYXNzIChpdGVtKSB7CiAgICAgIGlmIChpdGVtWydtZXNzYWdlJ10gIT09IEFUVEVOREFOQ0UuUFJFU0VOVCkgewogICAgICAgIHJldHVybiAnYmctd2hpdGUnCiAgICAgIH0KCiAgICAgIGlmIChpdGVtWydqYWJhdGFuJ10gPT09ICdNb25pdG9yaW5nIE9mZmljZXInKSB7CiAgICAgICAgcmV0dXJuICdiZy13aGl0ZScKICAgICAgfQoKICAgICAgY29uc3QgY2hlY2tpbkRhdGVUaW1lID0gbmV3IERhdGUoaXRlbVsnc3RhcnREYXRlJ10pCiAgICAgIGNvbnN0IHllbGxvd0xpbmUgPSBzZXQoY2hlY2tpbkRhdGVUaW1lLCB7IGhvdXJzOiA3LCBtaW51dGVzOiAzMSwgc2Vjb25kczogMCB9KQogICAgICBjb25zdCByZWRMaW5lID0gc2V0KGNoZWNraW5EYXRlVGltZSwgeyBob3VyczogOSwgbWludXRlczogMCwgc2Vjb25kczogMCB9KQoKICAgICAgaWYgKGlzQWZ0ZXIoY2hlY2tpbkRhdGVUaW1lLCByZWRMaW5lKSkgewogICAgICAgIHJldHVybiAnYmctcmVkLTIwMCcKICAgICAgfQoKICAgICAgaWYgKGlzQWZ0ZXIoY2hlY2tpbkRhdGVUaW1lLCB5ZWxsb3dMaW5lKSkgewogICAgICAgIHJldHVybiAnYmcteWVsbG93LTIwMCcKICAgICAgfQoKICAgICAgaWYgKGlzQmVmb3JlKGNoZWNraW5EYXRlVGltZSwgeWVsbG93TGluZSkpIHsKICAgICAgICByZXR1cm4gJ2JnLWdyZWVuLTIwMCcKICAgICAgfQoKICAgICAgcmV0dXJuICdiZy13aGl0ZScKICAgIH0sCiAgICBoYXNEaXZpc2lvbkFuZFJvbGUgKGl0ZW0pIHsKICAgICAgcmV0dXJuICEhaXRlbS5kaXZpc2kgJiYgISFpdGVtLmphYmF0YW4KICAgIH0sCiAgICBpc1ByZXNlbnQgKGl0ZW0pIHsKICAgICAgcmV0dXJuIGl0ZW0ubWVzc2FnZSA9PT0gQVRURU5EQU5DRS5QUkVTRU5UCiAgICB9LAogICAgaGFzQ2hlY2tvdXQgKGl0ZW0pIHsKICAgICAgcmV0dXJuIGl0ZW0uZW5kRGF0ZSAhPT0gbnVsbAogICAgfSwKICAgIGdldENoZWNrSW5EYXRlIChpdGVtKSB7CiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShpdGVtLnN0YXJ0RGF0ZSkKICAgICAgcmV0dXJuIGZvcm1hdFRpbWUoZGF0ZSkKICAgIH0sCiAgICBnZXRDaGVja091dERhdGUgKGl0ZW0pIHsKICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGl0ZW0uZW5kRGF0ZSkKICAgICAgcmV0dXJuIGZvcm1hdFRpbWUoZGF0ZSkKICAgIH0sCiAgICBoYXNWYWxpZE1vb2RWYWx1ZSAobW9vZFZhbHVlKSB7CiAgICAgIHJldHVybiBtb29kVmFsdWVzLmluY2x1ZGVzKG1vb2RWYWx1ZSkKICAgIH0sCiAgICBnZXRNb29kQ29tcG9uZW50IChtb29kVmFsdWUpIHsKICAgICAgY29uc3QgbWF0Y2hlZCA9IG1vb2RzLmZpbmQoKG0pID0+IG0udmFsdWUgPT09IG1vb2RWYWx1ZSkKICAgICAgcmV0dXJuIG1hdGNoZWQgPyBtYXRjaGVkLmNvbXBvbmVudCA6IG51bGwKICAgIH0KICB9Cn0K"},{"version":3,"sources":["CheckinsList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiFA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CheckinsList.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"events-list\">\n    <template v-if=\"!loading\">\n      <div class=\"flex flex-wrap\">\n        <template v-if=\"items.length > 0\">\n          <div\n            v-for=\"item in items\" :key=\"item.id\"\n            :class=\"['w-full bg-white shadow p-4 md:px-6', getRowClass(item)]\">\n            <div class=\"flex items-center\">\n              <div class=\"flex-none w-12 h-12 mr-4 md:mr-6\">\n                <component\n                  v-if=\"hasValidMoodValue(item.mood)\"\n                  :is=\"getMoodComponent(item.mood)\"\n                  :css-filter=\"false\" />\n                <i\n                  v-else\n                  aria-hidden=\"true\"\n                  class=\"block w-full h-full rounded-full bg-white opacity-50\" />\n              </div>\n              <div class=\"flex-auto text-sm\">\n                <p class=\"text-gray-900 font-bold\">\n                    {{ item['fullname'] }}\n                </p>\n                <p\n                  v-if=\"hasDivisionAndRole(item)\"\n                  class=\"text-gray-900 text-opacity-50 text-sm\">\n                  {{ item['divisi'] }} - {{ item['jabatan'] }}\n                </p>\n                <p\n                  v-if=\"item['message']\"\n                  class=\"my-1\">\n                  <span\n                    :class=\"['inline-block rounded-lg px-3 py-1 text-xs font-semibold text-white', getStatusColor(item['message'])]\">\n                    {{ getStatusLabel(item['message'], item['location']) }}\n                    </span>\n                  </p>\n                <p\n                  v-if=\"item['note']\"\n                  class=\"text-gray-900\">\n                  {{ item['note'] }}\n                </p>\n                <p\n                  v-if=\"isPresent(item)\"\n                  class=\"text-gray-800\">\n                  <template v-if=\"hasCheckout(item)\">\n                    {{ getCheckInDate(item) }} - {{ getCheckOutDate(item) }}\n                  </template>\n                  <template v-else>\n                    {{ getCheckInDate(item) }}\n                  </template>\n                </p>\n              </div>\n            </div>\n          </div>\n        </template>\n        <template v-else>\n          <div class=\"w-full shadow bg-white mb-2 p-4\">\n            <div class=\"text-center\">\n              <i aria-hidden=\"true\" class=\"fas fa-4x fa-sad-tear mb-4 text-gray-600\" />\n              <p class=\"text-sm\">Belum ada yang checkin. Kantor sepi.</p>\n            </div>\n          </div>\n        </template>\n      </div>\n    </template>\n    <template v-else>\n      <div v-for=\"n in 5\" :key=\"n\" class=\"bg-white shadow p-4\">\n        <content-loader\n          :speed=\"2\"\n          primaryColor=\"#f3f3f3\"\n          secondaryColor=\"#ecebeb\"\n        >\n          <rect x=\"0\" y=\"15\" rx=\"0\" ry=\"0\" width=\"100%\" height=\"15\" />\n          <rect x=\"0\" y=\"45\" rx=\"0\" ry=\"0\" width=\"100%\" height=\"75\" />\n        </content-loader>\n      </div>\n    </template>\n  </div>\n</template>\n\n<script>\nimport { ContentLoader } from 'vue-content-loader'\nimport { mapGetters } from 'vuex'\nimport { formatTime } from '@/lib/date'\nimport { isBefore, isAfter, set } from 'date-fns'\nimport { ATTENDANCE } from '../lib/constants'\nimport { moods } from '../components/Reactions'\n\nconst moodValues = moods.map((m) => m.value)\n\nexport default {\n  components: {\n    ContentLoader\n  },\n\n  computed: mapGetters({\n    loading: 'checkins-list/loading',\n    items: 'checkins-list/items'\n  }),\n\n  methods: {\n    formatTime,\n\n    getStatusLabel (attendanceType, locationType) {\n      if (attendanceType === ATTENDANCE.PRESENT) {\n        const label = 'Hadir'\n        return locationType\n          ? `${label} - ${locationType}`\n          : label\n      }\n\n      if (attendanceType === ATTENDANCE.LEAVE) {\n        return 'Izin'\n      }\n\n      if (attendanceType === ATTENDANCE.SICK_LEAVE) {\n        return 'Sakit'\n      }\n\n      if (attendanceType === ATTENDANCE.PAID_LEAVE) {\n        return 'Cuti'\n      }\n\n      return '-'\n    },\n\n    getStatusColor (value) {\n      if (value === ATTENDANCE.PRESENT) {\n        return 'bg-green-500'\n      }\n\n      if (value === ATTENDANCE.LEAVE) {\n        return 'bg-yellow-500'\n      }\n\n      if (value === ATTENDANCE.OTHER) {\n        return 'bg-purple-500'\n      }\n\n      return 'bg-gray-800'\n    },\n\n    getRowClass (item) {\n      if (item['message'] !== ATTENDANCE.PRESENT) {\n        return 'bg-white'\n      }\n\n      if (item['jabatan'] === 'Monitoring Officer') {\n        return 'bg-white'\n      }\n\n      const checkinDateTime = new Date(item['startDate'])\n      const yellowLine = set(checkinDateTime, { hours: 7, minutes: 31, seconds: 0 })\n      const redLine = set(checkinDateTime, { hours: 9, minutes: 0, seconds: 0 })\n\n      if (isAfter(checkinDateTime, redLine)) {\n        return 'bg-red-200'\n      }\n\n      if (isAfter(checkinDateTime, yellowLine)) {\n        return 'bg-yellow-200'\n      }\n\n      if (isBefore(checkinDateTime, yellowLine)) {\n        return 'bg-green-200'\n      }\n\n      return 'bg-white'\n    },\n    hasDivisionAndRole (item) {\n      return !!item.divisi && !!item.jabatan\n    },\n    isPresent (item) {\n      return item.message === ATTENDANCE.PRESENT\n    },\n    hasCheckout (item) {\n      return item.endDate !== null\n    },\n    getCheckInDate (item) {\n      const date = new Date(item.startDate)\n      return formatTime(date)\n    },\n    getCheckOutDate (item) {\n      const date = new Date(item.endDate)\n      return formatTime(date)\n    },\n    hasValidMoodValue (moodValue) {\n      return moodValues.includes(moodValue)\n    },\n    getMoodComponent (moodValue) {\n      const matched = moods.find((m) => m.value === moodValue)\n      return matched ? matched.component : null\n    }\n  }\n}\n</script>\n"]}]}