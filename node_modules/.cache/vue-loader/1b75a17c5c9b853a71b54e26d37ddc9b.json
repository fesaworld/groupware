{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/LoginUsernamePassword.vue?vue&type=style&index=0&id=be649bcc&lang=scss&scoped=true&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/LoginUsernamePassword.vue","mtime":1673491775265},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/css-loader/dist/cjs.js","mtime":1673491970692},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1673491936529},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/postcss-loader/src/index.js","mtime":1673491966590},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/sass-loader/dist/cjs.js","mtime":1673491959555},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5idG4tbG9naW4tdW5hbWUtcHdkIHsKICBAYXBwbHkgYXBwZWFyYW5jZS1ub25lCiAgdy1mdWxsIHB4LTggcHktMgogIGJvcmRlciBib3JkZXItc29saWQgYm9yZGVyLWdyYXktMzAwCiAgcm91bmRlZAogIHRleHQtY2VudGVyCiAgc2hhZG93OwoKICAmLmlzLWVycm9yLAogICYuaXMtZGlzYWJsZWQgewogICAgQGFwcGx5IHRleHQtd2hpdGUgY3Vyc29yLW5vdC1hbGxvd2VkIGJnLWdyYXktNDAwOwogIH0KCiAgJi5pcy1wZW5kaW5nIHsKICAgIEBhcHBseSBiZy13aGl0ZSB0ZXh0LXRyYW5zcGFyZW50OwogIH0KCiAgJjpub3QoLmlzLWVycm9yKTpub3QoLmlzLWRpc2FibGVkKTpub3QoLmlzLXBlbmRpbmcpIHsKICAgIEBhcHBseSB0ZXh0LXdoaXRlIGJnLWJyYW5kLWdyZWVuLWRhcmtlcjsKCiAgICAmOmhvdmVyIHsKICAgICAgQGFwcGx5IGJnLWJyYW5kLWdyZWVuLWxpZ2h0OwogICAgfQogIH0KCiAgJjpmb2N1cywKICAmOmFjdGl2ZSB7CiAgICBAYXBwbHkgb3V0bGluZS1ub25lOwogIH0KfQo="},{"version":3,"sources":["LoginUsernamePassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsHA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"LoginUsernamePassword.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <ValidationObserver\n    tag=\"div\"\n    :slim=\"false\"\n    #default=\"{ errors, handleSubmit }\"\n  >\n    <form @submit.prevent=\"handleSubmit(onSubmit)\">\n      <FormInput\n        name=\"username\"\n        title=\"Username\"\n        type=\"text\"\n        v-model=\"payload.username\"\n        rules=\"required\"\n        :custom-messages=\"{\n          required: 'Username harus diisi'\n        }\"\n      >\n        <template #title>\n          <span class=\"text-sm text-gray-800 dark:text-white\">\n            Username\n          </span>\n        </template>\n      </FormInput>\n      <br/>\n      <div class=\"relative\">\n        <FormInput\n          name=\"password\"\n          title=\"Password\"\n          :type=\"showPassword ? 'text' : 'password'\"\n          v-model=\"payload.password\"\n          rules=\"required\"\n          :custom-messages=\"{\n            required: 'Password harus diisi'\n          }\"\n        >\n          <template #title>\n            <span class=\"text-sm text-gray-800 dark:text-white\">\n              Password\n            </span>\n          </template>\n        </FormInput>\n      </div>\n      <br />\n      <div class=\"flex justify-end\">\n        <button\n          type=\"submit\"\n          :class=\"{\n            'btn-login-uname-pwd': true,\n            'is-error': hasError(errors),\n            'is-disabled': isPayloadEmpty,\n            'is-pending': isPending\n          }\"\n        >\n          <img\n            v-if=\"isPending\"\n            src=\"@/assets/loading.gif\"\n            class=\"inline-block w-auto object-contain object-center\"\n            style=\"height: 24px;\">\n          <span v-else>\n            Login\n          </span>\n        </button>\n      </div>\n    </form>\n  </ValidationObserver>\n</template>\n\n<script>\nimport FormInput from './Form/Input'\nexport default {\n  components: {\n    FormInput\n  },\n  data () {\n    return {\n      isPending: false,\n      showPassword: false,\n      payload: {\n        username: null,\n        password: null\n      }\n    }\n  },\n  computed: {\n    isPayloadEmpty () {\n      return Object.values(this.payload).some(x => !x)\n    }\n  },\n  methods: {\n    hasError (errors) {\n      if (typeof errors === 'object' && errors) {\n        return Object.values(errors).some(arr => Array.isArray(arr) && arr.length)\n      }\n    },\n    onSubmit () {\n      this.isPending = true\n      this.$store.dispatch('auth/loginUsingUsernameAndPassword', this.payload)\n        .then(() => {\n          this.$emit('login:success')\n        })\n        .catch((err) => {\n          let msg\n          if ('response' in err) {\n            msg = `${err.response.status}: ${err.response.data.detail}`\n          } else if (err instanceof Error) {\n            msg = err.message\n          }\n          this.$emit('login:error', msg)\n        })\n        .finally(() => {\n          this.isPending = false\n        })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.btn-login-uname-pwd {\n  @apply appearance-none\n  w-full px-8 py-2\n  border border-solid border-gray-300\n  rounded\n  text-center\n  shadow;\n\n  &.is-error,\n  &.is-disabled {\n    @apply text-white cursor-not-allowed bg-gray-400;\n  }\n\n  &.is-pending {\n    @apply bg-white text-transparent;\n  }\n\n  &:not(.is-error):not(.is-disabled):not(.is-pending) {\n    @apply text-white bg-brand-green-darker;\n\n    &:hover {\n      @apply bg-brand-green-light;\n    }\n  }\n\n  &:focus,\n  &:active {\n    @apply outline-none;\n  }\n}\n</style>\n"]}]}