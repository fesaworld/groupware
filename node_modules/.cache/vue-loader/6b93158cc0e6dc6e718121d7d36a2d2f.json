{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/views/Checkins.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/views/Checkins.vue","mtime":1673491775273},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IERhdGV0aW1lIGFzIERhdGVUaW1lIH0gZnJvbSAndnVlLWRhdGV0aW1lJwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCcKCmltcG9ydCBMb2dpbkJ1dHRvbiBmcm9tICdAL2NvbXBvbmVudHMvTG9naW5CdXR0b24nCmltcG9ydCBDaGVja2luc0xpc3QgZnJvbSAnQC9jb21wb25lbnRzL0NoZWNraW5zTGlzdCcKaW1wb3J0IHsgZm9ybWF0RGF0ZUxvbmcgfSBmcm9tICdAL2xpYi9kYXRlJwppbXBvcnQgeyBmb3JtYXQsIHN1Yk1vbnRocyB9IGZyb20gJ2RhdGUtZm5zJwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIERhdGVUaW1lLAogICAgTG9naW5CdXR0b24sCiAgICBDaGVja2luc0xpc3QKICB9LAoKICBtZXRhSW5mbzogewogICAgdGl0bGU6ICdDaGVja2lucycKICB9LAoKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIG1pbkRhdGVUaW1lOiBzdWJNb250aHMobmV3IERhdGUoKSwgMSkudG9JU09TdHJpbmcoKSwKICAgICAgbWF4RGF0ZVRpbWU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSwKICAgICAgc2VsZWN0ZWREYXRlOiBudWxsCiAgICB9CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoewogICAgICB1c2VyOiAnYXV0aC91c2VyJwogICAgfSksCiAgICBmb3JtYXR0ZWRTZWxlY3RlZERhdGUgKCkgewogICAgICBpZiAodGhpcy5zZWxlY3RlZERhdGUpIHsKICAgICAgICByZXR1cm4gZm9ybWF0RGF0ZUxvbmcobmV3IERhdGUodGhpcy5zZWxlY3RlZERhdGUpKQogICAgICB9CiAgICAgIHJldHVybiAnJwogICAgfQogIH0sCgogIHdhdGNoOiB7CiAgICAnJHJvdXRlLnF1ZXJ5JzogewogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgIGhhbmRsZXIgKHsgZGF0ZSB9ID0ge30pIHsKICAgICAgICB0aGlzLnNlbGVjdGVkRGF0ZSA9IGRhdGUgfHwgZm9ybWF0KG5ldyBEYXRlKCksICd5eXl5LU1NLWRkJykKICAgICAgICB0aGlzLmZldGNoSXRlbXModGhpcy5zZWxlY3RlZERhdGUpCiAgICAgIH0KICAgIH0KICB9LAoKICBtZXRob2RzOiB7CiAgICBmb3JtYXQsCiAgICBmb3JtYXREYXRlTG9uZywKICAgIGNoYW5nZURhdGUgKGRhdGUpIHsKICAgICAgY29uc3QgbURhdGUgPSBmb3JtYXQobmV3IERhdGUoZGF0ZSksICd5eXl5LU1NLWRkJykKICAgICAgaWYgKG1EYXRlICE9PSB0aGlzLnNlbGVjdGVkRGF0ZSkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgIGRhdGU6IG1EYXRlCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfQogICAgfSwKCiAgICBhc3luYyBmZXRjaEl0ZW1zIChkYXRlKSB7CiAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdjaGVja2lucy1saXN0L2ZldGNoSXRlbXMnLCB7IGRhdGU6IGRhdGUgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["Checkins.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Checkins.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"checkins\">\n    <div class=\"container mx-auto\">\n      <template v-if=\"!user\">\n        <div class=\"w-full pt-4\">\n          <div class=\"text-center\">\n            <i aria-hidden=\"true\" class=\"fas fa-4x fa-check-circle mb-4 text-gray-600\" />\n            <p class=\"text-sm\">Silahkan login untuk melakukan checkin.</p>\n          </div>\n\n          <div class=\"mx-2 my-2\">\n            <login-button />\n          </div>\n        </div>\n      </template>\n      <template v-else>\n        <div>\n          <DateTime\n            :value=\"selectedDate\"\n            :min-datetime=\"minDateTime\"\n            :max-datetime=\"maxDateTime\"\n            value-zone=\"UTC+7\"\n            type=\"date\"\n            format=\"DDDD\"\n            class=\"attendance-date-picker\"\n            input-class=\"attendance-date-picker-input\"\n            @input=\"changeDate\">\n          </DateTime>\n          <checkins-list class=\"mt-2\" :date=\"selectedDate\" />\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Datetime as DateTime } from 'vue-datetime'\nimport { mapGetters } from 'vuex'\n\nimport LoginButton from '@/components/LoginButton'\nimport CheckinsList from '@/components/CheckinsList'\nimport { formatDateLong } from '@/lib/date'\nimport { format, subMonths } from 'date-fns'\n\nexport default {\n  components: {\n    DateTime,\n    LoginButton,\n    CheckinsList\n  },\n\n  metaInfo: {\n    title: 'Checkins'\n  },\n\n  data () {\n    return {\n      minDateTime: subMonths(new Date(), 1).toISOString(),\n      maxDateTime: new Date().toISOString(),\n      selectedDate: null\n    }\n  },\n\n  computed: {\n    ...mapGetters({\n      user: 'auth/user'\n    }),\n    formattedSelectedDate () {\n      if (this.selectedDate) {\n        return formatDateLong(new Date(this.selectedDate))\n      }\n      return ''\n    }\n  },\n\n  watch: {\n    '$route.query': {\n      immediate: true,\n      handler ({ date } = {}) {\n        this.selectedDate = date || format(new Date(), 'yyyy-MM-dd')\n        this.fetchItems(this.selectedDate)\n      }\n    }\n  },\n\n  methods: {\n    format,\n    formatDateLong,\n    changeDate (date) {\n      const mDate = format(new Date(date), 'yyyy-MM-dd')\n      if (mDate !== this.selectedDate) {\n        this.$router.push({\n          query: {\n            date: mDate\n          }\n        })\n      }\n    },\n\n    async fetchItems (date) {\n      await this.$store.dispatch('checkins-list/fetchItems', { date: date })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.vdatetime.attendance-date-picker {\n  @apply cursor-pointer relative flex items-center;\n\n  &::after {\n    content: 'â–¼';\n    transform: translateY(-0.25em);\n    right: 1rem;\n    @apply pointer-events-none\n    absolute inline-block\n    text-gray-700\n    leading-none;\n  }\n}\n.attendance-date-picker-input {\n  @apply cursor-pointer w-full p-4 rounded-md border border-solid border-gray-300 mb-2;\n}\n</style>\n"]}]}