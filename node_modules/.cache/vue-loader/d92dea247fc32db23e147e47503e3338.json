{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/components/Dashboard/LogbookHeatmaps/LogbookHeatmaps.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/components/Dashboard/LogbookHeatmaps/LogbookHeatmaps.vue","mtime":1673745247954},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBzdWJNb250aHMgZnJvbSAnZGF0ZS1mbnMvc3ViTW9udGhzJwppbXBvcnQgTW9udGhseUhlYXRtYXAgZnJvbSAnLi9Nb250aGx5SGVhdG1hcCcKaW1wb3J0IHsgbWFwU3RhdGUsIG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIE1vbnRobHlIZWF0bWFwCiAgfSwKICBwcm92aWRlICgpIHsKICAgIHJldHVybiB7CiAgICAgIGhlYXRtYXBDb2xvckNvbmZpZzogdGhpcy5jb2xvckNvbmZpZwogICAgfQogIH0sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBoYXNFcnJvcjogZmFsc2UsCiAgICAgIG51bU9mTW9udGhzOiAyLAogICAgICBjb2xvckNvbmZpZzogWwogICAgICAgIFswLCAnI0VDRUZGMSddLAogICAgICAgIFsxLCAnI0M4RTZDOSddLAogICAgICAgIFszLCAnIzgxQzc4NCddLAogICAgICAgIFs1LCAnIzRDQUY1MCddLAogICAgICAgIFs3LCAnIzM4OEUzQyddLAogICAgICAgIFs5LCAnIzFCNUUyMCddLAogICAgICAgIFsxMSwgJyMwMDRENDAnXQogICAgICBdCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoJ2xvZ2Jvb2staGVhdG1hcCcsIHsKICAgICAgaXNMb2FkaW5nOiAnaXNMb2FkaW5nJwogICAgfSksCiAgICBpc0NoZWNraW5TdGF0ZSAoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZVsnY2hlY2tpbnMtbGlzdCddLmlzQ2hlY2tpbgogICAgfSwKICAgIGxpc3RPZk1vbnRocyAoKSB7CiAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKQogICAgICByZXR1cm4gbmV3IEFycmF5KHRoaXMubnVtT2ZNb250aHMpCiAgICAgICAgLmZpbGwobnVsbCkKICAgICAgICAubWFwKChfLCBpbmRleCkgPT4gewogICAgICAgICAgbGV0IGRhdGUKICAgICAgICAgIGlmIChpbmRleCA8IHRoaXMubnVtT2ZNb250aHMgLSAxKSB7CiAgICAgICAgICAgIGRhdGUgPSBzdWJNb250aHModG9kYXksIHRoaXMubnVtT2ZNb250aHMgLSAxIC0gaW5kZXgpCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkYXRlID0gdG9kYXkKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIG1vbnRoOiBkYXRlLmdldE1vbnRoKCksCiAgICAgICAgICAgIHllYXI6IGRhdGUuZ2V0RnVsbFllYXIoKQogICAgICAgICAgfQogICAgICAgIH0pCiAgICB9CiAgfSwKICBtb3VudGVkICgpIHsKICAgIHRoaXMuZmV0Y2hBbGxMb2dib29rRGF0YSgpCiAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgdGhpcy5oYXNFcnJvciA9IHRydWUKICAgICAgfSkKICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMoJ2xvZ2Jvb2staGVhdG1hcCcsIFsKICAgICAgJ2ZldGNoQWxsTG9nYm9va0RhdGEnCiAgICBdKSwKICAgIG9uQ3JlYXRlTmV3TG9nYm9vayAoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL3JlcG9ydC9jcmVhdGUnCiAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["LogbookHeatmaps.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LogbookHeatmaps.vue","sourceRoot":"src/components/Dashboard/LogbookHeatmaps","sourcesContent":["<template>\n  <div class=\"logbook-heatmaps\">\n    <p class=\"logbook-heatmaps__title text-gray-900 dark:text-white\">\n      Laporan Kamu\n    </p>\n    <div class=\"logbook-heatmaps__wrapper\">\n      <template v-for=\"item in listOfMonths\">\n        <MonthlyHeatmap\n          class=\"flex-1\"\n          :key=\"`${item.year}/${item.month}`\"\n          :is-loading=\"isLoading\"\n          :month=\"item.month\"\n          :year=\"item.year\" />\n      </template>\n      <div\n        v-show=\"hasError\"\n        class=\"logbook-heatmaps__error-overlay\">\n        <p>\n          Heatmap laporan sedang bermasalah.\n          <br>\n          Kami coba check dulu ya\n        </p>\n      </div>\n    </div>\n    <button\n      class=\"logbook-heatmaps__btn-create\"\n      @click=\"onCreateNewLogbook\"\n      v-if=\"isCheckinState\">\n      + Buat Laporan Baru\n    </button>\n    <div v-else class=\"px-4 rounded-md border border-solid border-orange-500 bg-orange-100 text-gray-700\">\n      <strong>\n        <span class=\"text-orange-700\">Silahkan Checkin untuk Buat Laporan</span>\n      </strong>\n    </div>\n  </div>\n</template>\n\n<script>\nimport subMonths from 'date-fns/subMonths'\nimport MonthlyHeatmap from './MonthlyHeatmap'\nimport { mapState, mapActions } from 'vuex'\n\nexport default {\n  components: {\n    MonthlyHeatmap\n  },\n  provide () {\n    return {\n      heatmapColorConfig: this.colorConfig\n    }\n  },\n  data () {\n    return {\n      hasError: false,\n      numOfMonths: 2,\n      colorConfig: [\n        [0, '#ECEFF1'],\n        [1, '#C8E6C9'],\n        [3, '#81C784'],\n        [5, '#4CAF50'],\n        [7, '#388E3C'],\n        [9, '#1B5E20'],\n        [11, '#004D40']\n      ]\n    }\n  },\n  computed: {\n    ...mapState('logbook-heatmap', {\n      isLoading: 'isLoading'\n    }),\n    isCheckinState () {\n      return this.$store.state['checkins-list'].isCheckin\n    },\n    listOfMonths () {\n      const today = new Date()\n      return new Array(this.numOfMonths)\n        .fill(null)\n        .map((_, index) => {\n          let date\n          if (index < this.numOfMonths - 1) {\n            date = subMonths(today, this.numOfMonths - 1 - index)\n          } else {\n            date = today\n          }\n          return {\n            month: date.getMonth(),\n            year: date.getFullYear()\n          }\n        })\n    }\n  },\n  mounted () {\n    this.fetchAllLogbookData()\n      .catch(() => {\n        this.hasError = true\n      })\n  },\n  methods: {\n    ...mapActions('logbook-heatmap', [\n      'fetchAllLogbookData'\n    ]),\n    onCreateNewLogbook () {\n      this.$router.push({\n        path: '/report/create'\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.logbook-heatmaps {\n\n  &__title {\n    @apply mb-4 text-base font-bold;\n  }\n\n  &__btn-create {\n    @apply w-full\n    px-4 py-2\n    rounded-md\n    bg-green-600\n    text-white;\n\n    &:hover {\n      @apply bg-green-500;\n    }\n  }\n\n  &__wrapper {\n    gap: 1rem;\n    @apply mb-4 relative flex flex-row flex-wrap\n    justify-start items-stretch;\n  }\n\n  &__error-overlay {\n    background-color: rgba(255, 255, 255, 0.85);\n    backdrop-filter: saturate(0%);\n    @apply absolute inset-0\n    flex justify-center items-center\n    text-center;\n  }\n}\n</style>\n"]}]}