{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/Form/FilePreview.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/Form/FilePreview.vue","mtime":1673491775263},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGlzTWltZVR5cGVJbWFnZSB9IGZyb20gJy4uL1Byb2ZpbGUvRWRpdC91dGlscycKaW1wb3J0IHsgc2F2ZUFzIH0gZnJvbSAnZmlsZS1zYXZlcicKCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgZmlsZTogewogICAgICB0eXBlOiBGaWxlCiAgICB9LAogICAgZGlzYWJsZWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBuYW1lOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBzaXplOiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgdHlwZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgdXJsOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICByZW5hbWVhYmxlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBkb3dubG9hZE9uQ2xpY2s6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgbU5hbWU6ICcnLAogICAgICBtRmlsZUV4dGVuc2lvbjogJycKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc0ltYWdlICgpIHsKICAgICAgcmV0dXJuIGlzTWltZVR5cGVJbWFnZSh0aGlzLnR5cGUpCiAgICB9LAogICAgbWV0YWRhdGEgKCkgewogICAgICByZXR1cm4gewogICAgICAgIFVrdXJhbjogTWF0aC5jZWlsKHRoaXMuc2l6ZSAvIDEwMDApICsgJyBLQicsCiAgICAgICAgVGlwZTogdGhpcy50eXBlCiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIG9uTmFtZUNoYW5nZWQgKGUpIHsKICAgICAgdGhpcy5tTmFtZSA9IGUudGFyZ2V0LnZhbHVlCiAgICAgIGNvbnN0IHN0ciA9IGUudGFyZ2V0LnZhbHVlICsgdGhpcy5tRmlsZUV4dGVuc2lvbgogICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6bmFtZScsIHN0cikKICAgIH0sCiAgICBvblByZXZpZXdEb2N1bWVudCAoZSkgewogICAgICBpZiAodGhpcy5kb3dubG9hZE9uQ2xpY2sgJiYgdGhpcy5maWxlKSB7CiAgICAgICAgc2F2ZUFzKHRoaXMuZmlsZSwgdGhpcy5uYW1lKQogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIHdpbmRvdy5vcGVuKHRoaXMudXJsLCAnX2JsYW5rJykKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBuYW1lOiB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gKHYpIHsKICAgICAgICBpZiAodHlwZW9mIHYgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICB0aGlzLm1OYW1lID0gdi5zdWJzdHJpbmcoMCwgdi5sYXN0SW5kZXhPZignLicpKQogICAgICAgICAgdGhpcy5tRmlsZUV4dGVuc2lvbiA9IHYuc3Vic3RyaW5nKHYubGFzdEluZGV4T2YoJy4nKSkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5tTmFtZSA9ICcnCiAgICAgICAgICB0aGlzLm1GaWxlRXh0ZW5zaW9uID0gJycKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["FilePreview.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FilePreview.vue","sourceRoot":"src/components/Form","sourcesContent":["<template>\n  <div class=\"form-input__file-preview\">\n    <figcaption class=\"mr-4\">\n      <img v-if=\"isImage && url\"\n        alt=\"Evidence Image\"\n        :src=\"url\"\n        class=\"form-input__file-preview__image\"\n        @click.prevent=\"onPreviewDocument\">\n      <a v-else\n        class=\"form-input__file-preview__icon\"\n        title=\"Lihat Dokumen\"\n        @click.prevent=\"onPreviewDocument\">\n        {{mFileExtension}}\n      </a>\n    </figcaption>\n    <div class=\"mt-4 md:mt-0 self-stretch md:flex-auto flex flex-col justify-between\">\n      <ul>\n        <ValidationProvider v-if=\"renameable\"\n                            tag=\"li\"\n                            ref=\"validator\"\n                            rules=\"required\"\n                            :custom-messages=\"{required: 'Nama file harus diisi'}\"\n                            #default=\"{errors}\">\n          <label class=\"inline-block align-middle text-gray-700\">\n            Nama File\n            <i aria-hidden=\"true\" class=\"relative fa fa-pen float-right ml-2 text-gray-400\" style=\"transform: translateY(2px);\"></i>\n          </label>\n          <div class=\"mb-2 relative flex flex-row justify-start items-stretch border-b border-solid border-brand-blue\">\n              <input  class=\"block flex-auto text-gray-700 font-bold\"\n                      style=\"min-width: 0;\"\n                      type=\"text\"\n                      :value=\"mName\"\n                      :disabled=\"disabled\"\n                      :readonly=\"disabled\"\n                      @input=\"onNameChanged\">\n            <span class=\"flex-none block w-24 px-2 py-1 text-gray-600 bg-gray-200 text-center rounded-tr rounded-br\">\n              <code>{{mFileExtension}}</code>\n            </span>\n          </div>\n          <p  v-if=\"errors.length\"\n              class=\"form-input__error-hint mb-4\">\n            <slot name=\"error\">\n              {{errors[0]}}\n            </slot>\n          </p>\n        </ValidationProvider>\n        <li v-for=\"(value, key) in metadata\" :key=\"key\">\n          <label class=\"inline-block w-16 text-gray-700\">\n            {{key}}\n          </label>\n          <p class=\"block mb-2 text-gray-700 font-bold\">\n            {{value}}\n          </p>\n        </li>\n      </ul>\n      <p v-if=\"!disabled\" class=\"mt-2 inline-block self-end text-sm\">\n        <button class=\"w-auto py-2 px-4 mr-4 rounded border border-solid border-blue-500 text-blue-500 hover:opacity-50 hover:bg-blue-100\"\n                @click=\"$emit('view')\">\n          Tampilkan\n        </button>\n        <button class=\"w-24 py-2 px-4 rounded border border-solid border-red-600 text-red-500 hover:opacity-50 hover:bg-red-100\"\n                @click=\"$emit('delete')\">\n          Hapus\n        </button>\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { isMimeTypeImage } from '../Profile/Edit/utils'\nimport { saveAs } from 'file-saver'\n\nexport default {\n  props: {\n    file: {\n      type: File\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    name: {\n      type: String,\n      required: true\n    },\n    size: {\n      type: [String, Number],\n      required: true\n    },\n    type: {\n      type: String,\n      required: true\n    },\n    url: {\n      type: String,\n      required: true\n    },\n    renameable: {\n      type: Boolean,\n      default: true\n    },\n    downloadOnClick: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data () {\n    return {\n      mName: '',\n      mFileExtension: ''\n    }\n  },\n  computed: {\n    isImage () {\n      return isMimeTypeImage(this.type)\n    },\n    metadata () {\n      return {\n        Ukuran: Math.ceil(this.size / 1000) + ' KB',\n        Tipe: this.type\n      }\n    }\n  },\n  methods: {\n    onNameChanged (e) {\n      this.mName = e.target.value\n      const str = e.target.value + this.mFileExtension\n      this.$emit('update:name', str)\n    },\n    onPreviewDocument (e) {\n      if (this.downloadOnClick && this.file) {\n        saveAs(this.file, this.name)\n        return\n      }\n      window.open(this.url, '_blank')\n    }\n  },\n  watch: {\n    name: {\n      immediate: true,\n      handler: function (v) {\n        if (typeof v === 'string') {\n          this.mName = v.substring(0, v.lastIndexOf('.'))\n          this.mFileExtension = v.substring(v.lastIndexOf('.'))\n        } else {\n          this.mName = ''\n          this.mFileExtension = ''\n        }\n      }\n    }\n  }\n}\n</script>\n"]}]}