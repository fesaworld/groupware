{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/views/ProfileEdit.vue?vue&type=style&index=0&id=722ea589&lang=scss&scoped=true&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/src/views/ProfileEdit.vue","mtime":1673491775274},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/css-loader/dist/cjs.js","mtime":1673491970692},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1673491936529},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/postcss-loader/src/index.js","mtime":1673491966590},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/sass-loader/dist/cjs.js","mtime":1673491959555},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaHIgewogIEBhcHBseSBtYi04Owp9Cg=="},{"version":3,"sources":["ProfileEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyJA;AACA;AACA","file":"ProfileEdit.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"messages\">\n    <div class=\"container mx-auto py-8 md:px-4\">\n      <div class=\"overflow-visible lg:overflow-hidden max-w-5xl mx-auto rounded-none lg:rounded-lg lg:shadow lg:flex lg:flex-row lg:justify-start lg:items-stretch\">\n        <ProfileSectionList @hook:mounted=\"keepSectionListRef\"\n                            ref=\"sectionList\"\n                            :sections=\"profileSections\"\n                            :active=\"activeProfileSectionName\"\n                            class=\"rounded-none sm:rounded-lg lg:rounded-none border-r border-solid border-gray-200 bg-gray-100 shadow lg:shadow-none\"\n                            style=\"flex: 1 1 25%;\"\n                            @click=\"setActiveSection\"/>\n        <br class=\"lg:hidden\">\n        <ProfileSectionDetail ref=\"profileDetail\"\n                              :name=\"activeProfileSectionName\"\n                              class=\"overflow-hidden rounded-none sm:rounded-lg lg:rounded-none bg-white shadow lg:shadow-none\"\n                              style=\"flex: 1 1 60%;\"/>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport _debounce from 'lodash/debounce'\nimport _throttle from 'lodash/throttle'\nimport _startCase from 'lodash/startCase'\nimport _snakeCase from 'lodash/snakeCase'\nimport { mapState } from 'vuex'\nimport { PROFILE_DETAIL_IS_PRISTINE } from '../store/mutation-types'\n\nexport default {\n  middleware: 'check-auth',\n  components: {\n    ProfileSectionList: () => import('../components/Profile/Edit/ProfileSectionList'),\n    ProfileSectionDetail: () => import('../components/Profile/Edit/ProfileSectionDetail')\n  },\n\n  metaInfo: {\n    title: 'My Profile'\n  },\n\n  data () {\n    return {\n      profileSections: [\n        'Personal',\n        'Education',\n        'Experience',\n        'Bank Account',\n        'Emergency Contact',\n        'Enneagram'\n      ],\n      sectionListEl: null,\n      sectionListElOffsetTop: null\n    }\n  },\n  mounted () {\n    this.$nextTick(() => {\n      window.removeEventListener('resize', this.onWindowResize)\n      window.removeEventListener('scroll', this.onWindowScroll)\n      setTimeout(() => {\n        window.addEventListener('resize', this.onWindowResize)\n        this.onWindowResize()\n      }, 50)\n    })\n  },\n  beforeDestroy () {\n    window.removeEventListener('resize', this.onWindowResize)\n    window.removeEventListener('scroll', this.onWindowScroll)\n  },\n\n  computed: {\n    activeProfileSectionName () {\n      return _startCase(this.$route.params.id || '')\n    },\n    ...mapState('profile-detail', {\n      isPristine: state => state.isPristine\n    })\n  },\n\n  methods: {\n    keepSectionListRef () {\n      const { $el } = this.$refs.sectionList\n      this.sectionListEl = $el\n      this.sectionListElOffsetTop = $el.offsetTop\n      $el.style.setProperty('will-change', 'transform')\n    },\n    stickifySectionList () {\n      window.removeEventListener('scroll', this.onWindowScroll)\n      setTimeout(() => {\n        window.addEventListener('scroll', this.onWindowScroll)\n        this.onWindowScroll()\n      }, 50)\n    },\n    unstickifySectionList () {\n      window.removeEventListener('scroll', this.onWindowScroll)\n      window.requestAnimationFrame(() => {\n        this.sectionListEl.style.setProperty(`transform`, `translateY(0px)`)\n      })\n    },\n    onWindowScroll: _throttle(function () {\n      if (!this.sectionListEl) return\n      if (window.scrollY > this.sectionListElOffsetTop) {\n        const y = Math.abs(window.scrollY - this.sectionListElOffsetTop)\n        window.requestAnimationFrame(() => {\n          this.sectionListEl.style.setProperty(`transform`, `translateY(${y}px)`)\n        })\n      } else {\n        window.requestAnimationFrame(() => {\n          this.sectionListEl.style.setProperty(`transform`, `translateY(0px)`)\n        })\n      }\n    }, Math.ceil(1000 / 144), { leading: true, trailing: false }),\n    onWindowResize: _debounce(function () {\n      const { innerWidth } = window\n      if (innerWidth >= 1024) {\n        this.stickifySectionList()\n      } else {\n        this.unstickifySectionList()\n      }\n    }, Math.ceil(1000 / 144)),\n    setActiveSection (name) {\n      if (name === this.activeProfileSectionName) return\n      this.$router.push({\n        path: `/profile/edit/${_snakeCase(name)}`\n      })\n    }\n  },\n\n  beforeRouteUpdate (to, from, next) {\n    if (!this.isPristine) {\n      this.$swal.fire({\n        title: 'Apa kamu yakin?',\n        text: 'Ada perubahan data yang belum kamu simpan di bagian ini',\n        icon: 'warning',\n        showCancelButton: true,\n        cancelButtonText: 'Keluar',\n        confirmButtonText: 'Ya, abaikan perubahan data'\n      }).then(({ value }) => {\n        if (value) {\n          this.$refs.profileDetail.onCancel()\n            .then(() => {\n              this.$store.commit(`profile-detail/${PROFILE_DETAIL_IS_PRISTINE}`, true)\n              next()\n            })\n        }\n      })\n    } else {\n      next()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\nhr {\n  @apply mb-8;\n}\n</style>\n"]}]}