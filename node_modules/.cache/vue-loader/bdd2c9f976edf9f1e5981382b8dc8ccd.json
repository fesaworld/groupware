{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/FormLogbook/InputProjectAutocomplete.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/FormLogbook/InputProjectAutocomplete.vue","mtime":1673491775264},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHByb3BzLCBjb21wb25lbnRzIH0gZnJvbSAnLi4vRm9ybS9pbnB1dC1taXhpbicKaW1wb3J0IGRlYm91bmNlIGZyb20gJ2xvZGFzaC9kZWJvdW5jZScKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICAuLi5jb21wb25lbnRzCiAgfSwKICBtb2RlbDogewogICAgcHJvcDogJ3ZhbHVlJywKICAgIGV2ZW50OiAnaW5wdXQnCiAgfSwKICBwcm9wczogewogICAgLi4ucHJvcHMsCiAgICB0eXBlOiB7CiAgICAgIHR5cGU6IFtTdHJpbmddLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9CiAgfSwKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIG1WYWx1ZTogbnVsbCwKICAgICAgcmVzdWx0czogbnVsbCwKICAgICAgaXNTZWFyY2hpbmc6IGZhbHNlLAogICAgICBzaG93UmVzdWx0c1BvcG92ZXI6IGZhbHNlCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgdmFsdWU6IHsKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICBoYW5kbGVyICh2KSB7CiAgICAgICAgdGhpcy5tVmFsdWUgPSB2CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIG9uSW5wdXRGb2N1c2VkICgpIHsKICAgICAgdGhpcy5zaG93UmVzdWx0c1BvcG92ZXIgPSB0cnVlCiAgICAgIHRoaXMuaXNTZWFyY2hpbmcgPSB0cnVlCiAgICAgIHRoaXMub25TZWFyY2goKQogICAgfSwKICAgIG9uSW5wdXRCbHVyICgpIHsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy5zaG93UmVzdWx0c1BvcG92ZXIgPSBmYWxzZQogICAgICB9LCAyNTApCiAgICB9LAogICAgb25JbnB1dCAoZSkgewogICAgICB0aGlzLm1WYWx1ZSA9IGUudGFyZ2V0LnZhbHVlCiAgICAgIHRoaXMuc2hvd1Jlc3VsdHNQb3BvdmVyID0gdHJ1ZQogICAgICB0aGlzLmlzU2VhcmNoaW5nID0gdHJ1ZQogICAgICB0aGlzLm9uU2VhcmNoKCkKICAgIH0sCiAgICBvblNlYXJjaDogZGVib3VuY2UoZnVuY3Rpb24gKCkgewogICAgICBjb25zdCBzZWFyY2hTdHJpbmcgPSB0eXBlb2YgdGhpcy5tVmFsdWUgPT09ICdzdHJpbmcnID8gdGhpcy5tVmFsdWUgOiAnJwogICAgICB0aGlzLnJlc3VsdHMgPSB0aGlzLiRzdG9yZQogICAgICAgIC5nZXR0ZXJzWydvcmdhbml6YXRpb25zL2xpc3RPZlByb2plY3RzJ10KICAgICAgICAuZmlsdGVyKHggPT4gewogICAgICAgICAgcmV0dXJuIGAke3gubmFtZX1gLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoU3RyaW5nLnRvTG93ZXJDYXNlKCkpCiAgICAgICAgfSkKICAgICAgdGhpcy5pc1NlYXJjaGluZyA9IGZhbHNlCiAgICB9LCA2MDApLAogICAgb25TZWxlY3QgKHByb2plY3QpIHsKICAgICAgdGhpcy5zaG93UmVzdWx0c1BvcG92ZXIgPSBmYWxzZQogICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCBwcm9qZWN0KQogICAgfQogIH0KfQo="},{"version":3,"sources":["InputProjectAutocomplete.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"InputProjectAutocomplete.vue","sourceRoot":"src/components/FormLogbook","sourcesContent":["<template>\n  <ValidationProvider\n    :rules=\"rules\"\n    :custom-messages=\"customMessages\"\n    #default=\"{failed, errors}\"\n    tag=\"div\"\n  >\n    <FormInputHeader\n      :label-for=\"name\"\n      :title=\"title\"\n      :subtitle=\"subtitle\"\n      :required=\"required\"\n    >\n      <template #title>\n        <slot name=\"title\"></slot>\n      </template>\n      <template #subtitle>\n        <slot name=\"subtitle\"></slot>\n      </template>\n    </FormInputHeader>\n    <div class=\"relative\">\n      <input\n        autocomplete=\"off\"\n        ref=\"input\"\n        :type=\"type\"\n        :name=\"name\"\n        :value=\"mValue\"\n        :disabled=\"disabled\"\n        :class=\"{'form-input__input': true, 'is-invalid': failed}\"\n        v-bind=\"$attrs\"\n        @input=\"onInput\"\n        @focus=\"onInputFocused\"\n        @blur=\"onInputBlur\"\n      >\n      <div v-if=\"showResultsPopover\" class=\"form-input-project__results\">\n        <ul>\n          <template v-if=\"isSearching\">\n            <li key=\"isSearching\" class=\"form-input-project__result-item text-center\">\n              <i aria-hidden=\"true\" class=\"fa fa-2x fa-circle-notch text-gray-300\" />\n            </li>\n          </template>\n          <template v-else-if=\"results && results.length\">\n            <li\n              v-for=\"(r, index) in results\"\n              :key=\"index\" class=\"form-input-project__result-item hover:bg-gray-200\"\n              @click.capture=\"onSelect(r)\">\n              <a href=\"javascript:void(0)\">\n                {{ r.name }}\n              </a>\n            </li>\n          </template>\n          <template v-else-if=\"!results.length\">\n            <li key=\"nodata\" class=\"form-input-project__result-item text-center\">\n              <a class=\"text-gray-400 font-bold uppercase\">\n                Tidak ada data\n              </a>\n            </li>\n          </template>\n        </ul>\n      </div>\n    </div>\n    <p v-if=\"errors.length\"\n       class=\"form-input__error-hint\">\n      <slot name=\"error\">\n        {{errors[0]}}\n      </slot>\n    </p>\n  </ValidationProvider>\n</template>\n\n<script>\nimport { props, components } from '../Form/input-mixin'\nimport debounce from 'lodash/debounce'\n\nexport default {\n  components: {\n    ...components\n  },\n  model: {\n    prop: 'value',\n    event: 'input'\n  },\n  props: {\n    ...props,\n    type: {\n      type: [String],\n      required: true\n    },\n    value: {\n      type: [String, Number],\n      default: ''\n    }\n  },\n  data () {\n    return {\n      mValue: null,\n      results: null,\n      isSearching: false,\n      showResultsPopover: false\n    }\n  },\n  watch: {\n    value: {\n      immediate: true,\n      handler (v) {\n        this.mValue = v\n      }\n    }\n  },\n  methods: {\n    onInputFocused () {\n      this.showResultsPopover = true\n      this.isSearching = true\n      this.onSearch()\n    },\n    onInputBlur () {\n      setTimeout(() => {\n        this.showResultsPopover = false\n      }, 250)\n    },\n    onInput (e) {\n      this.mValue = e.target.value\n      this.showResultsPopover = true\n      this.isSearching = true\n      this.onSearch()\n    },\n    onSearch: debounce(function () {\n      const searchString = typeof this.mValue === 'string' ? this.mValue : ''\n      this.results = this.$store\n        .getters['organizations/listOfProjects']\n        .filter(x => {\n          return `${x.name}`.toLowerCase().includes(searchString.toLowerCase())\n        })\n      this.isSearching = false\n    }, 600),\n    onSelect (project) {\n      this.showResultsPopover = false\n      this.$emit('change', project)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.form-input-project__results {\n  max-height: 50vh;\n  @apply absolute z-10 left-0 right-0\n  overflow-x-hidden overflow-y-scroll\n  p-4\n  border border-solid border-gray-400\n  bg-white\n  rounded\n  shadow-lg;\n}\n\n.form-input-project__result-item {\n  @apply cursor-pointer p-2\n  text-sm;\n\n  & + & {\n    @apply mt-2;\n  }\n}\n</style>\n\n<style lang=\"scss\">\n\n@keyframes is-rotating {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(320deg);\n  }\n}\n.fa-circle-notch {\n  animation: is-rotating 1s infinite linear;\n}\n</style>\n"]}]}