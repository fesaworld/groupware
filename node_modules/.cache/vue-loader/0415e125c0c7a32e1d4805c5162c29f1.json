{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/views/ProfileEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/views/ProfileEdit.vue","mtime":1673491775274},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBfZGVib3VuY2UgZnJvbSAnbG9kYXNoL2RlYm91bmNlJwppbXBvcnQgX3Rocm90dGxlIGZyb20gJ2xvZGFzaC90aHJvdHRsZScKaW1wb3J0IF9zdGFydENhc2UgZnJvbSAnbG9kYXNoL3N0YXJ0Q2FzZScKaW1wb3J0IF9zbmFrZUNhc2UgZnJvbSAnbG9kYXNoL3NuYWtlQ2FzZScKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JwppbXBvcnQgeyBQUk9GSUxFX0RFVEFJTF9JU19QUklTVElORSB9IGZyb20gJy4uL3N0b3JlL211dGF0aW9uLXR5cGVzJwoKZXhwb3J0IGRlZmF1bHQgewogIG1pZGRsZXdhcmU6ICdjaGVjay1hdXRoJywKICBjb21wb25lbnRzOiB7CiAgICBQcm9maWxlU2VjdGlvbkxpc3Q6ICgpID0+IGltcG9ydCgnLi4vY29tcG9uZW50cy9Qcm9maWxlL0VkaXQvUHJvZmlsZVNlY3Rpb25MaXN0JyksCiAgICBQcm9maWxlU2VjdGlvbkRldGFpbDogKCkgPT4gaW1wb3J0KCcuLi9jb21wb25lbnRzL1Byb2ZpbGUvRWRpdC9Qcm9maWxlU2VjdGlvbkRldGFpbCcpCiAgfSwKCiAgbWV0YUluZm86IHsKICAgIHRpdGxlOiAnTXkgUHJvZmlsZScKICB9LAoKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2ZpbGVTZWN0aW9uczogWwogICAgICAgICdQZXJzb25hbCcsCiAgICAgICAgJ0VkdWNhdGlvbicsCiAgICAgICAgJ0V4cGVyaWVuY2UnLAogICAgICAgICdCYW5rIEFjY291bnQnLAogICAgICAgICdFbWVyZ2VuY3kgQ29udGFjdCcsCiAgICAgICAgJ0VubmVhZ3JhbScKICAgICAgXSwKICAgICAgc2VjdGlvbkxpc3RFbDogbnVsbCwKICAgICAgc2VjdGlvbkxpc3RFbE9mZnNldFRvcDogbnVsbAogICAgfQogIH0sCiAgbW91bnRlZCAoKSB7CiAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uV2luZG93UmVzaXplKQogICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5vbldpbmRvd1Njcm9sbCkKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25XaW5kb3dSZXNpemUpCiAgICAgICAgdGhpcy5vbldpbmRvd1Jlc2l6ZSgpCiAgICAgIH0sIDUwKQogICAgfSkKICB9LAogIGJlZm9yZURlc3Ryb3kgKCkgewogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25XaW5kb3dSZXNpemUpCiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5vbldpbmRvd1Njcm9sbCkKICB9LAoKICBjb21wdXRlZDogewogICAgYWN0aXZlUHJvZmlsZVNlY3Rpb25OYW1lICgpIHsKICAgICAgcmV0dXJuIF9zdGFydENhc2UodGhpcy4kcm91dGUucGFyYW1zLmlkIHx8ICcnKQogICAgfSwKICAgIC4uLm1hcFN0YXRlKCdwcm9maWxlLWRldGFpbCcsIHsKICAgICAgaXNQcmlzdGluZTogc3RhdGUgPT4gc3RhdGUuaXNQcmlzdGluZQogICAgfSkKICB9LAoKICBtZXRob2RzOiB7CiAgICBrZWVwU2VjdGlvbkxpc3RSZWYgKCkgewogICAgICBjb25zdCB7ICRlbCB9ID0gdGhpcy4kcmVmcy5zZWN0aW9uTGlzdAogICAgICB0aGlzLnNlY3Rpb25MaXN0RWwgPSAkZWwKICAgICAgdGhpcy5zZWN0aW9uTGlzdEVsT2Zmc2V0VG9wID0gJGVsLm9mZnNldFRvcAogICAgICAkZWwuc3R5bGUuc2V0UHJvcGVydHkoJ3dpbGwtY2hhbmdlJywgJ3RyYW5zZm9ybScpCiAgICB9LAogICAgc3RpY2tpZnlTZWN0aW9uTGlzdCAoKSB7CiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLm9uV2luZG93U2Nyb2xsKQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5vbldpbmRvd1Njcm9sbCkKICAgICAgICB0aGlzLm9uV2luZG93U2Nyb2xsKCkKICAgICAgfSwgNTApCiAgICB9LAogICAgdW5zdGlja2lmeVNlY3Rpb25MaXN0ICgpIHsKICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMub25XaW5kb3dTY3JvbGwpCiAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gewogICAgICAgIHRoaXMuc2VjdGlvbkxpc3RFbC5zdHlsZS5zZXRQcm9wZXJ0eShgdHJhbnNmb3JtYCwgYHRyYW5zbGF0ZVkoMHB4KWApCiAgICAgIH0pCiAgICB9LAogICAgb25XaW5kb3dTY3JvbGw6IF90aHJvdHRsZShmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghdGhpcy5zZWN0aW9uTGlzdEVsKSByZXR1cm4KICAgICAgaWYgKHdpbmRvdy5zY3JvbGxZID4gdGhpcy5zZWN0aW9uTGlzdEVsT2Zmc2V0VG9wKSB7CiAgICAgICAgY29uc3QgeSA9IE1hdGguYWJzKHdpbmRvdy5zY3JvbGxZIC0gdGhpcy5zZWN0aW9uTGlzdEVsT2Zmc2V0VG9wKQogICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gewogICAgICAgICAgdGhpcy5zZWN0aW9uTGlzdEVsLnN0eWxlLnNldFByb3BlcnR5KGB0cmFuc2Zvcm1gLCBgdHJhbnNsYXRlWSgke3l9cHgpYCkKICAgICAgICB9KQogICAgICB9IGVsc2UgewogICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gewogICAgICAgICAgdGhpcy5zZWN0aW9uTGlzdEVsLnN0eWxlLnNldFByb3BlcnR5KGB0cmFuc2Zvcm1gLCBgdHJhbnNsYXRlWSgwcHgpYCkKICAgICAgICB9KQogICAgICB9CiAgICB9LCBNYXRoLmNlaWwoMTAwMCAvIDE0NCksIHsgbGVhZGluZzogdHJ1ZSwgdHJhaWxpbmc6IGZhbHNlIH0pLAogICAgb25XaW5kb3dSZXNpemU6IF9kZWJvdW5jZShmdW5jdGlvbiAoKSB7CiAgICAgIGNvbnN0IHsgaW5uZXJXaWR0aCB9ID0gd2luZG93CiAgICAgIGlmIChpbm5lcldpZHRoID49IDEwMjQpIHsKICAgICAgICB0aGlzLnN0aWNraWZ5U2VjdGlvbkxpc3QoKQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudW5zdGlja2lmeVNlY3Rpb25MaXN0KCkKICAgICAgfQogICAgfSwgTWF0aC5jZWlsKDEwMDAgLyAxNDQpKSwKICAgIHNldEFjdGl2ZVNlY3Rpb24gKG5hbWUpIHsKICAgICAgaWYgKG5hbWUgPT09IHRoaXMuYWN0aXZlUHJvZmlsZVNlY3Rpb25OYW1lKSByZXR1cm4KICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6IGAvcHJvZmlsZS9lZGl0LyR7X3NuYWtlQ2FzZShuYW1lKX1gCiAgICAgIH0pCiAgICB9CiAgfSwKCiAgYmVmb3JlUm91dGVVcGRhdGUgKHRvLCBmcm9tLCBuZXh0KSB7CiAgICBpZiAoIXRoaXMuaXNQcmlzdGluZSkgewogICAgICB0aGlzLiRzd2FsLmZpcmUoewogICAgICAgIHRpdGxlOiAnQXBhIGthbXUgeWFraW4/JywKICAgICAgICB0ZXh0OiAnQWRhIHBlcnViYWhhbiBkYXRhIHlhbmcgYmVsdW0ga2FtdSBzaW1wYW4gZGkgYmFnaWFuIGluaScsCiAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ0tlbHVhcicsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdZYSwgYWJhaWthbiBwZXJ1YmFoYW4gZGF0YScKICAgICAgfSkudGhlbigoeyB2YWx1ZSB9KSA9PiB7CiAgICAgICAgaWYgKHZhbHVlKSB7CiAgICAgICAgICB0aGlzLiRyZWZzLnByb2ZpbGVEZXRhaWwub25DYW5jZWwoKQogICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KGBwcm9maWxlLWRldGFpbC8ke1BST0ZJTEVfREVUQUlMX0lTX1BSSVNUSU5FfWAsIHRydWUpCiAgICAgICAgICAgICAgbmV4dCgpCiAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9KQogICAgfSBlbHNlIHsKICAgICAgbmV4dCgpCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["ProfileEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ProfileEdit.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"messages\">\n    <div class=\"container mx-auto py-8 md:px-4\">\n      <div class=\"overflow-visible lg:overflow-hidden max-w-5xl mx-auto rounded-none lg:rounded-lg lg:shadow lg:flex lg:flex-row lg:justify-start lg:items-stretch\">\n        <ProfileSectionList @hook:mounted=\"keepSectionListRef\"\n                            ref=\"sectionList\"\n                            :sections=\"profileSections\"\n                            :active=\"activeProfileSectionName\"\n                            class=\"rounded-none sm:rounded-lg lg:rounded-none border-r border-solid border-gray-200 bg-gray-100 shadow lg:shadow-none\"\n                            style=\"flex: 1 1 25%;\"\n                            @click=\"setActiveSection\"/>\n        <br class=\"lg:hidden\">\n        <ProfileSectionDetail ref=\"profileDetail\"\n                              :name=\"activeProfileSectionName\"\n                              class=\"overflow-hidden rounded-none sm:rounded-lg lg:rounded-none bg-white shadow lg:shadow-none\"\n                              style=\"flex: 1 1 60%;\"/>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport _debounce from 'lodash/debounce'\nimport _throttle from 'lodash/throttle'\nimport _startCase from 'lodash/startCase'\nimport _snakeCase from 'lodash/snakeCase'\nimport { mapState } from 'vuex'\nimport { PROFILE_DETAIL_IS_PRISTINE } from '../store/mutation-types'\n\nexport default {\n  middleware: 'check-auth',\n  components: {\n    ProfileSectionList: () => import('../components/Profile/Edit/ProfileSectionList'),\n    ProfileSectionDetail: () => import('../components/Profile/Edit/ProfileSectionDetail')\n  },\n\n  metaInfo: {\n    title: 'My Profile'\n  },\n\n  data () {\n    return {\n      profileSections: [\n        'Personal',\n        'Education',\n        'Experience',\n        'Bank Account',\n        'Emergency Contact',\n        'Enneagram'\n      ],\n      sectionListEl: null,\n      sectionListElOffsetTop: null\n    }\n  },\n  mounted () {\n    this.$nextTick(() => {\n      window.removeEventListener('resize', this.onWindowResize)\n      window.removeEventListener('scroll', this.onWindowScroll)\n      setTimeout(() => {\n        window.addEventListener('resize', this.onWindowResize)\n        this.onWindowResize()\n      }, 50)\n    })\n  },\n  beforeDestroy () {\n    window.removeEventListener('resize', this.onWindowResize)\n    window.removeEventListener('scroll', this.onWindowScroll)\n  },\n\n  computed: {\n    activeProfileSectionName () {\n      return _startCase(this.$route.params.id || '')\n    },\n    ...mapState('profile-detail', {\n      isPristine: state => state.isPristine\n    })\n  },\n\n  methods: {\n    keepSectionListRef () {\n      const { $el } = this.$refs.sectionList\n      this.sectionListEl = $el\n      this.sectionListElOffsetTop = $el.offsetTop\n      $el.style.setProperty('will-change', 'transform')\n    },\n    stickifySectionList () {\n      window.removeEventListener('scroll', this.onWindowScroll)\n      setTimeout(() => {\n        window.addEventListener('scroll', this.onWindowScroll)\n        this.onWindowScroll()\n      }, 50)\n    },\n    unstickifySectionList () {\n      window.removeEventListener('scroll', this.onWindowScroll)\n      window.requestAnimationFrame(() => {\n        this.sectionListEl.style.setProperty(`transform`, `translateY(0px)`)\n      })\n    },\n    onWindowScroll: _throttle(function () {\n      if (!this.sectionListEl) return\n      if (window.scrollY > this.sectionListElOffsetTop) {\n        const y = Math.abs(window.scrollY - this.sectionListElOffsetTop)\n        window.requestAnimationFrame(() => {\n          this.sectionListEl.style.setProperty(`transform`, `translateY(${y}px)`)\n        })\n      } else {\n        window.requestAnimationFrame(() => {\n          this.sectionListEl.style.setProperty(`transform`, `translateY(0px)`)\n        })\n      }\n    }, Math.ceil(1000 / 144), { leading: true, trailing: false }),\n    onWindowResize: _debounce(function () {\n      const { innerWidth } = window\n      if (innerWidth >= 1024) {\n        this.stickifySectionList()\n      } else {\n        this.unstickifySectionList()\n      }\n    }, Math.ceil(1000 / 144)),\n    setActiveSection (name) {\n      if (name === this.activeProfileSectionName) return\n      this.$router.push({\n        path: `/profile/edit/${_snakeCase(name)}`\n      })\n    }\n  },\n\n  beforeRouteUpdate (to, from, next) {\n    if (!this.isPristine) {\n      this.$swal.fire({\n        title: 'Apa kamu yakin?',\n        text: 'Ada perubahan data yang belum kamu simpan di bagian ini',\n        icon: 'warning',\n        showCancelButton: true,\n        cancelButtonText: 'Keluar',\n        confirmButtonText: 'Ya, abaikan perubahan data'\n      }).then(({ value }) => {\n        if (value) {\n          this.$refs.profileDetail.onCancel()\n            .then(() => {\n              this.$store.commit(`profile-detail/${PROFILE_DETAIL_IS_PRISTINE}`, true)\n              next()\n            })\n        }\n      })\n    } else {\n      next()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\nhr {\n  @apply mb-8;\n}\n</style>\n"]}]}