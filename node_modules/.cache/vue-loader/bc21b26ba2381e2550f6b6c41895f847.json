{"remainingRequest":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/Profile/Edit/Experience.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/src/components/Profile/Edit/Experience.vue","mtime":1673491775266},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/babel-loader/lib/index.js","mtime":1673491971758},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/cache-loader/dist/cjs.js","mtime":1673491971474},{"path":"/Users/jds/Documents/diskominfo/jds/digiteam/groupware/groupware/node_modules/vue-loader/lib/index.js","mtime":1673491936504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IFBST0ZJTEVfREVUQUlMX1RZUEUsIFBST0ZJTEVfREFUQV9TQ0hFTUEgfSBmcm9tICcuL3V0aWxzJwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEZvcm1JbnB1dDogKCkgPT4gaW1wb3J0KCdAL2NvbXBvbmVudHMvRm9ybS9JbnB1dCcpLAogICAgRm9ybVNlbGVjdDogKCkgPT4gaW1wb3J0KCdAL2NvbXBvbmVudHMvRm9ybS9TZWxlY3QnKQogIH0sCiAgcHJvcHM6IHsKICAgIGRhdGE6IHsKICAgICAgdHlwZTogT2JqZWN0CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgbURhdGE6IHsKICAgICAgZ2V0ICgpIHsKICAgICAgICByZXR1cm4gdGhpcy5kYXRhCiAgICAgIH0sCiAgICAgIHNldCAob2JqKSB7CiAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlOmRhdGEnLCBvYmopCiAgICAgIH0KICAgIH0sCiAgICBpc1ByZXZpb3VzSm9iRXhpc3QgKCkgewogICAgICByZXR1cm4gdGhpcy5tRGF0YS5wcmV2aW91c19qb2IuaGFzX3ByZXZpb3VzX2pvYiA9PT0gJ1lhJwogICAgfSwKICAgIHJlcXVpcmVkSWZQcmV2aW91c0pvYkV4aXN0ICgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICByZXF1aXJlZDogdGhpcy5pc1ByZXZpb3VzSm9iRXhpc3QKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgb25DaGFuZ2VQcmV2aW91c0pvYlN0YXR1cyAobmV3VmFsdWUpIHsKICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzLm1EYXRhLnByZXZpb3VzX2pvYi5oYXNfcHJldmlvdXNfam9iCiAgICAgIGlmIChuZXdWYWx1ZSA9PT0gJ1RpZGFrJykgewogICAgICAgIGNvbnN0IGtleXMgPSBQUk9GSUxFX0RBVEFfU0NIRU1BW1BST0ZJTEVfREVUQUlMX1RZUEUuUFJFVklPVVNfSk9CXQogICAgICAgIGNvbnN0IGhhc1NvbWVWYWx1ZXMgPSBrZXlzLnNvbWUoa2V5ID0+IHsKICAgICAgICAgIGlmIChrZXkgPT09ICdoYXNfcHJldmlvdXNfam9iJykgcmV0dXJuIGZhbHNlCiAgICAgICAgICByZXR1cm4gdGhpcy5tRGF0YS5wcmV2aW91c19qb2Jba2V5XSAhPT0gbnVsbAogICAgICAgIH0pCiAgICAgICAgaWYgKG9sZFZhbHVlID09PSAnWWEnICYmIGhhc1NvbWVWYWx1ZXMpIHsKICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSh7CiAgICAgICAgICAgIHRpdGxlOiAnQXBhIGthbXUgeWFraW4/JywKICAgICAgICAgICAgdGV4dDogJ01lbmdnYW50aSBvcHNpIGluaSBha2FuIG1lbmdoYXB1cyBkYXRhIHlhbmcgc3VkYWgga2FtdSBpc2lrYW4gc2ViZWx1bW55YScsCiAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdZYSwgaGFwdXMgc2FqYSBkYXRhbnlhJywKICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ0tlbHVhcicKICAgICAgICAgIH0pLnRoZW4oKHsgdmFsdWUgfSkgPT4gewogICAgICAgICAgICBpZiAodmFsdWUpIHsKICAgICAgICAgICAgICBrZXlzLmZvckVhY2goa2V5ID0+IHsKICAgICAgICAgICAgICAgIGlmIChrZXkgPT09ICdoYXNfcHJldmlvdXNfam9iJykgcmV0dXJuCiAgICAgICAgICAgICAgICB0aGlzLiRzZXQodGhpcy5tRGF0YS5wcmV2aW91c19qb2IsIGtleSwgJycpCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB0aGlzLiRzZXQodGhpcy5tRGF0YS5wcmV2aW91c19qb2IsICdoYXNfcHJldmlvdXNfam9iJywgbmV3VmFsdWUpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJHNldCh0aGlzLm1EYXRhLnByZXZpb3VzX2pvYiwgJ2hhc19wcmV2aW91c19qb2InLCBuZXdWYWx1ZSk7CiAgICAgICAgICBbJ2NvbXBhbnknLCAnc2FsYXJ5JywgJ2xlbmd0aCcsICdwb3NpdGlvbiddLmZvckVhY2goa2V5ID0+IHsKICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMubURhdGEucHJldmlvdXNfam9iLCBrZXksICcnKQogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kc2V0KHRoaXMubURhdGEucHJldmlvdXNfam9iLCAnaGFzX3ByZXZpb3VzX2pvYicsIG5ld1ZhbHVlKQogICAgICB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Experience.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Experience.vue","sourceRoot":"src/components/Profile/Edit","sourcesContent":["<template>\n  <ValidationObserver tag=\"fieldset\" ref=\"validator\">\n    <div class=\"form-input-container\">\n      <FormSelect name=\"has_previous_job\"\n                  title=\"Pernah bekerja sebelumnya?\"\n                  :options=\"['Ya', 'Tidak']\"\n                  rules=\"required\"\n                  prompt=\"Pilih salah satu opsi di bawah ini\"\n                  :custom-messages=\"{required: 'Informasi ini harus diisi'}\"\n                  :value=\"mData.previous_job.has_previous_job\"\n                  @change=\"onChangePreviousJobStatus\"/>\n    </div>\n    <transition name=\"slide-y-fade-transition\">\n      <div v-if=\"mData.previous_job.has_previous_job === 'Ya'\">\n        <div class=\"form-input-container\">\n          <FormInput :required=\"isPreviousJobExist\"\n                      :rules=\"requiredIfPreviousJobExist\"\n                      :custom-messages=\"{required: 'Nama perusahaan harus diisi'}\"\n                      type=\"text\"\n                      name=\"latest_job_company\"\n                      title=\"Nama Perusahaan Terakhir\"\n                      placeholder=\"Masukkan nama perusahaan tempat terakhir bekerja\"\n                      v-model=\"mData.previous_job.company\" />\n        </div>\n        <div class=\"form-input-container\">\n          <FormInput :required=\"isPreviousJobExist\"\n                      :rules=\"requiredIfPreviousJobExist\"\n                      :custom-messages=\"{required: 'Nama posisi harus diisi'}\"\n                      type=\"text\"\n                      name=\"latest_job_position\"\n                      title=\"Posisi di Perusahaan Terakhir\"\n                      placeholder=\"Masukkan nama posisi\"\n                      v-model=\"mData.previous_job.position\" />\n        </div>\n        <div class=\"form-input-container\">\n          <FormInput :required=\"isPreviousJobExist\"\n                      :rules=\"requiredIfPreviousJobExist\"\n                      :custom-messages=\"{required: 'Lama di posisi harus diisi'}\"\n                      type=\"text\"\n                      name=\"latest_job_length\"\n                      title=\"Lama Bekerja di Perusahaan Terakhir\"\n                      subtitle=\"Contoh: X tahun Y bulan atau Z bulan\"\n                      placeholder=\"0 tahun 0 bulan\"\n                      v-model=\"mData.previous_job.length\" />\n        </div>\n        <div class=\"form-input-container\">\n          <FormInput :required=\"isPreviousJobExist\"\n                      :rules=\"requiredIfPreviousJobExist\"\n                      :custom-messages=\"{required: 'Informasi ini harus diisi'}\"\n                      type=\"number\"\n                      name=\"latest_job_salary\"\n                      title=\"Gaji di Perusahaan Terakhir\"\n                      placeholder=\"Masukkan gaji di perusahaan terakhir\"\n                      v-model=\"mData.previous_job.salary\" />\n        </div>\n      </div>\n    </transition>\n  </ValidationObserver>\n</template>\n\n<script>\nimport { PROFILE_DETAIL_TYPE, PROFILE_DATA_SCHEMA } from './utils'\n\nexport default {\n  components: {\n    FormInput: () => import('@/components/Form/Input'),\n    FormSelect: () => import('@/components/Form/Select')\n  },\n  props: {\n    data: {\n      type: Object\n    }\n  },\n  computed: {\n    mData: {\n      get () {\n        return this.data\n      },\n      set (obj) {\n        this.$emit('change:data', obj)\n      }\n    },\n    isPreviousJobExist () {\n      return this.mData.previous_job.has_previous_job === 'Ya'\n    },\n    requiredIfPreviousJobExist () {\n      return {\n        required: this.isPreviousJobExist\n      }\n    }\n  },\n  methods: {\n    onChangePreviousJobStatus (newValue) {\n      const oldValue = this.mData.previous_job.has_previous_job\n      if (newValue === 'Tidak') {\n        const keys = PROFILE_DATA_SCHEMA[PROFILE_DETAIL_TYPE.PREVIOUS_JOB]\n        const hasSomeValues = keys.some(key => {\n          if (key === 'has_previous_job') return false\n          return this.mData.previous_job[key] !== null\n        })\n        if (oldValue === 'Ya' && hasSomeValues) {\n          this.$swal.fire({\n            title: 'Apa kamu yakin?',\n            text: 'Mengganti opsi ini akan menghapus data yang sudah kamu isikan sebelumnya',\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonText: 'Ya, hapus saja datanya',\n            cancelButtonText: 'Keluar'\n          }).then(({ value }) => {\n            if (value) {\n              keys.forEach(key => {\n                if (key === 'has_previous_job') return\n                this.$set(this.mData.previous_job, key, '')\n              })\n              this.$set(this.mData.previous_job, 'has_previous_job', newValue)\n            }\n          })\n        } else {\n          this.$set(this.mData.previous_job, 'has_previous_job', newValue);\n          ['company', 'salary', 'length', 'position'].forEach(key => {\n            this.$set(this.mData.previous_job, key, '')\n          })\n        }\n      } else {\n        this.$set(this.mData.previous_job, 'has_previous_job', newValue)\n      }\n    }\n  }\n}\n</script>\n"]}]}